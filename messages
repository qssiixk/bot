<!DOCTYPE html><html><head><meta content="User" name="User" /><meta charset="utf-8" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><meta content="width=device-width, initial-scale=1.0" name="viewport" /><title>SaleBot — многофункциональная платформа с аналитикой и CRM для создания чат-ботов, курсов, разработки сайтов и записи клиентов.</title><meta content="SaleBot — платформа, которая поможет вам организовать работу и увеличить прибыль. Сервис позволяет создавать чат-боты, курсы, разрабатывать сайты, а так же осуществлять запись клиентов. Встроенные CRM и аналитика упрощают управление клиентами и автоматизируют бизнес-процессы, что повышает вашу продуктивность." name="description" /><meta content="SaleBot, чатбот, чат-бот, чат бот, конструктор ботов, диалоговый бот, NLP, онлайн-консультант, техническая поддержка, Вконтакте, Вайбер, Фейсбук, Телеграмм, Vk, Viber, Facebook, Telegram, Whatsapp, Вотсап, Avito, Instagram, Инстаграм" name="keywords" /><meta content="SaleBot" property="og:title" /><meta content="SaleBot" property="og:site_name" /><meta content="article" property="og:type" /><meta content="https://SaleBot.pro/" property="og:url" /><meta content="https://salebot.pro/promo.png" property="og:image" /><meta content="SaleBot — платформа, которая поможет вам организовать работу и увеличить прибыль. Сервис позволяет создавать чат-боты, курсы, разрабатывать сайты, а так же осуществлять запись клиентов. Встроенные CRM и аналитика упрощают управление клиентами и автоматизируют бизнес-процессы, что повышает вашу продуктивность." property="og:description" /><link href="https://salebot.pro/promo.png" rel="image_src" /><meta content="FtpeA35s-fj3nwac52x_NPQ1sVruVzb4EdEMJZiBKBt4AuNUxPujsHiU0XBdmBAhR1kWvQVjyAzHkOq9Riy43A" name="csrf-token" /><meta content="summary" name="twitter:card" /><meta content="SaleBot" name="twitter:title" /><meta content="SaleBot - конструктор чат-ботов для ВКонтакте, Telegram, Instagram, Whatsapp, Facebook, Viber, Avito" name="twitter:description" /><meta content="https://salebot.ai/promo.png" name="twitter:image" /><meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="eszgyxCNmeDdVbTsNliLXruIqNylTFIQ5BRL13fIhkAUFF2cqhrDqFJeYwCMrORLCOQPO054rOQyVa1PqWUWhw" /><link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css" media="screen" /><link rel="stylesheet" href="/assets/application-c30c0b759c7e8902adc6cf9bf8a868410c6c6fc09e7b338c67bcca64106fbb42.css" media="all" data-turbolinks-track="true" /><script src="/assets/application-c6f493bbe4d1e3130217424a2a52a8ce733772dd0f35fbd6cd46310600730663.js" data-turbolinks-track="true"></script><link crossorigin="anonymous" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ" rel="stylesheet" /><link href="/favicon.ico" rel="shortcut icon" type="image/x-icon" /><link rel="stylesheet" href="/assets/media-7a537bf843a29087ef0e6e1a99790fef17d5aacb334acfd5af717098397c8ea2.css" media="all" data-turbolinks-track="true" /></head><body><div class="overlay"></div><div id="flash"></div><div class="navbar-fixed"><div class="header-top"><div class="left_menu_arrow_trigger"><svg width="6" height="10" viewBox="0 0 6 10" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M1.33268 1.66666L4.66602 5L1.33268 8.33333" stroke="#374151" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</div><div class="header-top__nav"><div class="mobile-trigger-box"><div class="mobile-trigger-menu"><span></span></div><svg width="62" height="19" viewBox="0 0 62 19" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M0.420066 11.0633C0.319058 10.9322 0.268555 10.7683 0.268555 10.5716C0.268555 10.2874 0.414454 10.047 0.706253 9.85034C0.863377 9.75198 1.02611 9.70277 1.19446 9.70277C1.43014 9.70277 1.6546 9.80663 1.86784 10.0142C2.20453 10.353 2.55244 10.6043 2.91158 10.7683C3.28194 10.9322 3.72524 11.0141 4.2415 11.0141C5.11691 10.9813 5.5546 10.659 5.5546 10.047C5.5546 9.73013 5.40309 9.4897 5.10007 9.32577C4.80827 9.16184 4.34813 8.99791 3.71963 8.83398C3.0687 8.65913 2.53561 8.48434 2.12036 8.30948C1.71632 8.13463 1.3628 7.87234 1.05977 7.52263C0.767979 7.16203 0.62208 6.6812 0.62208 6.08016C0.62208 5.55562 0.773589 5.10211 1.07661 4.71963C1.39085 4.32622 1.79489 4.02571 2.2887 3.81807C2.79374 3.59951 3.32683 3.49023 3.88798 3.49023C4.46036 3.49023 5.03273 3.59405 5.60511 3.80168C6.17748 4.00931 6.6264 4.31529 6.95187 4.71963C7.09777 4.89448 7.17072 5.09118 7.17072 5.30974C7.17072 5.56108 7.06409 5.76871 6.85086 5.93263C6.69374 6.05284 6.51417 6.11294 6.31215 6.11294C6.06524 6.11294 5.86324 6.03645 5.70611 5.88346C5.5041 5.64304 5.24035 5.45181 4.91489 5.30974C4.60064 5.16768 4.2415 5.09664 3.83748 5.09664C2.98452 5.09664 2.55805 5.39716 2.55805 5.9982C2.55805 6.23862 2.63661 6.43532 2.79374 6.58831C2.95086 6.73038 3.14726 6.84512 3.38294 6.93254C3.62985 7.00903 3.97215 7.10739 4.40985 7.2276C5.0159 7.39148 5.52093 7.56091 5.92496 7.73577C6.32899 7.91063 6.67129 8.17834 6.95187 8.53898C7.23244 8.89956 7.37273 9.37491 7.37273 9.96506C7.37273 10.5006 7.21 10.9704 6.88453 11.3748C6.55906 11.7682 6.13819 12.0687 5.62194 12.2763C5.11691 12.4839 4.59503 12.5878 4.05632 12.5878C3.3156 12.5878 2.62539 12.4676 1.98567 12.2271C1.34597 11.9867 0.824093 11.5988 0.420066 11.0633Z" fill="#00339A"/>
<path d="M16.8207 3.49023C17.1126 3.49023 17.3539 3.58312 17.5446 3.7689C17.7354 3.95467 17.8308 4.19508 17.8308 4.49014V11.4239C17.8308 11.7081 17.7354 11.9485 17.5446 12.1452C17.3539 12.331 17.1126 12.4238 16.8207 12.4238C16.529 12.4238 16.2877 12.331 16.0969 12.1452C15.9173 11.9594 15.8219 11.7245 15.8107 11.4403C15.5301 11.7573 15.1485 12.0304 14.6659 12.2599C14.1946 12.4785 13.6951 12.5878 13.1677 12.5878C12.3933 12.5878 11.6918 12.3966 11.0633 12.0141C10.4349 11.6206 9.93545 11.0797 9.56509 10.3913C9.20594 9.70277 9.02637 8.92141 9.02637 8.0472C9.02637 7.17296 9.20594 6.39161 9.56509 5.70315C9.92417 5.00376 10.4124 4.46282 11.0296 4.08034C11.6582 3.68693 12.3484 3.49023 13.1003 3.49023C13.639 3.49023 14.1441 3.58858 14.6154 3.78529C15.0868 3.97106 15.4852 4.21148 15.8107 4.50653V4.49014C15.8107 4.20601 15.9061 3.97106 16.0969 3.78529C16.2877 3.58858 16.529 3.49023 16.8207 3.49023ZM13.4201 10.7846C14.1497 10.7846 14.7445 10.5278 15.2046 10.0142C15.6648 9.4897 15.8948 8.83398 15.8948 8.0472C15.8948 7.26038 15.6648 6.60471 15.2046 6.08016C14.7445 5.55562 14.1497 5.29335 13.4201 5.29335C12.7019 5.29335 12.1127 5.55562 11.6526 6.08016C11.1924 6.60471 10.9623 7.26038 10.9623 8.0472C10.9623 8.83398 11.1868 9.4897 11.6357 10.0142C12.0959 10.5278 12.6907 10.7846 13.4201 10.7846Z" fill="#00339A"/>
<path d="M22.5455 11.4231C22.5455 11.7072 22.4446 11.9476 22.2426 12.1444C22.0517 12.3301 21.8104 12.423 21.5187 12.423C21.2381 12.423 21.0024 12.3301 20.8116 12.1444C20.6208 11.9476 20.5254 11.7072 20.5254 11.4231V1.29288C20.5254 1.00875 20.6208 0.773799 20.8116 0.588023C21.0136 0.39132 21.2605 0.292969 21.5523 0.292969C21.8329 0.292969 22.0686 0.39132 22.2594 0.588023C22.4502 0.773799 22.5455 1.00875 22.5455 1.29288V11.4231Z" fill="#00339A"/>
<path d="M33.1472 7.83413C33.1359 8.09634 33.0293 8.30948 32.8273 8.47341C32.6253 8.63727 32.3896 8.71927 32.1202 8.71927H26.5649C26.6996 9.36398 27.0081 9.8722 27.4908 10.2437C27.9733 10.6043 28.5176 10.7846 29.1237 10.7846C29.5838 10.7846 29.943 10.7464 30.2011 10.6699C30.4592 10.5825 30.6613 10.4951 30.8072 10.4076C30.9643 10.3093 31.0709 10.2437 31.127 10.2109C31.329 10.1126 31.5198 10.0634 31.6994 10.0634C31.935 10.0634 32.1371 10.1453 32.3054 10.3093C32.4738 10.4732 32.558 10.6644 32.558 10.883C32.558 11.1781 32.4008 11.4458 32.0866 11.6862C31.7723 11.9376 31.3515 12.1506 30.824 12.3255C30.2965 12.5003 29.7634 12.5878 29.2247 12.5878C28.282 12.5878 27.4571 12.3966 26.7501 12.0141C26.0542 11.6316 25.5155 11.1071 25.1339 10.4404C24.7523 9.76291 24.5615 9.00341 24.5615 8.16191C24.5615 7.22213 24.7636 6.39707 25.1676 5.68676C25.5716 4.97643 26.1047 4.43551 26.7669 4.06395C27.429 3.68147 28.1361 3.49023 28.888 3.49023C29.6287 3.49023 30.3245 3.68693 30.9755 4.08034C31.6377 4.47375 32.1651 5.00376 32.558 5.67036C32.9507 6.33697 33.1472 7.05821 33.1472 7.83413ZM28.888 5.29335C27.5862 5.29335 26.8174 5.88892 26.5817 7.08007H30.9923V6.96533C30.9475 6.50635 30.7174 6.11294 30.3021 5.78511C29.8869 5.45727 29.4155 5.29335 28.888 5.29335Z" fill="#00339A"/>
<path d="M39.8321 3.4894C40.6065 3.4894 41.3079 3.6861 41.9364 4.07951C42.5649 4.46198 43.0587 4.99746 43.4179 5.68592C43.7882 6.37438 43.9734 7.15573 43.9734 8.02993C43.9734 8.90422 43.7938 9.69101 43.4347 10.3904C43.0756 11.0789 42.5818 11.6198 41.9533 12.0132C41.336 12.3957 40.6514 12.5869 39.8995 12.5869C39.3607 12.5869 38.8501 12.4831 38.3675 12.2755C37.8961 12.0569 37.5034 11.7946 37.1891 11.4886V11.587C37.1891 11.8711 37.0937 12.1116 36.9029 12.3083C36.7121 12.494 36.4708 12.5869 36.179 12.5869C35.8872 12.5869 35.646 12.494 35.4551 12.3083C35.2643 12.1225 35.1689 11.8821 35.1689 11.587V1.29288C35.1689 1.00875 35.2643 0.773799 35.4551 0.588023C35.646 0.39132 35.8872 0.292969 36.179 0.292969C36.4708 0.292969 36.7121 0.39132 36.9029 0.588023C37.0937 0.773799 37.1891 1.00875 37.1891 1.29288V4.71879C37.4585 4.39096 37.8344 4.10683 38.317 3.86641C38.7996 3.61507 39.3046 3.4894 39.8321 3.4894ZM39.5796 10.7838C40.2979 10.7838 40.8871 10.5215 41.3472 9.99701C41.8074 9.47243 42.0374 8.81679 42.0374 8.02993C42.0374 7.24316 41.8074 6.59294 41.3472 6.07933C40.8983 5.55478 40.3091 5.29251 39.5796 5.29251C38.8501 5.29251 38.2553 5.55478 37.7951 6.07933C37.335 6.59294 37.1049 7.24316 37.1049 8.02993C37.1049 8.81679 37.335 9.47243 37.7951 9.99701C38.2553 10.5215 38.8501 10.7838 39.5796 10.7838Z" fill="#00339A"/>
<path d="M54.6473 8.0472C54.6473 8.92141 54.4452 9.70827 54.0412 10.4076C53.6372 11.0961 53.0816 11.6316 52.3745 12.0141C51.6787 12.3966 50.91 12.5878 50.0682 12.5878C49.2153 12.5878 48.4409 12.3966 47.7451 12.0141C47.0493 11.6316 46.4993 11.0961 46.0953 10.4076C45.6912 9.70827 45.4893 8.92141 45.4893 8.0472C45.4893 7.17296 45.6912 6.39161 46.0953 5.70315C46.4993 5.00376 47.0493 4.46282 47.7451 4.08034C48.4409 3.68693 49.2153 3.49023 50.0682 3.49023C50.91 3.49023 51.6787 3.68693 52.3745 4.08034C53.0816 4.46282 53.6372 5.00376 54.0412 5.70315C54.4452 6.39161 54.6473 7.17296 54.6473 8.0472ZM52.6271 8.0472C52.6271 7.5117 52.5092 7.03636 52.2735 6.62109C52.0491 6.19491 51.7405 5.86706 51.3477 5.63758C50.9661 5.40809 50.5396 5.29335 50.0682 5.29335C49.5969 5.29335 49.1648 5.40809 48.772 5.63758C48.3904 5.86706 48.0818 6.19491 47.8461 6.62109C47.6216 7.03636 47.5094 7.5117 47.5094 8.0472C47.5094 8.5827 47.6216 9.05806 47.8461 9.47327C48.0818 9.88856 48.3904 10.2109 48.772 10.4404C49.1648 10.6699 49.5969 10.7846 50.0682 10.7846C50.5396 10.7846 50.9661 10.6699 51.3477 10.4404C51.7405 10.2109 52.0491 9.88856 52.2735 9.47327C52.5092 9.05806 52.6271 8.5827 52.6271 8.0472Z" fill="#00339A"/>
<path d="M61.0151 10.5701C61.1722 10.5701 61.3125 10.6466 61.436 10.7996C61.5707 10.9416 61.6381 11.1328 61.6381 11.3733C61.6381 11.6683 61.4697 11.9196 61.133 12.1273C60.8076 12.324 60.4371 12.4223 60.0219 12.4223C59.3261 12.4223 58.7369 12.2803 58.2543 11.9961C57.7829 11.7011 57.5473 11.0837 57.5473 10.1438V5.61969H56.7729C56.5035 5.61969 56.279 5.53226 56.0994 5.35741C55.9199 5.18257 55.8301 4.96401 55.8301 4.70173C55.8301 4.45039 55.9199 4.24276 56.0994 4.07884C56.279 3.904 56.5035 3.81657 56.7729 3.81657H57.5473V2.76749C57.5473 2.48336 57.6426 2.24841 57.8334 2.06264C58.0354 1.86594 58.2824 1.76758 58.5741 1.76758C58.8547 1.76758 59.0904 1.86594 59.2812 2.06264C59.472 2.24841 59.5674 2.48336 59.5674 2.76749V3.81657H60.7627C61.032 3.81657 61.2564 3.904 61.436 4.07884C61.6156 4.25369 61.7054 4.47225 61.7054 4.73452C61.7054 4.98586 61.6156 5.19896 61.436 5.37381C61.2564 5.53773 61.032 5.61969 60.7627 5.61969H59.5674V10.0619C59.5674 10.2914 59.6291 10.4608 59.7526 10.5701C59.876 10.6684 60.0444 10.7176 60.2576 10.7176C60.3474 10.7176 60.4708 10.6957 60.628 10.652C60.7627 10.5973 60.8917 10.5701 61.0151 10.5701Z" fill="#00339A"/>
<path d="M54.6864 15.0254C55.6156 15.0254 56.3688 15.7589 56.3688 16.6636C56.3688 17.5684 55.6156 18.3019 54.6864 18.3019C53.7572 18.3019 53.0039 17.5684 53.0039 16.6636C53.0039 15.7589 53.7572 15.0254 54.6864 15.0254Z" fill="#FDB954"/>
<path d="M49.9842 15.0254C50.9134 15.0254 51.6667 15.7589 51.6667 16.6636C51.6667 17.5684 50.9134 18.3019 49.9842 18.3019C49.055 18.3019 48.3018 17.5684 48.3018 16.6636C48.3018 15.7589 49.055 15.0254 49.9842 15.0254Z" fill="#FDC571"/>
<path d="M45.0223 15.0254C45.9515 15.0254 46.7048 15.7589 46.7048 16.6636C46.7048 17.5684 45.9515 18.3019 45.0223 18.3019C44.0931 18.3019 43.3398 17.5684 43.3398 16.6636C43.3398 15.7589 44.0931 15.0254 45.0223 15.0254Z" fill="#FED08C"/>
</svg>
</div><div class="desktop_logo header-top__logo big_logo_header" style=""><a data-turbolinks="false" href="/"><div class="header-top__logo-img"><svg width="83" height="26" viewBox="0 0 83 26" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M0.562204 15.2878C0.426984 15.1042 0.359375 14.8747 0.359375 14.5993C0.359375 14.2015 0.554692 13.8649 0.945326 13.5896C1.15567 13.4519 1.37352 13.383 1.59889 13.383C1.9144 13.383 2.21489 13.5284 2.50035 13.819C2.95108 14.2933 3.41684 14.6452 3.89762 14.8747C4.39342 15.1042 4.98688 15.2189 5.678 15.2189C6.84991 15.173 7.43586 14.7217 7.43586 13.8649C7.43586 13.4213 7.23303 13.0847 6.82737 12.8552C6.43674 12.6257 5.82074 12.3962 4.97937 12.1667C4.10796 11.9219 3.3943 11.6772 2.8384 11.4324C2.29752 11.1876 1.82425 10.8204 1.41859 10.3308C1.02796 9.82593 0.832643 9.15277 0.832643 8.31132C0.832643 7.57696 1.03547 6.94204 1.44113 6.40657C1.86181 5.8558 2.40269 5.43508 3.06376 5.14439C3.73986 4.83841 4.45352 4.68542 5.20474 4.68542C5.97098 4.68542 6.73722 4.83076 7.50347 5.12145C8.26971 5.41213 8.87068 5.8405 9.30639 6.40657C9.50171 6.65136 9.59937 6.92674 9.59937 7.23273C9.59937 7.58461 9.45663 7.87529 9.17117 8.10478C8.96083 8.27307 8.72044 8.35721 8.45 8.35721C8.11946 8.35721 7.84903 8.25012 7.63868 8.03593C7.36825 7.69935 7.01517 7.43162 6.57947 7.23273C6.15878 7.03384 5.678 6.93439 5.13713 6.93439C3.99527 6.93439 3.42435 7.35512 3.42435 8.19657C3.42435 8.53316 3.52952 8.80855 3.73986 9.02274C3.9502 9.22163 4.21313 9.38226 4.52864 9.50465C4.85918 9.61174 5.31742 9.74944 5.90337 9.91773C6.71469 10.1472 7.39078 10.3844 7.93166 10.6292C8.47254 10.874 8.93078 11.2488 9.30639 11.7537C9.682 12.2585 9.8698 12.924 9.8698 13.7502C9.8698 14.4999 9.65195 15.1577 9.21624 15.7238C8.78054 16.2746 8.21712 16.6953 7.526 16.986C6.84991 17.2766 6.15127 17.422 5.4301 17.422C4.43849 17.422 3.51449 17.2537 2.6581 16.9171C1.80172 16.5805 1.10308 16.0374 0.562204 15.2878Z" fill="#00339A"/>
<path d="M22.5184 4.68542C22.9091 4.68542 23.2321 4.81546 23.4875 5.07555C23.7429 5.33563 23.8706 5.67221 23.8706 6.08529V15.7926C23.8706 16.1904 23.7429 16.527 23.4875 16.8024C23.2321 17.0625 22.9091 17.1925 22.5184 17.1925C22.1278 17.1925 21.8048 17.0625 21.5494 16.8024C21.309 16.5423 21.1813 16.2134 21.1662 15.8156C20.7906 16.2593 20.2798 16.6417 19.6337 16.963C19.0027 17.269 18.3341 17.422 17.628 17.422C16.5913 17.422 15.6523 17.1543 14.8109 16.6188C13.9696 16.068 13.301 15.3107 12.8052 14.3469C12.3244 13.383 12.084 12.2891 12.084 11.0652C12.084 9.84123 12.3244 8.74734 12.8052 7.7835C13.2859 6.80435 13.9395 6.04704 14.7658 5.51157C15.6072 4.9608 16.5312 4.68542 17.5378 4.68542C18.259 4.68542 18.9351 4.82311 19.5661 5.0985C20.1972 5.35858 20.7305 5.69516 21.1662 6.10824V6.08529C21.1662 5.68751 21.2939 5.35858 21.5494 5.0985C21.8048 4.82311 22.1278 4.68542 22.5184 4.68542ZM17.966 14.8976C18.9426 14.8976 19.7389 14.5381 20.3549 13.819C20.9709 13.0847 21.2789 12.1667 21.2789 11.0652C21.2789 9.96362 20.9709 9.04568 20.3549 8.31132C19.7389 7.57696 18.9426 7.20978 17.966 7.20978C17.0045 7.20978 16.2157 7.57696 15.5997 8.31132C14.9837 9.04568 14.6757 9.96362 14.6757 11.0652C14.6757 12.1667 14.9762 13.0847 15.5772 13.819C16.1932 14.5381 16.9895 14.8976 17.966 14.8976Z" fill="#00339A"/>
<path d="M30.181 15.7926C30.181 16.1904 30.0458 16.527 29.7754 16.8024C29.5199 17.0625 29.1969 17.1925 28.8063 17.1925C28.4307 17.1925 28.1152 17.0625 27.8597 16.8024C27.6043 16.527 27.4766 16.1904 27.4766 15.7926V1.61032C27.4766 1.21254 27.6043 0.883611 27.8597 0.623525C28.1302 0.348141 28.4607 0.210449 28.8514 0.210449C29.227 0.210449 29.5425 0.348141 29.7979 0.623525C30.0533 0.883611 30.181 1.21254 30.181 1.61032V15.7926Z" fill="#00339A"/>
<path d="M44.3746 10.7669C44.3595 11.134 44.2168 11.4324 43.9464 11.6619C43.6759 11.8913 43.3604 12.0061 42.9998 12.0061H35.5628C35.7431 12.9087 36.1562 13.6202 36.8023 14.1403C37.4483 14.6452 38.177 14.8976 38.9883 14.8976C39.6043 14.8976 40.0851 14.8441 40.4307 14.737C40.7762 14.6146 41.0467 14.4922 41.242 14.3698C41.4523 14.2321 41.5951 14.1403 41.6702 14.0944C41.9406 13.9567 42.196 13.8879 42.4364 13.8879C42.7519 13.8879 43.0224 14.0026 43.2477 14.2321C43.4731 14.4616 43.5858 14.7293 43.5858 15.0353C43.5858 15.4484 43.3754 15.8232 42.9548 16.1598C42.5341 16.5117 41.9707 16.81 41.2645 17.0548C40.5584 17.2996 39.8447 17.422 39.1235 17.422C37.8615 17.422 36.7572 17.1543 35.8107 16.6188C34.8792 16.0833 34.158 15.349 33.6472 14.4157C33.1363 13.4672 32.8809 12.4039 32.8809 11.2258C32.8809 9.91008 33.1514 8.75499 33.6922 7.76055C34.2331 6.7661 34.9468 6.0088 35.8332 5.48862C36.7196 4.95315 37.6662 4.68542 38.6728 4.68542C39.6644 4.68542 40.5959 4.9608 41.4674 5.51157C42.3538 6.06234 43.0599 6.80435 43.5858 7.7376C44.1116 8.67085 44.3746 9.68059 44.3746 10.7669ZM38.6728 7.20978C36.93 7.20978 35.9008 8.04358 35.5853 9.71119H41.4899V9.55055C41.4298 8.90798 41.1218 8.35721 40.5659 7.89824C40.01 7.43927 39.379 7.20978 38.6728 7.20978Z" fill="#00339A"/>
<path d="M53.3227 4.68545C54.3594 4.68545 55.2984 4.96083 56.1398 5.5116C56.9812 6.04707 57.6422 6.79673 58.123 7.76058C58.6188 8.72442 58.8667 9.81831 58.8667 11.0422C58.8667 12.2662 58.6263 13.3677 58.1456 14.3469C57.6648 15.3107 57.0037 16.068 56.1624 16.6188C55.336 17.1543 54.4195 17.422 53.4129 17.422C52.6917 17.422 52.0081 17.2766 51.3621 16.986C50.731 16.68 50.2052 16.3128 49.7845 15.8844V16.0221C49.7845 16.4199 49.6568 16.7565 49.4014 17.0319C49.146 17.2919 48.8229 17.422 48.4323 17.422C48.0417 17.422 47.7187 17.2919 47.4632 17.0319C47.2078 16.7718 47.0801 16.4352 47.0801 16.0221V1.61032C47.0801 1.21254 47.2078 0.883611 47.4632 0.623525C47.7187 0.348141 48.0417 0.210449 48.4323 0.210449C48.8229 0.210449 49.146 0.348141 49.4014 0.623525C49.6568 0.883611 49.7845 1.21254 49.7845 1.61032V6.4066C50.1451 5.94763 50.6484 5.54985 51.2944 5.21327C51.9405 4.86139 52.6166 4.68545 53.3227 4.68545ZM52.9847 14.8976C53.9463 14.8976 54.735 14.5304 55.351 13.7961C55.967 13.0617 56.275 12.1438 56.275 11.0422C56.275 9.94071 55.967 9.03041 55.351 8.31135C54.7501 7.57699 53.9613 7.20981 52.9847 7.20981C52.0081 7.20981 51.2118 7.57699 50.5958 8.31135C49.9798 9.03041 49.6718 9.94071 49.6718 11.0422C49.6718 12.1438 49.9798 13.0617 50.5958 13.7961C51.2118 14.5304 52.0081 14.8976 52.9847 14.8976Z" fill="#00339A"/>
<path d="M73.1564 11.0652C73.1564 12.2891 72.8859 13.3907 72.3451 14.3698C71.8042 15.3337 71.0605 16.0833 70.1139 16.6188C69.1824 17.1543 68.1533 17.422 67.0264 17.422C65.8846 17.422 64.8479 17.1543 63.9164 16.6188C62.9849 16.0833 62.2487 15.3337 61.7078 14.3698C61.1669 13.3907 60.8965 12.2891 60.8965 11.0652C60.8965 9.84123 61.1669 8.74734 61.7078 7.7835C62.2487 6.80435 62.9849 6.04704 63.9164 5.51157C64.8479 4.9608 65.8846 4.68542 67.0264 4.68542C68.1533 4.68542 69.1824 4.9608 70.1139 5.51157C71.0605 6.04704 71.8042 6.80435 72.3451 7.7835C72.8859 8.74734 73.1564 9.84123 73.1564 11.0652ZM70.452 11.0652C70.452 10.3155 70.2942 9.64999 69.9787 9.06862C69.6782 8.47196 69.2651 8.01298 68.7392 7.6917C68.2284 7.37042 67.6574 7.20978 67.0264 7.20978C66.3954 7.20978 65.817 7.37042 65.2911 7.6917C64.7803 8.01298 64.3671 8.47196 64.0516 9.06862C63.7511 9.64999 63.6009 10.3155 63.6009 11.0652C63.6009 11.8149 63.7511 12.4804 64.0516 13.0617C64.3671 13.6431 64.7803 14.0944 65.2911 14.4157C65.817 14.737 66.3954 14.8976 67.0264 14.8976C67.6574 14.8976 68.2284 14.737 68.7392 14.4157C69.2651 14.0944 69.6782 13.6431 69.9787 13.0617C70.2942 12.4804 70.452 11.8149 70.452 11.0652Z" fill="#00339A"/>
<path d="M81.6815 14.5993C81.8918 14.5993 82.0796 14.7064 82.2449 14.9206C82.4252 15.1195 82.5154 15.3872 82.5154 15.7238C82.5154 16.1369 82.29 16.4887 81.8393 16.7794C81.4036 17.0548 80.9077 17.1925 80.3518 17.1925C79.4203 17.1925 78.6316 16.9936 77.9855 16.5958C77.3545 16.1828 77.039 15.3184 77.039 14.0026V7.66877H76.0023C75.6417 7.66877 75.3412 7.54638 75.1008 7.30159C74.8604 7.05681 74.7402 6.75082 74.7402 6.38364C74.7402 6.03176 74.8604 5.74108 75.1008 5.51159C75.3412 5.26681 75.6417 5.14441 76.0023 5.14441H77.039V3.67569C77.039 3.27792 77.1667 2.94899 77.4221 2.6889C77.6925 2.41352 78.0231 2.27582 78.4137 2.27582C78.7893 2.27582 79.1048 2.41352 79.3602 2.6889C79.6157 2.94899 79.7434 3.27792 79.7434 3.67569V5.14441H81.3435C81.704 5.14441 82.0045 5.26681 82.2449 5.51159C82.4853 5.75638 82.6055 6.06236 82.6055 6.42954C82.6055 6.78142 82.4853 7.07976 82.2449 7.32454C82.0045 7.55403 81.704 7.66877 81.3435 7.66877H79.7434V13.8879C79.7434 14.2092 79.826 14.4463 79.9913 14.5993C80.1565 14.737 80.3819 14.8058 80.6674 14.8058C80.7876 14.8058 80.9528 14.7752 81.1632 14.714C81.3435 14.6375 81.5162 14.5993 81.6815 14.5993Z" fill="#00339A"/>
<path d="M73.2094 20.8351C74.4533 20.8351 75.4617 21.8619 75.4617 23.1286C75.4617 24.3953 74.4533 25.4221 73.2094 25.4221C71.9654 25.4221 70.957 24.3953 70.957 23.1286C70.957 21.8619 71.9654 20.8351 73.2094 20.8351Z" fill="#FDB954"/>
<path d="M66.9144 20.8351C68.1584 20.8351 69.1668 21.8619 69.1668 23.1286C69.1668 24.3953 68.1584 25.4221 66.9144 25.4221C65.6705 25.4221 64.6621 24.3953 64.6621 23.1286C64.6621 21.8619 65.6705 20.8351 66.9144 20.8351Z" fill="#FDC571"/>
<path d="M60.2719 20.8351C61.5158 20.8351 62.5242 21.8619 62.5242 23.1286C62.5242 24.3953 61.5158 25.4221 60.2719 25.4221C59.0279 25.4221 58.0195 24.3953 58.0195 23.1286C58.0195 21.8619 59.0279 20.8351 60.2719 20.8351Z" fill="#FED08C"/>
</svg>
</div></a></div><div class="desktop_logo header-top__logo small_logo_header"><a data-turbolinks="false" href="/"><div class="header-top__logo-img"><svg width="51" height="17" viewBox="0 0 51 17" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M0.345333 9.93586C0.262246 9.82305 0.220703 9.68203 0.220703 9.51281C0.220703 9.26838 0.340717 9.06155 0.580745 8.89239C0.709992 8.80778 0.843852 8.76544 0.982332 8.76544C1.1762 8.76544 1.36084 8.85479 1.53624 9.03335C1.8132 9.32478 2.09939 9.54101 2.3948 9.68203C2.69945 9.82305 3.06411 9.89353 3.48877 9.89353C4.20886 9.86532 4.5689 9.58802 4.5689 9.06155C4.5689 8.78898 4.44427 8.58215 4.19501 8.44113C3.95499 8.30011 3.57648 8.1591 3.05949 8.01808C2.52405 7.86766 2.08554 7.7173 1.74396 7.56688C1.41161 7.41646 1.12081 7.19083 0.871545 6.89C0.63152 6.57979 0.511506 6.16616 0.511506 5.64913C0.511506 5.19789 0.636134 4.80776 0.885395 4.47874C1.14389 4.14031 1.47623 3.8818 1.88243 3.70318C2.29787 3.51517 2.73638 3.42117 3.19797 3.42117C3.6688 3.42117 4.13962 3.51047 4.61045 3.68909C5.08127 3.8677 5.45054 4.13091 5.71827 4.47874C5.83828 4.62915 5.89829 4.79836 5.89829 4.98638C5.89829 5.2026 5.81058 5.38121 5.63518 5.52222C5.50593 5.62562 5.35822 5.67733 5.19205 5.67733C4.98895 5.67733 4.82278 5.61152 4.69353 5.47991C4.52736 5.2731 4.31041 5.10859 4.04269 4.98638C3.78419 4.86417 3.48877 4.80306 3.15643 4.80306C2.45481 4.80306 2.104 5.06158 2.104 5.57862C2.104 5.78544 2.16862 5.95465 2.29787 6.08626C2.42711 6.20847 2.58867 6.30718 2.78254 6.38238C2.98564 6.44818 3.26721 6.53279 3.62725 6.6362C4.12578 6.77718 4.5412 6.92293 4.87355 7.07335C5.2059 7.22377 5.48747 7.45407 5.71827 7.76431C5.94906 8.07449 6.06446 8.48341 6.06446 8.99107C6.06446 9.45173 5.9306 9.85592 5.66287 10.2038C5.39515 10.5422 5.04895 10.8007 4.62429 10.9793C4.20886 11.1579 3.77958 11.2472 3.33645 11.2472C2.72715 11.2472 2.15939 11.1438 1.63317 10.937C1.10696 10.7302 0.677678 10.3965 0.345333 9.93586Z" fill="white"/>
<path d="M13.8353 3.42117C14.0754 3.42117 14.2739 3.50107 14.4308 3.66088C14.5877 3.82069 14.6662 4.02751 14.6662 4.28133V10.246C14.6662 10.4905 14.5877 10.6973 14.4308 10.8665C14.2739 11.0263 14.0754 11.1062 13.8353 11.1062C13.5953 11.1062 13.3969 11.0263 13.2399 10.8665C13.0922 10.7067 13.0137 10.5046 13.0045 10.2602C12.7737 10.5328 12.4598 10.7678 12.0628 10.9652C11.6751 11.1532 11.2643 11.2472 10.8304 11.2472C10.1934 11.2472 9.6164 11.0827 9.09939 10.7537C8.58245 10.4153 8.17162 9.94993 7.86698 9.35772C7.57154 8.76544 7.42383 8.09329 7.42383 7.34125C7.42383 6.58919 7.57154 5.91704 7.86698 5.32481C8.16234 4.72316 8.56395 4.25782 9.07168 3.9288C9.58869 3.59037 10.1564 3.42117 10.775 3.42117C11.2181 3.42117 11.6335 3.50577 12.0213 3.67499C12.409 3.83479 12.7367 4.04161 13.0045 4.29543V4.28133C13.0045 4.03691 13.0829 3.83479 13.2399 3.67499C13.3969 3.50577 13.5953 3.42117 13.8353 3.42117ZM11.0381 9.6961C11.6381 9.6961 12.1274 9.4752 12.5059 9.03335C12.8845 8.58215 13.0737 8.01808 13.0737 7.34125C13.0737 6.6644 12.8845 6.10036 12.5059 5.64913C12.1274 5.19789 11.6381 4.97228 11.0381 4.97228C10.4473 4.97228 9.96258 5.19789 9.58408 5.64913C9.20557 6.10036 9.01632 6.6644 9.01632 7.34125C9.01632 8.01808 9.20096 8.58215 9.57025 9.03335C9.94876 9.4752 10.4381 9.6961 11.0381 9.6961Z" fill="white"/>
<path d="M18.5446 10.2461C18.5446 10.4905 18.4615 10.6973 18.2953 10.8665C18.1383 11.0264 17.9399 11.1062 17.6999 11.1062C17.4691 11.1062 17.2752 11.0264 17.1182 10.8665C16.9613 10.6973 16.8828 10.4905 16.8828 10.2461V1.53164C16.8828 1.28722 16.9613 1.08511 17.1182 0.925296C17.2844 0.756084 17.4875 0.671478 17.7276 0.671478C17.9584 0.671478 18.1522 0.756084 18.3092 0.925296C18.4661 1.08511 18.5446 1.28722 18.5446 1.53164V10.2461Z" fill="white"/>
<path d="M27.2655 7.15796C27.2562 7.38353 27.1686 7.56688 27.0024 7.7079C26.8362 7.84886 26.6423 7.9194 26.4208 7.9194H21.851C21.9618 8.47401 22.2157 8.91119 22.6127 9.23077C23.0096 9.54101 23.4574 9.6961 23.9559 9.6961C24.3344 9.6961 24.6298 9.66323 24.8422 9.59742C25.0545 9.52221 25.2207 9.447 25.3407 9.37179C25.4699 9.28718 25.5576 9.23077 25.6038 9.20257C25.7699 9.11796 25.9269 9.07568 26.0746 9.07568C26.2684 9.07568 26.4347 9.14616 26.5731 9.28718C26.7116 9.4282 26.7808 9.59269 26.7808 9.78071C26.7808 10.0345 26.6516 10.2648 26.3931 10.4717C26.1346 10.6879 25.7884 10.8712 25.3545 11.0216C24.9206 11.172 24.4821 11.2472 24.0389 11.2472C23.2635 11.2472 22.5849 11.0827 22.0034 10.7537C21.431 10.4247 20.9878 9.97347 20.674 9.39999C20.3601 8.81718 20.2031 8.16383 20.2031 7.43993C20.2031 6.6315 20.3693 5.92174 20.7016 5.3107C21.034 4.69966 21.4725 4.23433 22.0172 3.9147C22.5618 3.58567 23.1435 3.42117 23.762 3.42117C24.3713 3.42117 24.9437 3.59037 25.4792 3.9288C26.0238 4.26722 26.4577 4.72316 26.7808 5.2966C27.1039 5.87004 27.2655 6.49049 27.2655 7.15796ZM23.762 4.97228C22.6911 4.97228 22.0587 5.48461 21.8649 6.50929H25.493V6.41058C25.4561 6.01575 25.2668 5.67733 24.9252 5.39531C24.5837 5.11329 24.1959 4.97228 23.762 4.97228Z" fill="white"/>
<path d="M32.7655 3.42118C33.4025 3.42118 33.9795 3.59039 34.4965 3.92881C35.0135 4.25784 35.4197 4.71847 35.7151 5.31071C36.0197 5.90295 36.1721 6.5751 36.1721 7.32713C36.1721 8.07923 36.0243 8.75605 35.729 9.35773C35.4335 9.94994 35.0273 10.4153 34.5104 10.7537C34.0026 11.0828 33.4394 11.2473 32.8209 11.2473C32.3778 11.2473 31.9577 11.1579 31.5608 10.9793C31.173 10.7913 30.8499 10.5657 30.5914 10.3025V10.3871C30.5914 10.6315 30.513 10.8383 30.356 11.0076C30.1991 11.1673 30.0006 11.2473 29.7606 11.2473C29.5206 11.2473 29.3221 11.1673 29.1651 11.0076C29.0082 10.8477 28.9297 10.6409 28.9297 10.3871V1.53164C28.9297 1.28722 29.0082 1.08511 29.1651 0.925296C29.3221 0.756084 29.5206 0.671478 29.7606 0.671478C30.0006 0.671478 30.1991 0.756084 30.356 0.925296C30.513 1.08511 30.5914 1.28722 30.5914 1.53164V4.47875C30.813 4.19673 31.1223 3.95231 31.5192 3.7455C31.9162 3.52929 32.3316 3.42118 32.7655 3.42118ZM32.5578 9.69611C33.1487 9.69611 33.6333 9.47048 34.0118 9.01929C34.3903 8.56803 34.5796 8.00402 34.5796 7.32713C34.5796 6.65031 34.3903 6.09097 34.0118 5.64914C33.6426 5.19791 33.1579 4.97229 32.5578 4.97229C31.9577 4.97229 31.4684 5.19791 31.0899 5.64914C30.7114 6.09097 30.5222 6.65031 30.5222 7.32713C30.5222 8.00402 30.7114 8.56803 31.0899 9.01929C31.4684 9.47048 31.9577 9.69611 32.5578 9.69611Z" fill="white"/>
<path d="M44.9512 7.34125C44.9512 8.09329 44.7849 8.77017 44.4526 9.37179C44.1203 9.96407 43.6633 10.4247 43.0817 10.7537C42.5093 11.0827 41.877 11.2472 41.1845 11.2472C40.4829 11.2472 39.8459 11.0827 39.2736 10.7537C38.7012 10.4247 38.2488 9.96407 37.9165 9.37179C37.5841 8.77017 37.418 8.09329 37.418 7.34125C37.418 6.58919 37.5841 5.91704 37.9165 5.32481C38.2488 4.72316 38.7012 4.25782 39.2736 3.9288C39.8459 3.59037 40.4829 3.42117 41.1845 3.42117C41.877 3.42117 42.5093 3.59037 43.0817 3.9288C43.6633 4.25782 44.1203 4.72316 44.4526 5.32481C44.7849 5.91704 44.9512 6.58919 44.9512 7.34125ZM43.2894 7.34125C43.2894 6.88059 43.1925 6.47168 42.9986 6.11446C42.814 5.74783 42.5601 5.46581 42.237 5.2684C41.9231 5.07098 41.5723 4.97228 41.1845 4.97228C40.7968 4.97228 40.4414 5.07098 40.1183 5.2684C39.8044 5.46581 39.5505 5.74783 39.3566 6.11446C39.172 6.47168 39.0797 6.88059 39.0797 7.34125C39.0797 7.80191 39.172 8.21083 39.3566 8.56802C39.5505 8.92526 39.8044 9.20257 40.1183 9.39999C40.4414 9.59742 40.7968 9.6961 41.1845 9.6961C41.5723 9.6961 41.9231 9.59742 42.237 9.39999C42.5601 9.20257 42.814 8.92526 42.9986 8.56802C43.1925 8.21083 43.2894 7.80191 43.2894 7.34125Z" fill="white"/>
<path d="M50.189 9.51281C50.3182 9.51281 50.4336 9.57862 50.5352 9.71024C50.6459 9.83245 50.7014 9.99694 50.7014 10.2038C50.7014 10.4576 50.5629 10.6738 50.2859 10.8524C50.0182 11.0216 49.7135 11.1062 49.3719 11.1062C48.7996 11.1062 48.3149 10.984 47.9179 10.7396C47.5302 10.4858 47.3363 9.95467 47.3363 9.14616V5.2543H46.6993C46.4778 5.2543 46.2931 5.1791 46.1454 5.02868C45.9977 4.87828 45.9238 4.69026 45.9238 4.46464C45.9238 4.24843 45.9977 4.06982 46.1454 3.9288C46.2931 3.7784 46.4778 3.70319 46.6993 3.70319H47.3363V2.80072C47.3363 2.55631 47.4148 2.35419 47.5717 2.19438C47.7379 2.02517 47.941 1.94056 48.181 1.94056C48.4118 1.94056 48.6057 2.02517 48.7626 2.19438C48.9196 2.35419 48.9981 2.55631 48.9981 2.80072V3.70319H49.9813C50.2028 3.70319 50.3874 3.7784 50.5352 3.9288C50.6829 4.07922 50.7567 4.26723 50.7567 4.49284C50.7567 4.70906 50.6829 4.89238 50.5352 5.04278C50.3874 5.1838 50.2028 5.2543 49.9813 5.2543H48.9981V9.07569C48.9981 9.27311 49.0488 9.4188 49.1504 9.51281C49.2519 9.59742 49.3904 9.6397 49.5658 9.6397C49.6397 9.6397 49.7412 9.62089 49.8705 9.58329C49.9813 9.53628 50.0874 9.51281 50.189 9.51281Z" fill="white"/>
<path d="M44.9836 13.3445C45.7479 13.3445 46.3675 13.9754 46.3675 14.7537C46.3675 15.5321 45.7479 16.163 44.9836 16.163C44.2192 16.163 43.5996 15.5321 43.5996 14.7537C43.5996 13.9754 44.2192 13.3445 44.9836 13.3445Z" fill="#FDB954"/>
<path d="M41.1164 13.3445C41.8807 13.3445 42.5003 13.9754 42.5003 14.7537C42.5003 15.5321 41.8807 16.163 41.1164 16.163C40.352 16.163 39.7324 15.5321 39.7324 14.7537C39.7324 13.9754 40.352 13.3445 41.1164 13.3445Z" fill="#FDC571"/>
<path d="M37.0344 13.3445C37.7987 13.3445 38.4183 13.9754 38.4183 14.7537C38.4183 15.5321 37.7987 16.163 37.0344 16.163C36.27 16.163 35.6504 15.5321 35.6504 14.7537C35.6504 13.9754 36.27 13.3445 37.0344 13.3445Z" fill="#FED08C"/>
</svg>
</div></a></div><div class="mobile_logo"><svg width="51" height="17" viewBox="0 0 51 17" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M0.345333 9.93586C0.262246 9.82305 0.220703 9.68203 0.220703 9.51281C0.220703 9.26838 0.340717 9.06155 0.580745 8.89239C0.709992 8.80778 0.843852 8.76544 0.982332 8.76544C1.1762 8.76544 1.36084 8.85479 1.53624 9.03335C1.8132 9.32478 2.09939 9.54101 2.3948 9.68203C2.69945 9.82305 3.06411 9.89353 3.48877 9.89353C4.20886 9.86532 4.5689 9.58802 4.5689 9.06155C4.5689 8.78898 4.44427 8.58215 4.19501 8.44113C3.95499 8.30011 3.57648 8.1591 3.05949 8.01808C2.52405 7.86766 2.08554 7.7173 1.74396 7.56688C1.41161 7.41646 1.12081 7.19083 0.871545 6.89C0.63152 6.57979 0.511506 6.16616 0.511506 5.64913C0.511506 5.19789 0.636134 4.80776 0.885395 4.47874C1.14389 4.14031 1.47623 3.8818 1.88243 3.70318C2.29787 3.51517 2.73638 3.42117 3.19797 3.42117C3.6688 3.42117 4.13962 3.51047 4.61045 3.68909C5.08127 3.8677 5.45054 4.13091 5.71827 4.47874C5.83828 4.62915 5.89829 4.79836 5.89829 4.98638C5.89829 5.2026 5.81058 5.38121 5.63518 5.52222C5.50593 5.62562 5.35822 5.67733 5.19205 5.67733C4.98895 5.67733 4.82278 5.61152 4.69353 5.47991C4.52736 5.2731 4.31041 5.10859 4.04269 4.98638C3.78419 4.86417 3.48877 4.80306 3.15643 4.80306C2.45481 4.80306 2.104 5.06158 2.104 5.57862C2.104 5.78544 2.16862 5.95465 2.29787 6.08626C2.42711 6.20847 2.58867 6.30718 2.78254 6.38238C2.98564 6.44818 3.26721 6.53279 3.62725 6.6362C4.12578 6.77718 4.5412 6.92293 4.87355 7.07335C5.2059 7.22377 5.48747 7.45407 5.71827 7.76431C5.94906 8.07449 6.06446 8.48341 6.06446 8.99107C6.06446 9.45173 5.9306 9.85592 5.66287 10.2038C5.39515 10.5422 5.04895 10.8007 4.62429 10.9793C4.20886 11.1579 3.77958 11.2472 3.33645 11.2472C2.72715 11.2472 2.15939 11.1438 1.63317 10.937C1.10696 10.7302 0.677678 10.3965 0.345333 9.93586Z" fill="white"/>
<path d="M13.8353 3.42117C14.0754 3.42117 14.2739 3.50107 14.4308 3.66088C14.5877 3.82069 14.6662 4.02751 14.6662 4.28133V10.246C14.6662 10.4905 14.5877 10.6973 14.4308 10.8665C14.2739 11.0263 14.0754 11.1062 13.8353 11.1062C13.5953 11.1062 13.3969 11.0263 13.2399 10.8665C13.0922 10.7067 13.0137 10.5046 13.0045 10.2602C12.7737 10.5328 12.4598 10.7678 12.0628 10.9652C11.6751 11.1532 11.2643 11.2472 10.8304 11.2472C10.1934 11.2472 9.6164 11.0827 9.09939 10.7537C8.58245 10.4153 8.17162 9.94993 7.86698 9.35772C7.57154 8.76544 7.42383 8.09329 7.42383 7.34125C7.42383 6.58919 7.57154 5.91704 7.86698 5.32481C8.16234 4.72316 8.56395 4.25782 9.07168 3.9288C9.58869 3.59037 10.1564 3.42117 10.775 3.42117C11.2181 3.42117 11.6335 3.50577 12.0213 3.67499C12.409 3.83479 12.7367 4.04161 13.0045 4.29543V4.28133C13.0045 4.03691 13.0829 3.83479 13.2399 3.67499C13.3969 3.50577 13.5953 3.42117 13.8353 3.42117ZM11.0381 9.6961C11.6381 9.6961 12.1274 9.4752 12.5059 9.03335C12.8845 8.58215 13.0737 8.01808 13.0737 7.34125C13.0737 6.6644 12.8845 6.10036 12.5059 5.64913C12.1274 5.19789 11.6381 4.97228 11.0381 4.97228C10.4473 4.97228 9.96258 5.19789 9.58408 5.64913C9.20557 6.10036 9.01632 6.6644 9.01632 7.34125C9.01632 8.01808 9.20096 8.58215 9.57025 9.03335C9.94876 9.4752 10.4381 9.6961 11.0381 9.6961Z" fill="white"/>
<path d="M18.5446 10.2461C18.5446 10.4905 18.4615 10.6973 18.2953 10.8665C18.1383 11.0264 17.9399 11.1062 17.6999 11.1062C17.4691 11.1062 17.2752 11.0264 17.1182 10.8665C16.9613 10.6973 16.8828 10.4905 16.8828 10.2461V1.53164C16.8828 1.28722 16.9613 1.08511 17.1182 0.925296C17.2844 0.756084 17.4875 0.671478 17.7276 0.671478C17.9584 0.671478 18.1522 0.756084 18.3092 0.925296C18.4661 1.08511 18.5446 1.28722 18.5446 1.53164V10.2461Z" fill="white"/>
<path d="M27.2655 7.15796C27.2562 7.38353 27.1686 7.56688 27.0024 7.7079C26.8362 7.84886 26.6423 7.9194 26.4208 7.9194H21.851C21.9618 8.47401 22.2157 8.91119 22.6127 9.23077C23.0096 9.54101 23.4574 9.6961 23.9559 9.6961C24.3344 9.6961 24.6298 9.66323 24.8422 9.59742C25.0545 9.52221 25.2207 9.447 25.3407 9.37179C25.4699 9.28718 25.5576 9.23077 25.6038 9.20257C25.7699 9.11796 25.9269 9.07568 26.0746 9.07568C26.2684 9.07568 26.4347 9.14616 26.5731 9.28718C26.7116 9.4282 26.7808 9.59269 26.7808 9.78071C26.7808 10.0345 26.6516 10.2648 26.3931 10.4717C26.1346 10.6879 25.7884 10.8712 25.3545 11.0216C24.9206 11.172 24.4821 11.2472 24.0389 11.2472C23.2635 11.2472 22.5849 11.0827 22.0034 10.7537C21.431 10.4247 20.9878 9.97347 20.674 9.39999C20.3601 8.81718 20.2031 8.16383 20.2031 7.43993C20.2031 6.6315 20.3693 5.92174 20.7016 5.3107C21.034 4.69966 21.4725 4.23433 22.0172 3.9147C22.5618 3.58567 23.1435 3.42117 23.762 3.42117C24.3713 3.42117 24.9437 3.59037 25.4792 3.9288C26.0238 4.26722 26.4577 4.72316 26.7808 5.2966C27.1039 5.87004 27.2655 6.49049 27.2655 7.15796ZM23.762 4.97228C22.6911 4.97228 22.0587 5.48461 21.8649 6.50929H25.493V6.41058C25.4561 6.01575 25.2668 5.67733 24.9252 5.39531C24.5837 5.11329 24.1959 4.97228 23.762 4.97228Z" fill="white"/>
<path d="M32.7655 3.42118C33.4025 3.42118 33.9795 3.59039 34.4965 3.92881C35.0135 4.25784 35.4197 4.71847 35.7151 5.31071C36.0197 5.90295 36.1721 6.5751 36.1721 7.32713C36.1721 8.07923 36.0243 8.75605 35.729 9.35773C35.4335 9.94994 35.0273 10.4153 34.5104 10.7537C34.0026 11.0828 33.4394 11.2473 32.8209 11.2473C32.3778 11.2473 31.9577 11.1579 31.5608 10.9793C31.173 10.7913 30.8499 10.5657 30.5914 10.3025V10.3871C30.5914 10.6315 30.513 10.8383 30.356 11.0076C30.1991 11.1673 30.0006 11.2473 29.7606 11.2473C29.5206 11.2473 29.3221 11.1673 29.1651 11.0076C29.0082 10.8477 28.9297 10.6409 28.9297 10.3871V1.53164C28.9297 1.28722 29.0082 1.08511 29.1651 0.925296C29.3221 0.756084 29.5206 0.671478 29.7606 0.671478C30.0006 0.671478 30.1991 0.756084 30.356 0.925296C30.513 1.08511 30.5914 1.28722 30.5914 1.53164V4.47875C30.813 4.19673 31.1223 3.95231 31.5192 3.7455C31.9162 3.52929 32.3316 3.42118 32.7655 3.42118ZM32.5578 9.69611C33.1487 9.69611 33.6333 9.47048 34.0118 9.01929C34.3903 8.56803 34.5796 8.00402 34.5796 7.32713C34.5796 6.65031 34.3903 6.09097 34.0118 5.64914C33.6426 5.19791 33.1579 4.97229 32.5578 4.97229C31.9577 4.97229 31.4684 5.19791 31.0899 5.64914C30.7114 6.09097 30.5222 6.65031 30.5222 7.32713C30.5222 8.00402 30.7114 8.56803 31.0899 9.01929C31.4684 9.47048 31.9577 9.69611 32.5578 9.69611Z" fill="white"/>
<path d="M44.9512 7.34125C44.9512 8.09329 44.7849 8.77017 44.4526 9.37179C44.1203 9.96407 43.6633 10.4247 43.0817 10.7537C42.5093 11.0827 41.877 11.2472 41.1845 11.2472C40.4829 11.2472 39.8459 11.0827 39.2736 10.7537C38.7012 10.4247 38.2488 9.96407 37.9165 9.37179C37.5841 8.77017 37.418 8.09329 37.418 7.34125C37.418 6.58919 37.5841 5.91704 37.9165 5.32481C38.2488 4.72316 38.7012 4.25782 39.2736 3.9288C39.8459 3.59037 40.4829 3.42117 41.1845 3.42117C41.877 3.42117 42.5093 3.59037 43.0817 3.9288C43.6633 4.25782 44.1203 4.72316 44.4526 5.32481C44.7849 5.91704 44.9512 6.58919 44.9512 7.34125ZM43.2894 7.34125C43.2894 6.88059 43.1925 6.47168 42.9986 6.11446C42.814 5.74783 42.5601 5.46581 42.237 5.2684C41.9231 5.07098 41.5723 4.97228 41.1845 4.97228C40.7968 4.97228 40.4414 5.07098 40.1183 5.2684C39.8044 5.46581 39.5505 5.74783 39.3566 6.11446C39.172 6.47168 39.0797 6.88059 39.0797 7.34125C39.0797 7.80191 39.172 8.21083 39.3566 8.56802C39.5505 8.92526 39.8044 9.20257 40.1183 9.39999C40.4414 9.59742 40.7968 9.6961 41.1845 9.6961C41.5723 9.6961 41.9231 9.59742 42.237 9.39999C42.5601 9.20257 42.814 8.92526 42.9986 8.56802C43.1925 8.21083 43.2894 7.80191 43.2894 7.34125Z" fill="white"/>
<path d="M50.189 9.51281C50.3182 9.51281 50.4336 9.57862 50.5352 9.71024C50.6459 9.83245 50.7014 9.99694 50.7014 10.2038C50.7014 10.4576 50.5629 10.6738 50.2859 10.8524C50.0182 11.0216 49.7135 11.1062 49.3719 11.1062C48.7996 11.1062 48.3149 10.984 47.9179 10.7396C47.5302 10.4858 47.3363 9.95467 47.3363 9.14616V5.2543H46.6993C46.4778 5.2543 46.2931 5.1791 46.1454 5.02868C45.9977 4.87828 45.9238 4.69026 45.9238 4.46464C45.9238 4.24843 45.9977 4.06982 46.1454 3.9288C46.2931 3.7784 46.4778 3.70319 46.6993 3.70319H47.3363V2.80072C47.3363 2.55631 47.4148 2.35419 47.5717 2.19438C47.7379 2.02517 47.941 1.94056 48.181 1.94056C48.4118 1.94056 48.6057 2.02517 48.7626 2.19438C48.9196 2.35419 48.9981 2.55631 48.9981 2.80072V3.70319H49.9813C50.2028 3.70319 50.3874 3.7784 50.5352 3.9288C50.6829 4.07922 50.7567 4.26723 50.7567 4.49284C50.7567 4.70906 50.6829 4.89238 50.5352 5.04278C50.3874 5.1838 50.2028 5.2543 49.9813 5.2543H48.9981V9.07569C48.9981 9.27311 49.0488 9.4188 49.1504 9.51281C49.2519 9.59742 49.3904 9.6397 49.5658 9.6397C49.6397 9.6397 49.7412 9.62089 49.8705 9.58329C49.9813 9.53628 50.0874 9.51281 50.189 9.51281Z" fill="white"/>
<path d="M44.9836 13.3445C45.7479 13.3445 46.3675 13.9754 46.3675 14.7537C46.3675 15.5321 45.7479 16.163 44.9836 16.163C44.2192 16.163 43.5996 15.5321 43.5996 14.7537C43.5996 13.9754 44.2192 13.3445 44.9836 13.3445Z" fill="#FDB954"/>
<path d="M41.1164 13.3445C41.8807 13.3445 42.5003 13.9754 42.5003 14.7537C42.5003 15.5321 41.8807 16.163 41.1164 16.163C40.352 16.163 39.7324 15.5321 39.7324 14.7537C39.7324 13.9754 40.352 13.3445 41.1164 13.3445Z" fill="#FDC571"/>
<path d="M37.0344 13.3445C37.7987 13.3445 38.4183 13.9754 38.4183 14.7537C38.4183 15.5321 37.7987 16.163 37.0344 16.163C36.27 16.163 35.6504 15.5321 35.6504 14.7537C35.6504 13.9754 36.27 13.3445 37.0344 13.3445Z" fill="#FED08C"/>
</svg>
</div><ul class="header-top__menu"><li class="header-top__menu-item header-top__menu-item--case hide_on_small"><a class="menu_action article_item" target="_blank" href="https://cases.salebot.pro/">Кейсы</a></li><li class="header-top__menu-item header-top__menu-item--instruction hide_on_small tooltiped" data-tooltip="Документация" data-tooltip-position="top"><a class="menu_action article_item how_work" target="_blank" href="https://docs.salebot.pro/">Инструкция по созданию ботов</a></li><div class="header-top__menu-item header-top__menu-item--onboarding"><div class="onboarding-scenarios"><div class="onboarding-scenarios__btn tooltiped" data-tooltip="Пройдите краткий экскурс по разделам и узнайте новое!" data-tooltip-position="top"><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path class="lamp-on" d="M6.91647 15.0333V14.0666C4.9998 12.9083 3.4248 10.6499 3.4248 8.24994C3.4248 4.12494 7.21647 0.891609 11.4998 1.82494C13.3831 2.24161 15.0331 3.49161 15.8915 5.21661C17.6331 8.71661 15.7998 12.4333 13.1081 14.0583V15.0249C13.1081 15.2666 13.1998 15.8249 12.3081 15.8249H7.71647C6.7998 15.8333 6.91647 15.4749 6.91647 15.0333Z" stroke="#F59E0B" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
  <path d="M7.08301 18.3334C8.99134 17.7917 11.008 17.7917 12.9163 18.3334" stroke="#F59E0B" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</div><div class="onboarding-scenarios__list context-menu"><a class="onboarding-scenarios__item" href="/projects/569981/messages?script_name=welcome&amp;script_step=0">Знакомство</a><a class="onboarding-scenarios__item" href="/projects/569981/messages?script_name=chat_bot_welcome&amp;script_step=0">Чат-бот</a><a class="onboarding-scenarios__item" href="/projects/569981/lists?script_name=lists_welcome&amp;script_step=0">Списки</a><a class="onboarding-scenarios__item" href="/projects/569981/pipelines?script_name=crm_welcome&amp;script_step=0">CRM</a><a class="onboarding-scenarios__item" href="/projects/569981/tasks?script_name=tasks_welcome&amp;script_step=0">Задачи</a></div></div></div><div class="notice__popup-box mr-16"><a class="notice__item-icon" data-remote="true" href="/notices/show_notice_popup?project_id=569981"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M14.0244 20H10.6665M17.5922 9.33333C17.5922 6.38827 15.2427 4 12.3454 4C9.44818 4 7.0987 6.38827 7.0987 9.33333V12.0043C7.0987 12.3499 6.90666 12.6645 6.6034 12.8192L6.07558 13.0869C5.41659 13.4229 5 14.1077 5 14.8565C5 15.9488 5.87096 16.8341 6.94549 16.8341H17.7454C18.8199 16.8341 19.6909 15.9488 19.6909 14.8565C19.6909 14.1077 19.2743 13.4229 18.6153 13.088L18.0875 12.8203C17.7842 12.6645 17.5922 12.3499 17.5922 12.0043V9.33333Z" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</a><div class="notice__popup notice-project pos-relative"></div></div><div class="homepage-fav-icon tooltipped" data-tooltip="Выбрать стартовой страницей проекта" data-tooltip-position="top"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M4.30499 12.518C3.98486 12.6833 3.59758 12.6542 3.30637 12.4429C3.01516 12.2317 2.87068 11.875 2.93381 11.5232L3.44477 8.62577L1.29357 6.58624C1.03063 6.33815 0.934262 5.96314 1.04552 5.62094C1.15678 5.27873 1.45607 5.02963 1.8159 4.97974L4.80269 4.55733L6.15113 1.89608C6.31101 1.57692 6.63994 1.375 6.99999 1.375C7.36003 1.375 7.68896 1.57692 7.84884 1.89608L9.19728 4.55733L12.1841 4.97974C12.5439 5.02963 12.8432 5.27873 12.9544 5.62094C13.0657 5.96314 12.9693 6.33815 12.7064 6.58624L10.5552 8.62577L11.0662 11.5238C11.1293 11.8756 10.9848 12.2323 10.6936 12.4436C10.4024 12.6548 10.0151 12.6839 9.69498 12.5186L6.99999 11.1408L4.30499 12.518Z" stroke="#F4B953" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg></div><div class="redirect-star-data-url--js hidden"></div><div class="language-swap language-swap-select hide_on_medium"><div class="language-swap-select_current">RU</div><div class="language-swap-select_container"><a href="/projects/569981/messages?locale=ru"><div class="language-swap-select_item">RU</div></a><a href="/projects/569981/messages?locale=en"><div class="language-swap-select_item">EN</div></a></div></div><div class="timezone-text hide_on_small hide_on_medium">(GMT+03:00)</div><div data-current_user_id="357198" id="online_status_changer"><div class="online-status__main_component online-status__background-0"><div class="online-status__circle online-status__background-circle-0"></div><div class="online-status__text display-block ws-nowrap online-status__color-0">На смене</div><div class="online-status__arrow online-status__arrow-0"><svg width="8" height="6" viewBox="0 0 8 6" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M1.33325 1.66669L3.99992 4.33335L6.66659 1.66669" stroke="#C5D0E0" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</div><div class="online-status__drop-menu hidden"><a class="online-status__menu-item" data-remote="true" rel="nofollow" data-method="post" href="/projects/569981/remote_set_status/822754?flag=header&amp;status=0"><div class="online-status__circle online-status__background-circle-0"></div><div class="online-status__text online-status__color-0">На смене</div></a><a class="online-status__menu-item" data-remote="true" rel="nofollow" data-method="post" href="/projects/569981/remote_set_status/822754?flag=header&amp;status=1"><div class="online-status__circle online-status__background-circle-1"></div><div class="online-status__text online-status__color-1">Перерыв</div></a><a class="online-status__menu-item" data-remote="true" rel="nofollow" data-method="post" href="/projects/569981/remote_set_status/822754?flag=header&amp;status=2"><div class="online-status__circle online-status__background-circle-2"></div><div class="online-status__text online-status__color-2">Отсутствую</div></a></div></div><script>$('.online-status__main_component').on("click", function () {
    let menu = $(this).children('.online-status__drop-menu')
    menu.toggleClass('hidden')
})
$('.online-status__drop-menu').on("mouseleave", function () {
  $('.online-status__drop-menu').addClass('hidden')
})</script></div><div class="header-top__dropdown-trigger pointer"><div class='client_unique_image  user_avatar__smaller--8 tooltipped' data-tooltip='gorseninaolesa920@gmail.com' data-tooltip-position='bottom'><p>GO</p></div><div class="header-top__subscription-status"><div class="header-top-info mobile-profile-bar"><div class="header-top-info__content"><span class="header-top-info__text-red m-0">Инфобиз до 04:24 17.02.2025</span><span class="tariff-info"><span class="subscription_color_1 tooltipped" data-tooltip="Оплачено сообщений" data-tooltip-position="top">2000</span> / <span class="subscription_color_2 tooltipped" data-tooltip="Отправлено сегодня" data-tooltip-position="top">295</span> / <span class="subscription_color_3 tooltipped" data-tooltip="Дополнительных мессенджеров" data-tooltip-position="top">2</span> / <span class="subscription_color_4 tooltipped" data-tooltip="Оплачено сотрудников" data-tooltip-position="top">4</span> / <span class="subscription_color_5 tooltipped" data-tooltip="Оплачено GB" data-tooltip-position="top">1</span></span></div></div></div><div class="user-dropdown-bar-hide"><div class="user-dropdown-bar"><div class="project-info-right-bar"><div class="header-top-info__content"><span class="header-top-info__text-red m-0">Инфобиз до 04:24 17.02.2025</span><span class="tariff-info"><span class="subscription_color_1 tooltipped" data-tooltip="Оплачено сообщений" data-tooltip-position="top">2000</span> / <span class="subscription_color_2 tooltipped" data-tooltip="Отправлено сегодня" data-tooltip-position="top">295</span> / <span class="subscription_color_3 tooltipped" data-tooltip="Дополнительных мессенджеров" data-tooltip-position="top">2</span> / <span class="subscription_color_4 tooltipped" data-tooltip="Оплачено сотрудников" data-tooltip-position="top">4</span> / <span class="subscription_color_5 tooltipped" data-tooltip="Оплачено GB" data-tooltip-position="top">1</span></span></div></div><div class="project-info-hr"></div><a class="user-dropdown-bar__link" href="/projects"><div class="user-dropdown-bar__icon"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M5.77778 4.75C5.20977 4.75 4.75 5.20977 4.75 5.77778V8.44444C4.75 9.01245 5.20977 9.47222 5.77778 9.47222H8.44444C9.01245 9.47222 9.47222 9.01245 9.47222 8.44444V5.77778C9.47222 5.20977 9.01245 4.75 8.44444 4.75H5.77778ZM3.25 5.77778C3.25 4.38134 4.38134 3.25 5.77778 3.25H8.44444C9.84088 3.25 10.9722 4.38134 10.9722 5.77778V8.44444C10.9722 9.84088 9.84088 10.9722 8.44444 10.9722H5.77778C4.38134 10.9722 3.25 9.84088 3.25 8.44444V5.77778ZM15.5556 4.75C14.9875 4.75 14.5278 5.20977 14.5278 5.77778V8.44444C14.5278 9.01245 14.9875 9.47222 15.5556 9.47222H18.2222C18.7902 9.47222 19.25 9.01245 19.25 8.44444V5.77778C19.25 5.20977 18.7902 4.75 18.2222 4.75H15.5556ZM13.0278 5.77778C13.0278 4.38134 14.1591 3.25 15.5556 3.25H18.2222C19.6187 3.25 20.75 4.38134 20.75 5.77778V8.44444C20.75 9.84088 19.6187 10.9722 18.2222 10.9722H15.5556C14.1591 10.9722 13.0278 9.84088 13.0278 8.44444V5.77778ZM5.77778 14.5278C5.20977 14.5278 4.75 14.9875 4.75 15.5556V18.2222C4.75 18.7902 5.20977 19.25 5.77778 19.25H8.44444C9.01245 19.25 9.47222 18.7902 9.47222 18.2222V15.5556C9.47222 14.9875 9.01245 14.5278 8.44444 14.5278H5.77778ZM3.25 15.5556C3.25 14.1591 4.38134 13.0278 5.77778 13.0278H8.44444C9.84088 13.0278 10.9722 14.1591 10.9722 15.5556V18.2222C10.9722 19.6187 9.84088 20.75 8.44444 20.75H5.77778C4.38134 20.75 3.25 19.6187 3.25 18.2222V15.5556ZM16.8889 13.9167C17.3031 13.9167 17.6389 14.2525 17.6389 14.6667V16.1389H19.1111C19.5253 16.1389 19.8611 16.4747 19.8611 16.8889C19.8611 17.3031 19.5253 17.6389 19.1111 17.6389H17.6389V19.1111C17.6389 19.5253 17.3031 19.8611 16.8889 19.8611C16.4747 19.8611 16.1389 19.5253 16.1389 19.1111V17.6389H14.6667C14.2525 17.6389 13.9167 17.3031 13.9167 16.8889C13.9167 16.4747 14.2525 16.1389 14.6667 16.1389H16.1389V14.6667C16.1389 14.2525 16.4747 13.9167 16.8889 13.9167Z" fill="currentColor"/>
</svg>
</div><div class="user-dropdown-bar__text">Проекты</div></a><a class="user-dropdown-bar__link" href="/domain"><div class="user-dropdown-bar__icon"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<g id="linear/domens/i24">
<path id="Union" fill-rule="evenodd" clip-rule="evenodd" d="M4 3.25C4.41421 3.25 4.75 3.58579 4.75 4V5.02778H7.69444V4.88889C7.69444 3.98401 8.42845 3.25 9.33333 3.25H19.1111C20.016 3.25 20.75 3.98401 20.75 4.88889V6.66667C20.75 7.57155 20.016 8.30556 19.1111 8.30556H9.33333C8.42845 8.30556 7.69444 7.57155 7.69444 6.66667V6.52778H4.75V11.25H7.69444V11.1111C7.69444 10.2062 8.42845 9.47222 9.33333 9.47222H19.1111C20.016 9.47222 20.75 10.2062 20.75 11.1111V12.8889C20.75 13.7938 20.016 14.5278 19.1111 14.5278H9.33333C8.42845 14.5278 7.69444 13.7938 7.69444 12.8889V12.75H4.75V17.3333C4.75 17.4098 4.81244 17.4722 4.88889 17.4722H7.69444V17.3333C7.69444 16.4285 8.42845 15.6944 9.33333 15.6944H19.1111C20.016 15.6944 20.75 16.4285 20.75 17.3333V19.1111C20.75 20.016 20.016 20.75 19.1111 20.75H9.33333C8.42845 20.75 7.69444 20.016 7.69444 19.1111V18.9722H4.88889C3.98401 18.9722 3.25 18.2382 3.25 17.3333V4C3.25 3.58579 3.58579 3.25 4 3.25ZM9.19444 19.1111C9.19444 19.1876 9.25688 19.25 9.33333 19.25H19.1111C19.1876 19.25 19.25 19.1876 19.25 19.1111V17.3333C19.25 17.2569 19.1876 17.1944 19.1111 17.1944H9.33333C9.25688 17.1944 9.19444 17.2569 9.19444 17.3333V19.1111ZM9.19444 12.8889C9.19444 12.9653 9.25688 13.0278 9.33333 13.0278H19.1111C19.1876 13.0278 19.25 12.9653 19.25 12.8889V11.1111C19.25 11.0347 19.1876 10.9722 19.1111 10.9722H9.33333C9.25688 10.9722 9.19444 11.0347 9.19444 11.1111V12.8889ZM9.19444 6.66667C9.19444 6.74312 9.25688 6.80556 9.33333 6.80556H19.1111C19.1876 6.80556 19.25 6.74312 19.25 6.66667V4.88889C19.25 4.81244 19.1876 4.75 19.1111 4.75H9.33333C9.25688 4.75 9.19444 4.81244 9.19444 4.88889V6.66667Z" fill="currentColor"/>
</g>
</svg>
</div><div class="user-dropdown-bar__text">Почтовые домены</div></a><a class="user-dropdown-bar__link" href="/referrals"><div class="user-dropdown-bar__icon"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M10.0799 2.89961C11.2137 2.03339 12.7856 2.03346 13.9194 2.89983L15.3237 3.97264L17.0789 4.20631C18.4948 4.39509 19.608 5.50948 19.7955 6.92523C19.7955 6.9252 19.7955 6.92525 19.7955 6.92523L20.0273 8.67449L21.0992 10.0798C21.0992 10.0798 21.0993 10.0798 21.0992 10.0798C21.9638 11.213 21.9657 12.7849 21.0989 13.9191L20.025 15.3242L19.7914 17.0778C19.6026 18.4937 18.4882 19.6068 17.0724 19.7943L15.325 20.0257L13.9194 21.0997C13.9193 21.0997 13.9194 21.0997 13.9194 21.0997C12.7856 21.9661 11.2135 21.9661 10.0797 21.0997C10.0797 21.0997 10.0797 21.0998 10.0797 21.0997L8.67505 20.0267L6.92085 19.7922C5.50499 19.6034 4.39196 18.489 4.20447 17.0733C4.20447 17.0732 4.20448 17.0733 4.20447 17.0733L3.97272 15.3243L2.89902 13.9191C2.03369 12.7863 2.03364 11.2133 2.89897 10.0805L3.97309 8.67516L4.20755 6.92163C4.20754 6.92172 4.20757 6.92154 4.20755 6.92163C4.39643 5.506 5.51063 4.3929 6.92613 4.20529L8.67399 3.9729L10.0799 2.89961ZM9.46198 5.25848C9.35511 5.3505 9.2213 5.41333 9.07182 5.43321L7.12382 5.69221C6.37961 5.79075 5.79361 6.37576 5.6944 7.11987L5.43336 9.07215C5.41465 9.21208 5.3583 9.33825 5.2756 9.44142L5.25803 9.4643L4.09098 10.991C3.63632 11.5862 3.63631 12.4132 4.09093 13.0084C4.09091 13.0084 4.09094 13.0084 4.09093 13.0084L5.28593 14.5724C5.36541 14.6764 5.41628 14.7994 5.43348 14.9292L5.69148 16.8762C5.79001 17.6204 6.37499 18.2061 7.1191 18.3053L9.07137 18.5664C9.20081 18.5837 9.32349 18.6345 9.42727 18.7138L10.9903 19.9078C11.5864 20.3633 12.4124 20.3634 13.0086 19.9078L14.5367 18.7402C14.6437 18.648 14.7778 18.5851 14.9275 18.5652L16.8755 18.3072C17.6197 18.2087 18.2053 17.6238 18.3045 16.8797C18.3045 16.8798 18.3045 16.8797 18.3045 16.8797L18.5645 14.9277C18.5832 14.7877 18.6396 14.6614 18.7223 14.5581L18.7399 14.5352L19.9071 13.0084C20.3623 12.4126 20.3621 11.5865 19.9067 10.9897L18.7137 9.42562C18.6344 9.32169 18.5836 9.19885 18.5665 9.06927L18.3085 7.12227C18.2099 6.37805 17.625 5.79239 16.8809 5.69317L14.928 5.43319C14.7984 5.41594 14.6756 5.36511 14.5717 5.28575L13.0087 4.09175C12.4125 3.63618 11.5865 3.63611 10.9904 4.09167L9.46198 5.25848ZM12 7.24975C12.4142 7.24975 12.75 7.58554 12.75 7.99975V8.26396C13.4615 8.34566 14.033 8.77114 14.3711 9.31866C14.5887 9.67109 14.4795 10.1332 14.1271 10.3509C13.7746 10.5685 13.3125 10.4593 13.0949 10.1068C12.9517 9.8751 12.7365 9.74975 12.5 9.74975H11.405C11.0442 9.74975 10.752 10.042 10.752 10.4028C10.752 10.7 10.9553 10.962 11.247 11.0354L13.1165 11.5048C13.1169 11.5049 13.1172 11.505 13.1176 11.5051C14.0784 11.7439 14.748 12.6073 14.748 13.5928C14.748 14.7298 13.8668 15.6608 12.75 15.7403V15.9998C12.75 16.414 12.4142 16.7498 12 16.7498C11.5858 16.7498 11.25 16.414 11.25 15.9998V15.7316C10.5359 15.6497 9.96335 15.2221 9.62594 14.6697C9.41001 14.3162 9.52153 13.8546 9.87501 13.6387C10.2285 13.4228 10.6901 13.5343 10.906 13.8878C11.0481 14.1203 11.2623 14.2458 11.5 14.2458H12.595C12.9558 14.2458 13.248 13.9535 13.248 13.5928C13.248 13.2926 13.0441 13.0323 12.7554 12.9607L12.7533 12.9602L10.8813 12.4902C9.92498 12.2496 9.25197 11.3895 9.25197 10.4028C9.25197 9.26566 10.1331 8.33466 11.25 8.25524V7.99975C11.25 7.58554 11.5858 7.24975 12 7.24975Z" fill="currentColor"/>
</svg>
</div><div class="user-dropdown-bar__text">Партнерская программа</div></a><a class="user-dropdown-bar__link" href="/notices/notice_settings?project_id=569981"><div class="user-dropdown-bar__icon"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<g id="linear/notifications/i24">
<g id="Union">
<path d="M10.4 19.25C9.98581 19.25 9.65002 19.5858 9.65002 20C9.65002 20.4142 9.98581 20.75 10.4 20.75H13.6C14.0142 20.75 14.35 20.4142 14.35 20C14.35 19.5858 14.0142 19.25 13.6 19.25H10.4Z" fill="currentColor"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M6.25 10C6.25 6.82479 8.82479 4.25 12 4.25C15.1752 4.25 17.75 6.82479 17.75 10V12.504C17.75 12.5424 17.7722 12.58 17.8102 12.5996L18.3104 12.8492C19.1923 13.2901 19.75 14.1917 19.75 15.178C19.75 16.6162 18.5842 17.782 17.146 17.782H6.854C5.41579 17.782 4.25 16.6162 4.25 15.178C4.25 14.1916 4.80775 13.2905 5.68874 12.8486L6.19205 12.5974C6.22833 12.5791 6.25 12.5429 6.25 12.504V10ZM7.75 10C7.75 7.65321 9.65321 5.75 12 5.75C14.3468 5.75 16.25 7.65321 16.25 10V12.111V12.504C16.25 13.1133 16.5943 13.6659 17.1338 13.9384L17.1371 13.9401L17.6396 14.1908C18.0134 14.378 18.25 14.7605 18.25 15.178C18.25 15.7878 17.7558 16.282 17.146 16.282H6.854C6.24421 16.282 5.75 15.7878 5.75 15.178C5.75 14.7607 5.98595 14.378 6.36055 14.1897L6.86288 13.9391L6.86434 13.9384C7.40583 13.6667 7.75 13.1129 7.75 12.504V10Z" fill="currentColor"/>
</g>
</g>
</svg>
</div><div class="user-dropdown-bar__text">Настройки уведомлений</div></a><a class="user-dropdown-bar__link" href="/users/edit"><div class="user-dropdown-bar__icon"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<g id="linear/settings 3/i24">
<g id="Union">
<path d="M12.05 15.15C11.25 15.15 10.45 14.85 9.84999 14.25C8.64999 13.05 8.64999 11.05 9.84999 9.85C11.05 8.65 13.05 8.65 14.25 9.85C15.45 11.05 15.45 13.05 14.25 14.25C13.65 14.85 12.85 15.15 12.05 15.15ZM12.05 10.35C11.65 10.35 11.25 10.55 10.95 10.85C10.35 11.45 10.35 12.55 10.95 13.15C11.55 13.75 12.55 13.75 13.25 13.15C13.85 12.55 13.85 11.45 13.25 10.85C12.85 10.55 12.45 10.35 12.05 10.35Z" fill="currentColor"/>
<path d="M13.25 20.75H10.75C9.94999 20.75 9.34999 20.15 9.24999 19.45L9.04999 18.15C8.74999 17.95 8.54999 17.85 8.34999 17.75L7.04999 18.25C6.34999 18.55 5.54999 18.25 5.14999 17.55L3.94999 15.25C3.54999 14.55 3.74999 13.75 4.34999 13.25L5.44999 12.45C5.44999 12.35 5.44999 12.15 5.44999 11.95C5.44999 11.75 5.44999 11.65 5.44999 11.45L4.34999 10.65C3.74999 10.25 3.54999 9.35 3.94999 8.75L5.14999 6.55C5.54999 5.85 6.34999 5.55 7.04999 5.85L8.24999 6.35C8.54999 6.25 8.74999 6.05 9.04999 5.95L9.24999 4.55C9.34999 3.85 10.05 3.25 10.75 3.25H13.25C14.05 3.25 14.65 3.85 14.75 4.55L14.95 5.85C15.25 6.05 15.45 6.15 15.65 6.25L16.95 5.75C17.65 5.45 18.45 5.75 18.85 6.45L20.05 8.65C20.45 9.35 20.25 10.15 19.65 10.65L18.55 11.45C18.55 11.55 18.55 11.75 18.55 11.95C18.55 12.15 18.55 12.25 18.55 12.45L19.65 13.25C20.25 13.75 20.45 14.55 20.05 15.25L18.85 17.45C18.45 18.15 17.65 18.45 16.95 18.15L15.75 17.65C15.45 17.85 15.25 17.95 15.05 18.05L14.75 19.45C14.65 20.15 13.95 20.75 13.25 20.75ZM8.34999 16.15C8.64999 16.15 8.94999 16.25 9.24999 16.45C9.44999 16.55 9.54999 16.65 9.74999 16.75C10.25 16.95 10.55 17.45 10.55 17.95L10.75 19.25H13.25L13.45 17.85C13.55 17.35 13.85 16.95 14.25 16.65C14.45 16.55 14.65 16.45 14.75 16.35C15.15 16.05 15.75 15.95 16.15 16.15L17.35 16.65L18.65 14.45L17.25 13.25C17.05 13.05 16.95 12.85 16.95 12.55C16.95 12.35 16.95 12.05 16.95 11.85C16.95 11.65 16.95 11.35 16.95 11.15C16.95 10.85 17.05 10.65 17.25 10.45L18.75 9.55L17.55 7.25L16.25 7.75C15.75 7.95 15.25 7.85 14.85 7.55C14.65 7.45 14.55 7.35 14.35 7.25C13.85 7.05 13.55 6.55 13.55 6.05L13.25 4.75H10.75L10.55 6.15C10.45 6.65 10.15 7.05 9.74999 7.35C9.54999 7.35 9.34999 7.55 9.14999 7.65C8.74999 7.95 8.24999 7.95 7.74999 7.75L6.54999 7.25L5.24999 9.45L6.64999 10.65C6.84999 10.85 6.94999 11.05 6.94999 11.35C6.94999 11.55 6.94999 11.85 6.94999 12.05C6.94999 12.25 6.94999 12.55 6.94999 12.75C6.94999 13.05 6.84999 13.25 6.64999 13.45L5.24999 14.55L6.44999 16.75L7.74999 16.25C7.94999 16.15 8.14999 16.15 8.34999 16.15Z" fill="currentColor"/>
</g>
</g>
</svg>
</div><div class="user-dropdown-bar__text">Настройки профиля</div></a><a class="user-dropdown-bar__link" href="/role_change"><div class="user-dropdown-bar__icon"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<g id="linear/education/i24">
<path id="Union" fill-rule="evenodd" clip-rule="evenodd" d="M13.0465 4.54993C12.4392 4.14753 11.6717 4.1554 11.0713 4.54717L4.09499 8.33564C2.96172 9.11408 2.96916 10.8697 4.11258 11.6359L5.45994 12.3489V17.2707C5.45993 18.6562 6.57759 19.5241 7.75004 20.0105C8.9655 20.5147 10.5328 20.7501 12.0579 20.7501C13.5831 20.7501 15.1504 20.5147 16.3658 20.0105C17.5383 19.5241 18.6559 18.6562 18.6559 17.2707V12.289L19.6435 11.7682C19.7688 11.7024 19.993 11.5846 20.1848 11.3896C21.0072 10.5535 20.9432 9.05992 19.9161 8.34336L13.0465 4.54993ZM12.2251 5.80517C12.1227 5.73373 11.9971 5.73041 11.8837 5.80826L4.92092 9.5894C4.81779 9.67213 4.74914 9.81177 4.75001 9.98273C4.75087 10.1534 4.82068 10.2915 4.92377 10.3725L11.8872 14.037C11.9986 14.1117 12.1212 14.1085 12.2218 14.04L19.1155 10.3376C19.3157 10.1341 19.284 9.75737 19.0809 9.59099L12.2251 5.80517ZM13.068 15.2789C13.0637 15.2815 13.0633 15.2818 13.0658 15.2801C12.4614 15.6915 11.6937 15.6916 11.0898 15.3077L6.95994 13.1372V17.2707C6.95994 17.7049 7.30428 18.2016 8.32483 18.625C9.30237 19.0305 10.6591 19.2501 12.0579 19.2501C13.4568 19.2501 14.8135 19.0305 15.7911 18.625C16.8116 18.2016 17.1559 17.7049 17.1559 17.2707V13.0821L13.068 15.2789Z" fill="currentColor"/>
</g>
</svg>
</div><div class="user-dropdown-bar__text">Войти как ученик</div></a><a class="user-dropdown-bar__link" data-type="log_out" rel="nofollow" data-method="delete" href="/users/sign_out"><div class="user-dropdown-bar__icon"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<g id="linear/exit/i24">
<path id="Union" fill-rule="evenodd" clip-rule="evenodd" d="M5.7247 3.25185C5.74224 3.25062 5.75993 3.25 5.77778 3.25H14.6667C16.0477 3.25 17.1944 4.34904 17.1944 5.73966V6.60949C17.1944 7.0237 16.8587 7.35949 16.4444 7.35949C16.0302 7.35949 15.6944 7.0237 15.6944 6.60949V5.73966C15.6944 5.20795 15.2501 4.75 14.6667 4.75H8.94713L10.6664 5.80149C11.4053 6.25289 11.8611 7.05098 11.8611 7.91684V17.1673H14.6667C15.2501 17.1673 15.6944 16.7093 15.6944 16.1776V15.3078C15.6944 14.8936 16.0302 14.5578 16.4444 14.5578C16.8587 14.5578 17.1944 14.8936 17.1944 15.3078V16.1776C17.1944 17.5682 16.0477 18.6673 14.6667 18.6673H11.8287C11.5509 20.3906 9.54116 21.3155 7.9998 20.3724C7.99974 20.3724 7.99985 20.3725 7.9998 20.3724L4.44473 18.1981C3.70578 17.7467 3.25 16.9487 3.25 16.0828V5.74227C3.25 4.28768 4.43712 3.2823 5.7247 3.25185ZM5.74697 4.74938C5.21779 4.76584 4.75 5.1909 4.75 5.74227V16.0828C4.75 16.4171 4.92562 16.7343 5.22638 16.9179L8.78243 19.0928C9.49114 19.5265 10.3611 19.0095 10.3611 18.2582V7.91684C10.3611 7.58252 10.1855 7.26536 9.88473 7.08173L6.32886 4.90696C6.3288 4.90693 6.32891 4.907 6.32886 4.90696C6.16578 4.80733 5.99406 4.75784 5.82654 4.75H5.77778C5.76746 4.75 5.75719 4.74979 5.74697 4.74938ZM17.6862 8.69442C17.9759 8.39837 18.4507 8.39323 18.7468 8.68293L20.5246 10.4226C20.6687 10.5637 20.75 10.7569 20.75 10.9586C20.75 11.1604 20.6687 11.3536 20.5246 11.4947L18.7468 13.2343C18.4507 13.524 17.9759 13.5189 17.6862 13.2228C17.3965 12.9268 17.4016 12.4519 17.6977 12.1622L18.1612 11.7086H14.6667C14.2525 11.7086 13.9167 11.3728 13.9167 10.9586C13.9167 10.5444 14.2525 10.2086 14.6667 10.2086H18.1612L17.6977 9.75502C17.4016 9.46532 17.3965 8.99047 17.6862 8.69442Z" fill="currentColor"/>
</g>
</svg>
</div><div class="user-dropdown-bar__text">Выход</div></a><div class="sale-bot__instructions-container"><a class="sale-bot__instructions" target="_blank" href="https://docs.salebot.pro/">Инструкция по созданию ботов</a></div></div></div><div class="header-top__icon"><svg width="8" height="6" viewBox="0 0 8 6" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M1.33325 1.66669L3.99992 4.33335L6.66659 1.66669" stroke="#C5D0E0" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</div></div></ul></div></div></div><script>if (window.innerWidth < 1601) {
   $('.how_work').text('')
   $('.how_work').css('padding', '8px 16px 8px 18px')
   $('.how_work').css('background', '#ffffff')
}
// $(document).ready(function () {
//   $(".tariff-info").each(function () {
//     var numbers = $(this).text().split('/');
//     $(this).html(
//       "<span class='subscription_color_1 tooltipped' data-tooltip-position=\"top\" data-tooltip='Оплачено сообщений'>" + numbers[0].split(" ")[1] + "</span> / " +
//       "<span class='subscription_color_2 tooltipped' data-tooltip-position=\"top\" data-tooltip='Отправлено сегодня'>" + numbers[1] + "</span> / " +
//       "<span class='subscription_color_3 tooltipped' data-tooltip-position=\"top\" data-tooltip='Дополнительных мессенджеров'>" + numbers[2] + "</span> / " +
//       "<span class='subscription_color_4 tooltipped' data-tooltip-position=\"top\" data-tooltip='Оплачено сотрудников'>" + numbers[3] + "</span>"
//     );
//     $(this).parent().children().eq(0).prepend(numbers[0].split(" ")[0] + " ")
//   })
// })

  $(".header-top__dropdown-trigger").on('click', function () {
    $(this).find('.user-dropdown-bar-hide').toggleClass('user-dropdown-bar-hide-active');
      $('.big-Left-bar').removeClass('active_mobile');
  }).on("mouseleave", function () {
    $(this).find('.user-dropdown-bar-hide').removeClass('user-dropdown-bar-hide-active');
  });

  $(".language-swap-select").click(function () {
      var container = $(this).children(".language-swap-select_container");
      if (container.css("display") == 'none') {
          container.show()
      } else {
          container.hide()
      }
  })
  $(document).mouseup(function (e) {
      $(".language-swap-select ").is(e.target) || 0 !== $(".language-swap-select").has(e.target).length || $(".language-swap-select_container").hide()
      $(".onboarding-scenarios__btn ").is(e.target) || 0 !== $(".onboarding-scenarios__btn").has(e.target).length || $(".onboarding-scenarios__list").removeClass('onboarding-scenarios__list--active')
  })

  $('.onboarding-scenarios__btn').off().on('click', function (){
      $(this).next('.onboarding-scenarios__list').toggleClass('onboarding-scenarios__list--active')
  })

  $(document).ready(function () {
      $(document).click(function (event) {
          if (!$(event.target).closest('.notice__popup').length) {
              $('.notice__popup').empty();
          }
      });
  });

  $(".homepage-fav-icon").off('click').on('click', function (){
      let url = location.href
      let project_id = "569981"

      let has_star = $(".homepage-fav-icon").hasClass('fill_gold_star')
      if (has_star === true) {
          $('.redirect-star-data-url--js').text("")
          $(".homepage-fav-icon").removeClass('fill_gold_star')
          $(".homepage-fav-icon").attr('data-tooltip', 'Выбрать стартовой страницей проекта')
      } else {
          $('.redirect-star-data-url--js').text(url)
          $(".homepage-fav-icon").addClass('fill_gold_star')
          $(".homepage-fav-icon").attr('data-tooltip', 'Выбрана стартовой страницей проекта')
      }

      $.ajax({
          url: `/projects/${project_id}/set_default_home_url`,
          type: 'POST',
          data: {
              url: url
          }
      })

  })

  function updateStarIcon() {
      let homepage_url = $('.redirect-star-data-url--js').text()
      if (homepage_url === location.href) {
          $(".homepage-fav-icon").addClass('fill_gold_star');
          $(".homepage-fav-icon").attr('data-tooltip', 'Выбрана стартовой страницей проекта');
      } else {
          $(".homepage-fav-icon").removeClass('fill_gold_star');
          $(".homepage-fav-icon").attr('data-tooltip', 'Выбрать стартовой страницей проекта');
      }
  }

  // Вызываем функцию при полной загрузке страницы
  $(document).ready(function () {
      updateStarIcon();
  });

  // Вызываем функцию после каждого завершенного AJAX-запроса
  $(document).ajaxComplete(function () {
      updateStarIcon();
  });


  /**
  * Инициализация вызова кастомного события 'urlchange' в соответсвующих сценариях
  */
  function initUrlChangeEvent() {

      /**
      * @event urlchange
      * @description Функция вызова события 'urlchange' для отслеживания текущей открытой вкладки
      * @property {string} detail.category - текущая категория на момент вызова события
      */
      function dispatchUrlChangeEvent() {

          const category = getCategoryFromPath(window.location.pathname)

          const event = new CustomEvent('urlchange', {
              detail: { category: category } // Добавляем текущую категорию внутри проекта в детали события
          })
          window.dispatchEvent(event)
      }

      function getCategoryFromPath(pathname) {
          // Разбираем path при помощи регулярки и match, первая группа должна быть искомой категорией
          const match = pathname.match(/^\/projects\/\d+\/([^\/]+)(\/.*)?$/); 

          // В случае иной структуры пути возвращаем '/'
          if (!match) return '/'

          // Берем первую группу (название категории после /projects/<project_number>), по умолчанию возвращаем '/'
          const category = match[1] ? match[1] : '/'

          return category
      }

      /**
      * Переопределение методов pushState и replaceState для вызова события 'urlchange'
      */
      (function(history) {
          const { pushState, replaceState } = history;

          history.pushState = function(state, title, url) {
              const result = pushState.apply(history, arguments);
              dispatchUrlChangeEvent();
              return result;
          };

          history.replaceState = function(state, title, url) {
              const result = replaceState.apply(history, arguments);
              dispatchUrlChangeEvent();
              return result;
          };
        })(window.history);

        /**
        * Вызов события 'urlchange' при полной загрузке страницы
        */
        $(document).ready(function() {
            dispatchUrlChangeEvent()
        });

        /**
        * Вызов события 'urlchange' при навигации по истории (кнопки назад/вперед)
        */
        $(window).on('popstate', function() {
            dispatchUrlChangeEvent()
        });

  }

  /**
  * Функция обработки события 'urlchange' 
  * для присваивания хедеру сайта дата-атрибута,
  * соответствующего текущей открытой категории
  */
  function handleUrlChangeEvent() {

      window.addEventListener('urlchange', (event) => {

          $('.header-top__nav').attr('current-category', event.detail.category)

      })

  }

  initUrlChangeEvent()
  handleUrlChangeEvent()</script><main><style type="text/css">.driver-popover.driverjs-theme {
    min-width: 350px !important;
    padding: 15px 15px 4px 15px;
    background-color: #fff;
    color:  var(--black);
}

.driver-popover.driverjs-theme .driver-popover-title {
    font-size: 20px;
    margin-left: 30px;
    position: relative;
    bottom: 2px;
}

.driver-popover.driverjs-theme .driver-popover-title,
.driver-popover.driverjs-theme .driver-popover-description,
.driver-popover.driverjs-theme .driver-popover-progress-text {
    color: var(--black);
}

.driver-popover.driverjs-theme button {
    margin: 6px;
    height: 34px;
    padding: 0 12px;
    display: inline-flex;
    justify-content: center;
    align-items: center;
    gap: 6px;
    border-radius: var(--radius-control-base);
    transition: .3s;
    font-size: 14px;
    font-style: normal;
    font-weight: 600;
    line-height: 20px;
    cursor: pointer;
    white-space: nowrap;
    user-select: none;
    background-color: var(--button-primary-background-default);
    color: var(--button-primary-foreground-default);
    border: 1px solid var(--grey-400);
    text-shadow: none;
}

.driver-popover.driverjs-theme button:hover {
    background: var(--button-primary-background-hover);
}

.driver-popover.driverjs-theme .driver-popover-navigation-btns {
    flex: 0;
    justify-content: space-between;
    gap: 3px;
}

.driver-popover.driverjs-theme .driver-popover-close-btn {
    padding: 0;
    width: 34px;
    height: 34px;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    flex-shrink: 0;
    border-radius: var(--radius-control-base);
    cursor: pointer;
    border: none;
    background: none;
    transition: .3s;
    background: var(--iconbtn-ghost-grey-background);
    color: var(--black);
}

.driver-popover.driverjs-theme .driver-popover-close-btn:hover {
    color: #9b9b9b;
    background: var(--grey-200);
}

.driver-popover.driverjs-theme .driver-popover-arrow-side-left.driver-popover-arrow {
    border-left-color: #fff;
}

.driver-popover.driverjs-theme .driver-popover-arrow-side-right.driver-popover-arrow {
    border-right-color: #fff;
}

.driver-popover.driverjs-theme .driver-popover-arrow-side-top.driver-popover-arrow {
    border-top-color: #fff;
}

.driver-popover.driverjs-theme .driver-popover-arrow-side-bottom.driver-popover-arrow {
    border-bottom-color: #fff;
}</style><div class="modal" id="modal"></div><div class="modal modal-fixed-footer" id="fixed-modal"></div><div class="used_menu"><div class="left_bar_container style-4 big-Left-bar" id="left_bar"><div class="project_name"><div class="select_box"><div class="select_box__current flex-box" style="position: relative;"><div class="select_box__current-title">Проект</div><div class="select_box__current-inner" title="Репетитор">Репетитор</div><div class="select_box__current-id hidden">569981</div><div class="select_box__current-open hidden">569981</div><div class="select_box__current-dropdown"><svg width="8" height="5" viewBox="0 0 8 5" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M1.6665 1.33325L3.99984 3.66658L6.33317 1.33325" stroke="#1A53C6" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</div></div></div></div><div class="left_bar_upper"><div class="search-project__container"><input autofocus="false" class="field__input field__input--search" data-search="name" id="search-project__left-bar" placeholder="Поиск проекта" type="search" /></div><div id="find_projects"><div class="folder_projects_item"><div class="folder_projects_left"><div class="folder_project_img mr-8"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<g id="icon_24px/folder">
<path id="Vector" d="M18.2222 6.61333C19.2044 6.61333 20 7.40978 20 8.39111V16.4444C20 17.5 19.1565 18.2222 18.2222 18.2222H5.77778C4.79556 18.2222 4 17.4267 4 16.4444V5.77778C4 4.79556 4.79556 4 5.77778 4H9.752C10.0462 4 10.3209 4.14578 10.4862 4.38844L11.7351 6.224C11.9004 6.46756 12.176 6.61333 12.4702 6.61333H18.2222Z" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</g>
</svg>
</div><div class="folder_project_name">Без папки</div></div><div class="folder_projects_right"><div class="folder_project_count">1</div></div></div></div><div class="search-project__create"><a class="main-btn" data-remote="true" href="/new_project">Создать проект</a></div></div><div class="left_bar_menu"><div class="left_bar_main_project"><a class="menu_item messages messages_link_link" href="/projects/569981/messages"><div class="for_active"></div><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M9 6.5V13.1667M14.8333 13.0383V11.5C14.8333 10.5792 14.0875 9.83333 13.1667 9.83333H4.83333C3.9125 9.83333 3.16667 10.5792 3.16667 11.5V13.0383M14 6.5H4C3.07917 6.5 2.33333 5.75417 2.33333 4.83333V3.16667C2.33333 2.24583 3.07917 1.5 4 1.5H14C14.9208 1.5 15.6667 2.24583 15.6667 3.16667V4.83333C15.6667 5.75417 14.9208 6.5 14 6.5ZM9.86417 16.5H8.13583C7.6925 16.5 7.33333 16.1408 7.33333 15.6975V13.9692C7.33333 13.5258 7.6925 13.1667 8.13583 13.1667H9.86417C10.3075 13.1667 10.6667 13.5258 10.6667 13.9692V15.6975C10.6667 16.1408 10.3075 16.5 9.86417 16.5ZM15.6975 16.5H13.9692C13.5258 16.5 13.1667 16.1408 13.1667 15.6975V13.9692C13.1667 13.5258 13.5258 13.1667 13.9692 13.1667H15.6975C16.1408 13.1667 16.5 13.5258 16.5 13.9692V15.6975C16.5 16.1408 16.1408 16.5 15.6975 16.5ZM4.03083 16.5H2.3025C1.85917 16.5 1.5 16.1408 1.5 15.6975V13.9692C1.5 13.5258 1.85917 13.1667 2.3025 13.1667H4.03083C4.47417 13.1667 4.83333 13.5258 4.83333 13.9692V15.6975C4.83333 16.1408 4.47417 16.5 4.03083 16.5Z" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
<span>Конструктор воронок</span></a><a class="menu_item ai_assistant_link_link" href="/projects/569981/ai_assistant"><div class="for_active"></div><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M7.67379 0.530592C12.0343 -0.539085 16.5613 1.50867 18.6371 5.48977C20.713 9.47086 19.8004 14.355 16.427 17.3179C13.1379 20.2068 8.33936 20.5403 4.69057 18.1709L2.16112 18.733C1.91081 18.7886 1.64942 18.7125 1.4681 18.5312C1.28678 18.3498 1.21067 18.0884 1.26629 17.8381L1.82815 15.3098C0.798512 13.7329 0.248773 11.888 0.250002 9.99989C0.248035 5.51029 3.31343 1.60023 7.67379 0.530592ZM17.3071 6.18328C15.5508 2.81494 11.7205 1.08236 8.03116 1.9874C4.3418 2.89244 1.74817 6.20087 1.75 9.99961C1.74882 11.6909 2.27059 13.342 3.24382 14.7252C3.36523 14.8978 3.40835 15.1135 3.36257 15.3195L2.98624 17.013L4.67962 16.6367C4.8848 16.5911 5.09969 16.6337 5.27197 16.7541C8.38559 18.9303 12.583 18.6977 15.4372 16.1909C18.2913 13.684 19.0634 9.55163 17.3071 6.18328ZM7.15652 7.2688C7.25674 6.95948 7.54485 6.74997 7.87 6.74997H9.13C9.45515 6.74997 9.74327 6.95948 9.84349 7.2688L11.4635 12.2688C11.5912 12.6628 11.3752 13.0858 10.9812 13.2135C10.5871 13.3411 10.1642 13.1252 10.0365 12.7311L9.88062 12.25H7.11939L6.96349 12.7311C6.83582 13.1252 6.41288 13.3411 6.01883 13.2135C5.62479 13.0858 5.40885 12.6628 5.53652 12.2688L5.82996 11.3631C5.84195 11.2981 5.86233 11.236 5.88994 11.178L7.15652 7.2688ZM7.60539 10.75H9.39462L8.58462 8.24997H8.41539L7.60539 10.75ZM13.5 6.74997C13.9142 6.74997 14.25 7.08575 14.25 7.49997V12.5C14.25 12.9142 13.9142 13.25 13.5 13.25C13.0858 13.25 12.75 12.9142 12.75 12.5V7.49997C12.75 7.08575 13.0858 6.74997 13.5 6.74997Z" fill="#95A3BA"/>
</svg>
<span>AI ассистент</span></a><a class="menu_item clients" data-remote="true" href="/projects/569981/clients"><div class="for_active"></div><svg width="18" height="12" viewBox="0 0 18 12" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M4.66618 4.69692C3.59496 4.69692 2.93839 3.81803 2.93871 3.15129C2.93902 2.48455 3.41312 1.3026 4.48434 1.3026M2.39319 10.2733C1.27276 10.1218 1 9.63679 1 8.75796C1 7.87912 2.00012 6.66685 3.42361 6.84868M15.6068 10.2733C16.7272 10.1218 17 9.6368 17 8.75796C17 7.87913 15.9999 6.66685 14.5764 6.84869M13.3338 4.69692C14.405 4.69692 15.0616 3.81803 15.0613 3.15129C15.061 2.48455 14.5869 1.3026 13.5157 1.3026M10.9396 2.69669C10.9396 3.76791 10.0712 4.63631 9 4.63631C7.92878 4.63631 7.06039 3.76791 7.06039 2.69669C7.06039 1.62547 7.92878 0.75708 9 0.75708C10.0712 0.75708 10.9396 1.62547 10.9396 2.69669ZM10.9396 11.2431H7.06039C5.98917 11.2431 5.12077 10.9097 5.12077 9.90963C5.12077 8.09451 7.06039 7.39419 9 7.39419C10.9396 7.39419 12.8792 8.09451 12.8792 9.90963C12.8792 10.9097 12.0108 11.2431 10.9396 11.2431Z" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round"/>
</svg>
<span>Клиенты</span><div class="count-circle count-circle_unread_messages"></div></a><a class="menu_item students" data-remote="true" href="/projects/569981/customers"><div class="for_active"></div><svg width="18" height="12" viewBox="0 0 18 12" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M4.66618 4.69692C3.59496 4.69692 2.93839 3.81803 2.93871 3.15129C2.93902 2.48455 3.41312 1.3026 4.48434 1.3026M2.39319 10.2733C1.27276 10.1218 1 9.63679 1 8.75796C1 7.87912 2.00012 6.66685 3.42361 6.84868M15.6068 10.2733C16.7272 10.1218 17 9.6368 17 8.75796C17 7.87913 15.9999 6.66685 14.5764 6.84869M13.3338 4.69692C14.405 4.69692 15.0616 3.81803 15.0613 3.15129C15.061 2.48455 14.5869 1.3026 13.5157 1.3026M10.9396 2.69669C10.9396 3.76791 10.0712 4.63631 9 4.63631C7.92878 4.63631 7.06039 3.76791 7.06039 2.69669C7.06039 1.62547 7.92878 0.75708 9 0.75708C10.0712 0.75708 10.9396 1.62547 10.9396 2.69669ZM10.9396 11.2431H7.06039C5.98917 11.2431 5.12077 10.9097 5.12077 9.90963C5.12077 8.09451 7.06039 7.39419 9 7.39419C10.9396 7.39419 12.8792 8.09451 12.8792 9.90963C12.8792 10.9097 12.0108 11.2431 10.9396 11.2431Z" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round"/>
</svg>
<span>Ученики</span><div class="count-circle count-circle__unchecked_homework"></div></a><a class="menu_item pipelines" data-remote="true" href="/projects/569981/pipelines"><div class="for_active"></div><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M10.2938 7.7035L8.17996 9.81729M7.73362 2.66324C3.89208 2.89902 0.920798 6.12377 0.999578 9.97174C1.07836 13.8197 4.17913 16.9201 8.02711 16.9985C11.8751 17.0768 15.0995 14.1052 15.3349 10.2636M12.1212 10.2636C11.8948 12.3371 10.1057 13.8838 8.02134 13.8082C5.93694 13.7326 4.26465 12.0603 4.18904 9.97591C4.11344 7.89151 5.66018 6.10246 7.73362 5.87604M10.2601 4.36859V7.73719H13.6287L16.9973 4.36859L14.7512 3.24601L13.6287 1L10.2601 4.36859Z" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
<span>CRM</span></a><a class="menu_item tasks" data-remote="true" href="/projects/569981/tasks"><div class="for_active"></div><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M9.84622 11.2042H13.4018M4.51289 10.9606L5.32978 11.6966L6.97511 10.2157M9.84622 6.75974H13.4018M4.51289 6.51619L5.32978 7.25219L6.97422 5.7713M5.44259 17H12.5574C15.011 17 17 15.011 17 12.5574V5.44259C17 2.98902 15.011 1 12.5574 1H5.44259C2.98902 1 1 2.98902 1 5.44259V12.5574C1 15.011 2.98902 17 5.44259 17Z" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
<span>Задачи</span><div class="count-circle count-circle_left_bar"></div></a><a class="menu_item lists" href="/projects/569981/lists"><div class="for_active"></div><svg width="15" height="12" viewBox="0 0 15 12" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M4.54395 1.21948H14.0001M14.0001 5.99999H4.54395M4.54395 10.7805H14.0001" stroke="#95A3BA" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M0.884211 0.335205C0.395875 0.335205 0 0.73108 0 1.21942C0 1.70775 0.395875 2.10363 0.884211 2.10363C1.37255 2.10363 1.76842 1.70775 1.76842 1.21942C1.76842 0.73108 1.37255 0.335205 0.884211 0.335205Z" fill="#95A3BA"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M0.884211 5.11574C0.395875 5.11574 0 5.51161 0 5.99995C0 6.48828 0.395875 6.88416 0.884211 6.88416C1.37255 6.88416 1.76842 6.48828 1.76842 5.99995C1.76842 5.51161 1.37255 5.11574 0.884211 5.11574Z" fill="#95A3BA"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M0.884211 9.89628C0.395875 9.89628 0 10.2922 0 10.7805C0 11.2688 0.395875 11.6647 0.884211 11.6647C1.37255 11.6647 1.76842 11.2688 1.76842 10.7805C1.76842 10.2922 1.37255 9.89628 0.884211 9.89628Z" fill="#95A3BA"/>
</svg>
<span>Списки</span></a><a class="menu_item mailings_left_bar" data-remote="true" href="/projects/569981/mailings"><div class="for_active"></div><svg width="18" height="16" viewBox="0 0 18 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M16.0254 7.58271V11.7564C16.0254 13.1395 14.9042 14.2607 13.5211 14.2607H3.50423C2.12118 14.2607 1 13.1395 1 11.7564V5.07848C1 3.69544 2.12118 2.57425 3.50423 2.57425H11.0169M12.6864 6.56343L9.78228 8.82525C8.96065 9.46527 7.80506 9.44999 7.00063 8.78847L3.50423 5.91323M15.2587 1.73951C14.6371 1.73805 14.0621 2.06877 13.7509 2.60678C13.4396 3.14479 13.4395 3.8081 13.7506 4.34622C14.0617 4.88433 14.6365 5.21524 15.2581 5.21399C15.8797 5.21545 16.4552 4.88473 16.7665 4.34672C17.0777 3.80871 17.0778 3.1454 16.7668 2.60728C16.4557 2.06917 15.8802 1.73826 15.2587 1.73951Z" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
<span>Рассылки</span></a><a class="menu_item mini_landing_page" data-remote="true" href="/projects/569981/mini_landing_pages"><div class="for_active"></div><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M3.81055 4.02691H14.1889" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M5.54004 1.43243H12.459" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M3.65851 8.77503C3.65591 8.77503 3.65418 8.77676 3.65418 8.77936C3.65418 8.78195 3.65591 8.78368 3.65851 8.78368C3.6611 8.78368 3.66283 8.78195 3.66283 8.77936C3.66283 8.77676 3.6611 8.77503 3.65851 8.77503" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M5.85773 8.77503C5.85513 8.77503 5.8534 8.77676 5.8534 8.77936C5.8534 8.78195 5.856 8.78368 5.85773 8.78368C5.86032 8.78368 5.86205 8.78195 5.86205 8.77936C5.86205 8.77676 5.86032 8.77503 5.85773 8.77503" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M8.05353 8.77503C8.05093 8.77503 8.0492 8.77676 8.0492 8.77936C8.0492 8.78195 8.05093 8.78368 8.05353 8.78368C8.05612 8.78368 8.05785 8.78195 8.05785 8.77936C8.05785 8.77676 8.05612 8.77503 8.05353 8.77503" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M1.25635 10.9459H16.7841" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M15.045 17H2.9542C1.9942 17 1.21582 16.2259 1.21582 15.2702V8.35131C1.21582 7.39564 1.9942 6.62158 2.9542 6.62158H15.045C16.005 6.62158 16.7834 7.39564 16.7834 8.35131V15.2702C16.7834 16.2259 16.0041 17 15.045 17V17Z" stroke="#95A3BA" stroke-width="1.5038" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
<span>Сайты</span></a><a class="menu_item course" href="/projects/569981/courses"><div class="for_active"></div><svg width="18" height="17" viewBox="0 0 18 17" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M14.9059 8.11534V13.2707C14.906 16.9098 3.20993 16.9098 3.20994 13.2707V8.11534M1.51963 4.95384L8.45907 1.19006C8.82454 0.939015 9.29037 0.936233 9.65421 1.19007L16.487 4.95846C17.1123 5.39472 17.1651 6.34012 16.6501 6.86361C16.5443 6.97116 16.4129 7.04197 16.2794 7.11229C15.1924 7.68495 9.9652 10.4413 9.64379 10.6601C9.28495 10.9043 8.83002 10.9016 8.46963 10.6601L1.53011 7.01291C0.827888 6.54232 0.822244 5.43288 1.51963 4.95384Z" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
<span>Курсы</span></a><a class="menu_item translations" href="/projects/569981/translations"><div class="for_active"></div><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M5.95229 1L8.99991 3.28571L12.0475 1M5.95229 15.4762L5.19038 17M12.0475 15.4762L12.8094 17M6.25705 15.4762H11.7428C13.4496 15.4762 14.303 15.4762 14.9549 15.144C15.5284 14.8518 15.9946 14.3856 16.2868 13.8122C16.619 13.1602 16.619 12.3068 16.619 10.6V8.1619C16.619 6.45508 16.619 5.60166 16.2868 4.94974C15.9946 4.3763 15.5284 3.91007 14.9549 3.61788C14.303 3.28571 13.4496 3.28571 11.7428 3.28571H6.25705C4.55022 3.28571 3.69681 3.28571 3.04489 3.61788C2.47144 3.91007 2.00522 4.3763 1.71303 4.94974C1.38086 5.60166 1.38086 6.45508 1.38086 8.1619V10.6C1.38086 12.3068 1.38086 13.1602 1.71303 13.8122C2.00522 14.3856 2.47144 14.8518 3.04489 15.144C3.69681 15.4762 4.55022 15.4762 6.25705 15.4762Z" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
<span>Трансляции</span></a><a class="menu_item statistic" data-remote="true" href="/projects/569981/statistic"><div class="for_active"></div><svg width="18" height="16" viewBox="0 0 18 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M15.4 15.2C14.516 15.2 13.8 14.484 13.8 13.6V2.40005C13.8 1.51605 14.516 0.800049 15.4 0.800049C16.284 0.800049 17 1.51605 17 2.40005V13.6C17 14.484 16.284 15.2 15.4 15.2Z" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M2.6 15.2C1.716 15.2 1 14.484 1 13.6V6.94725C1 6.06325 1.716 5.34725 2.6 5.34725C3.484 5.34725 4.2 6.06325 4.2 6.94725V13.6C4.2 14.484 3.484 15.2 2.6 15.2Z" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M9 15.2C8.116 15.2 7.4 14.484 7.4 13.6V11.4944C7.4 10.6104 8.116 9.89445 9 9.89445C9.884 9.89445 10.6 10.6104 10.6 11.4944V13.6C10.6 14.484 9.884 15.2 9 15.2Z" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
<span>Аналитика</span></a><a class="menu_item parsers" href="/projects/569981/parsers"><div class="for_active"></div><svg width="18" height="19" viewBox="3 4 18 16" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M13.3333 13.5556H16.4444M13.3333 16.2222H16.4444M16.4444 10.4444H13.3333M16.4444 7.77778H13.3333M8.44444 20H15.5556C18.0102 20 20 18.0102 20 15.5556V8.44444C20 5.98985 18.0102 4 15.5556 4H8.44444C5.98985 4 4 5.98985 4 8.44444V15.5556C4 18.0102 5.98985 20 8.44444 20ZM8.5926 16.4444H9.62963C10.2024 16.4444 10.6667 15.9801 10.6667 15.4074V14.3704C10.6667 13.7976 10.2024 13.3333 9.62963 13.3333H8.5926C8.01985 13.3333 7.55556 13.7976 7.55556 14.3704V15.4074C7.55556 15.9801 8.01985 16.4444 8.5926 16.4444ZM8.5926 10.6667H9.62963C10.2024 10.6667 10.6667 10.2024 10.6667 9.62963V8.5926C10.6667 8.01985 10.2024 7.55556 9.62963 7.55556H8.5926C8.01985 7.55556 7.55556 8.01985 7.55556 8.5926V9.62963C7.55556 10.2024 8.01985 10.6667 8.5926 10.6667Z" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg><span>Парсер</span></a><a class="menu_item widgets_left_item widget_icon_nav" href="/projects/569981/widgets"><div class="for_active"></div><svg width="18" height="18" viewBox="3 4 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M6.85714 8.95455H10.2857M6.85714 12.5H10.2857M6.85714 16.0455H10.2857M4 9.9V18C4 18.5523 4.44772 19 5 19H19C19.5523 19 20 18.5523 20 18V9.9V7C20 6.44772 19.5523 6 19 6H5C4.44772 6 4 6.44771 4 7V9.9ZM13.7143 8.95455H17.1429V16.0455H13.7143V8.95455Z" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
<span class="mr-8">Виджеты</span><div class="new-icon"></div></a><a class="menu_item file_storage" href="/projects/569981/filestorage"><div class="for_active"></div><svg xmlns="http://www.w3.org/2000/svg" width="18" height="16" viewBox="0 0 18 16" fill="none">
  <path d="M15.2222 3.61333C16.2044 3.61333 17 4.40978 17 5.39111V13.4444C17 14.5 16.1565 15.2222 15.2222 15.2222H2.77778C1.79556 15.2222 1 14.4267 1 13.4444V2.77778C1 1.79556 1.79556 1 2.77778 1H6.752C7.04622 1 7.32089 1.14578 7.48622 1.38844L8.73511 3.224C8.90044 3.46756 9.176 3.61333 9.47022 3.61333H15.2222Z" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg><span class="mr-8">Файловое хранилище</span></a><a class="menu_item email_domains" href="/domain"><div class="for_active"></div><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M5.44444 2.77778H1M5.44444 9H1M5.44444 15.2222H1.88889C1.39822 15.2222 1 14.824 1 14.3333V1M16.1111 4.55556H6.33333C5.84267 4.55556 5.44444 4.15733 5.44444 3.66667V1.88889C5.44444 1.39822 5.84267 1 6.33333 1H16.1111C16.6018 1 17 1.39822 17 1.88889V3.66667C17 4.15733 16.6018 4.55556 16.1111 4.55556ZM16.1111 10.7778H6.33333C5.84267 10.7778 5.44444 10.3796 5.44444 9.88889V8.11111C5.44444 7.62044 5.84267 7.22222 6.33333 7.22222H16.1111C16.6018 7.22222 17 7.62044 17 8.11111V9.88889C17 10.3796 16.6018 10.7778 16.1111 10.7778ZM16.1111 17H6.33333C5.84267 17 5.44444 16.6018 5.44444 16.1111V14.3333C5.44444 13.8427 5.84267 13.4444 6.33333 13.4444H16.1111C16.6018 13.4444 17 13.8427 17 14.3333V16.1111C17 16.6018 16.6018 17 16.1111 17Z" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg><span>Почтовые домены</span></a><a class="menu_item products" data-remote="true" href="/projects/569981/settings_online_record"><div class="for_active"></div><svg width="17" height="18" viewBox="0 0 17 18" fill="none" xmlns="http://www.w3.org/2000/svg">
<g id="Group 36">
<path id="Icon" d="M16.1579 8.57895L9.76285 2.18391C9.32592 1.74697 9.10745 1.52851 8.85251 1.37228C8.62647 1.23376 8.38004 1.13169 8.12227 1.0698C7.83152 1 7.52256 1 6.90465 1L3.52631 1" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path id="Icon_2" d="M5.09175 7.61807H5.09857M1 5.70859L1 8.76002C1 9.09362 1 9.26042 1.03769 9.41739C1.0711 9.55656 1.1262 9.6896 1.20099 9.81163C1.28533 9.94927 1.40328 10.0672 1.63917 10.3031L6.86885 15.5328C7.67905 16.343 8.08415 16.7481 8.55128 16.8999C8.96218 17.0334 9.4048 17.0334 9.8157 16.8999C10.2828 16.7481 10.6879 16.343 11.4981 15.5328L13.0065 14.0245C13.8167 13.2143 14.2218 12.8092 14.3736 12.342C14.5071 11.9311 14.5071 11.4885 14.3736 11.0776C14.2218 10.6105 13.8167 10.2054 13.0065 9.39517L7.77679 4.16549C7.5409 3.9296 7.42295 3.81165 7.28531 3.72731C7.16328 3.65253 7.03024 3.59742 6.89107 3.56401C6.7341 3.52632 6.5673 3.52632 6.2337 3.52632L3.18227 3.52632C2.4184 3.52632 2.03647 3.52632 1.74471 3.67498C1.48807 3.80574 1.27942 4.0144 1.14866 4.27103C1 4.56279 1 4.94472 1 5.70859ZM5.43273 7.61807C5.43273 7.80639 5.28007 7.95905 5.09175 7.95905C4.90343 7.95905 4.75077 7.80639 4.75077 7.61807C4.75077 7.42975 4.90343 7.27709 5.09175 7.27709C5.28007 7.27709 5.43273 7.42975 5.43273 7.61807Z" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</g>
</svg>
<span class="mr-8">Услуги</span><div class="new-icon"></div></a></div><div class="bot_settings_heading"><svg width="10" height="6" viewBox="0 0 10 6" fill="none" xmlns="http://www.w3.org/2000/svg">
<path opacity="0.4" d="M5 1L1 5L9 5L5 1Z" fill="#95A3BA" stroke="#95A3BA" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
<div class="bot_settings_title">Настройки проекта</div></div><div class="left_bar_bot_settings_bottom"><div class="left_bar_bot_settings"><a class="menu_item integrations" data-remote="true" href="/projects/569981/integrations"><div class="for_active"></div><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M13.9858 6.77778V3.16444C13.9858 1.96889 13.0169 1 11.8213 1H3.16444C1.96889 1 1 1.96889 1 3.16444V9.11644C1 10.312 1.96889 11.2809 3.16444 11.2809H4.24622V13.4444L6.33333 12.0533M11.6667 15.2222H8.11111C7.12889 15.2222 6.33333 14.4267 6.33333 13.4444V8.55556C6.33333 7.57333 7.12889 6.77778 8.11111 6.77778H15.2222C16.2044 6.77778 17 7.57333 17 8.55556V13.4444C17 14.4267 16.2044 15.2222 15.2222 15.2222H14.3333V17L11.6667 15.2222Z" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
<span>Каналы</span></a><a class="menu_item payments_integrations" data-remote="true" href="/projects/569981/payments_integrations"><div class="for_active"></div><svg width="18" height="14" viewBox="0 0 18 14" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M1 4.33339H17M6.84 7.88894H4.55556M14.3333 13.2223H3.66667C2.19378 13.2223 1 12.0285 1 10.5556V3.4445C1 1.97161 2.19378 0.777832 3.66667 0.777832H14.3333C15.8062 0.777832 17 1.97161 17 3.4445V10.5556C17 12.0285 15.8062 13.2223 14.3333 13.2223Z" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
<span>Платежные системы</span></a><a class="menu_item telephony_integrations" data-remote="true" href="/projects/569981/telephony_integrations"><div class="for_active"></div><svg width="18" height="20" viewBox="0 0 18 20" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M6.88629 11.2114C8.85099 13.177 11.3404 14.4298 12.8209 12.9556L13.18 12.5965C13.6579 12.1186 13.5913 11.3275 13.0369 10.9414C12.6868 10.6975 12.3106 10.4356 11.8948 10.1431C11.4646 9.8407 10.8742 9.8866 10.5007 10.2574L10.0948 10.6606C9.59169 10.342 9.09399 9.9325 8.63139 9.4708L8.62959 9.469C8.16789 9.0073 7.75839 8.5087 7.43979 8.0056L7.84299 7.5997C8.21379 7.2262 8.26059 6.6349 7.95639 6.2047C7.66389 5.7898 7.40199 5.4145 7.15989 5.0653C6.77469 4.5091 5.98269 4.4416 5.50389 4.9204L5.14479 5.2795C3.67149 6.76 4.92339 9.2476 6.88809 11.2141M10.8004 17.2L9.00039 19L7.20039 17.2H3.60039C2.10909 17.2 0.900391 15.9913 0.900391 14.5V3.7C0.900391 2.2087 2.10909 1 3.60039 1H14.4004C15.8917 1 17.1004 2.2087 17.1004 3.7V14.5C17.1004 15.9913 15.8917 17.2 14.4004 17.2H10.8004Z" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
<span>Телефония</span></a><a class="menu_item templates" data-remote="true" href="/projects/569981/templates"><div class="for_active"></div><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M14.8333 16.5H12.3333C11.4125 16.5 10.6667 15.7542 10.6667 14.8333V10.6667C10.6667 9.74583 11.4125 9 12.3333 9H14.8333C15.7542 9 16.5 9.74583 16.5 10.6667V14.8333C16.5 15.7542 15.7542 16.5 14.8333 16.5Z" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M14.8333 6.5H12.3333C11.4125 6.5 10.6667 5.75417 10.6667 4.83333V3.16667C10.6667 2.24583 11.4125 1.5 12.3333 1.5H14.8333C15.7542 1.5 16.5 2.24583 16.5 3.16667V4.83333C16.5 5.75417 15.7542 6.5 14.8333 6.5Z" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M3.16667 1.5H5.66667C6.5875 1.5 7.33333 2.24583 7.33333 3.16667V7.33333C7.33333 8.25417 6.5875 9 5.66667 9H3.16667C2.24583 9 1.5 8.25417 1.5 7.33333V3.16667C1.5 2.24583 2.24583 1.5 3.16667 1.5Z" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M3.16667 11.5H5.66667C6.5875 11.5 7.33333 12.2458 7.33333 13.1667V14.8333C7.33333 15.7542 6.5875 16.5 5.66667 16.5H3.16667C2.24583 16.5 1.5 15.7542 1.5 14.8333V13.1667C1.5 12.2458 2.24583 11.5 3.16667 11.5Z" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
<span>Шаблоны</span></a><a class="menu_item accesses" data-remote="true" href="/projects/569981/accesses"><div class="for_active"></div><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M7.73684 14.8948H2.68421C1.75405 14.8948 1 14.1408 1 13.2106V3.10535C1 2.17519 1.75405 1.42114 2.68421 1.42114H14.4737C15.4038 1.42114 16.1579 2.17519 16.1579 3.10535V6.47377M4.36842 5.63167H10.2632M4.36842 9.00009H7.73684M16.5789 16.579H11.1053C10.8727 16.579 10.6842 16.3905 10.6842 16.158V15.8161C10.687 14.8434 11.4748 14.0555 12.4476 14.0527H15.2366C16.2094 14.0555 16.9972 14.8434 17 15.8161V16.158C17 16.3905 16.8115 16.579 16.5789 16.579ZM13.8421 11.9475C12.9126 11.9456 12.1603 11.1911 12.1613 10.2616C12.1622 9.33206 12.916 8.57904 13.8455 8.57904C14.775 8.57904 15.5288 9.33206 15.5297 10.2616C15.5306 11.1911 14.7783 11.9456 13.8488 11.9475H13.8421Z" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
<span>Сотрудники</span></a><a class="menu_item backup_control" data-remote="true" href="/projects/569981/backup_control"><div class="for_active"></div><svg width="20" height="16" viewBox="0 0 20 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M6.4 14.2999L5.5 14.3C3.01472 14.3 1 12.2852 1 9.79995C1.00402 7.55521 2.6665 5.65895 4.89142 5.36131C5.63501 3.17318 7.68897 1.70109 10 1.69995C12.9823 1.69995 15.4 4.11761 15.4 7.09995C17.3882 7.09995 19 8.71173 19 10.7C19 12.6882 17.3882 14.3 15.4 14.3L13.6 14.2999M10 13.3999L11.8 11.5999M10 13.3999L8.2 11.5999M10 13.3999V8.89994" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
<span>Резервная копия</span></a><a class="menu_item payments" data-remote="true" href="/projects/569981/payment_info"><div class="for_active"></div><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M16.1579 8.15798H14.8947C13.732 8.15798 12.7895 9.10054 12.7895 10.2632C12.7895 11.426 13.732 12.3685 14.8947 12.3685H16.1579M16.1579 8.15798C16.623 8.15798 17 8.53501 17 9.00009V11.5264C17 11.9915 16.623 12.3685 16.1579 12.3685M16.1579 8.15798V6.05272C16.1579 4.89002 15.2153 3.94746 14.0526 3.94746H3.10526C1.94256 3.94746 1 4.89002 1 6.05272V14.4738C1 15.6365 1.94256 16.579 3.10526 16.579H14.0526C15.2153 16.579 16.1579 15.6365 16.1579 14.4738V12.3685M13.6316 1.42114H2.68421" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
<span>Оплата</span></a><a class="menu_item project" data-remote="true" href="/projects/569981/edit"><div class="for_active"></div><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M14.3337 2.7776H17.0004M1 2.7776H8.11131M9.88914 9H17.0004M1 9H3.66674M14.3337 15.2224H17.0004M1 15.2224H8.11131M13.8128 1.52068C14.507 2.21492 14.507 3.34029 13.8128 4.03453C13.1186 4.72877 11.9932 4.72877 11.299 4.03453C10.6047 3.34029 10.6047 2.21492 11.299 1.52068C11.9932 0.82644 13.1186 0.82644 13.8128 1.52068ZM6.70149 7.74308C7.39573 8.43732 7.39573 9.56268 6.70149 10.2569C6.00725 10.9512 4.88189 10.9512 4.18764 10.2569C3.4934 9.56268 3.4934 8.43732 4.18764 7.74308C4.88189 7.04883 6.00725 7.04883 6.70149 7.74308ZM13.8128 13.9655C14.507 14.6597 14.507 15.7851 13.8128 16.4793C13.1186 17.1736 11.9932 17.1736 11.299 16.4793C10.6047 15.7851 10.6047 14.6597 11.299 13.9655C11.9932 13.2712 13.1186 13.2712 13.8128 13.9655Z" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
<span>Настройки проекта</span></a></div></div><div class="left_bar_settings_button"><a class="menu_item settings" data-remote="true" rel="nofollow" data-method="post" href="/projects/569981/accesses/edit_main_left_bar"><span>Настроить пункты меню</span></a></div></div><div class="timezone-text timezone-text--left-bar">(GMT+03:00)</div><script>toggleUpperSubMenu()
toggleBotSettingsMenu()
if(localStorage.getItem("salebot_left_bar_toggle") == "1"){
    const dropDownBtn = document.querySelector(".bot_settings_heading")
    const botSettingsMenu = document.querySelector(".left_bar_bot_settings")
    const arrowTransform = dropDownBtn.firstChild
    botSettingsMenu.classList.add("hide_bot_settings")
    arrowTransform.style.transform = 'rotate(180deg)'
    arrowTransform.style.transition = '0.1s ease-in'
}
$(".project_link").click(function(e){
  let section = "";
  // if (location.pathname.includes('clients')) {
  //   section = location.pathname.split("/")[location.pathname.split("/").length - 2]
  //
  // } else{
  //   section = location.pathname.split("/")[location.pathname.split("/").length - 1]
  // }
    //   console.log('location.pathname: ' + location.pathname)
    //   console.log('href: ' + $(this).attr("href"))
    //   console.log("section " + section)
    //   console.log('array ' + location.pathname.split("/"))
  section = location.pathname.split("/")[3]
  $(this).attr("href", $(this).attr("href") + `/${section}`)
})

// поиск по проектам
function set_event_from_folder() {
  $('.folder_projects_item').off('click').on('click', function () {
    $.ajax({
      url: "/find_projects/569981",
      type: "GET",
      data: {
        folder: true,
        folder_name: $(this).find('.folder_project_name').text()
      }
    })
  })
}
set_event_from_folder()

$('#search-project__left-bar').on('input', function ({target}){
    let search = target.value
    console.log(search)
    $.ajax({
        url: '/find_projects/569981',
        type: 'GET',
        data: {
            search: search
        }
    })
})

$(".tasks").off("click").on("click", function (){
    console.log("1234123")
    if ($(".screen-toggler--icon[data-tooltip='Доска']").hasClass("screen-toggler--icon__active") && $(".left_menu_arrow_trigger").css("left") === ("285px" || "225px")) {
        $(".left_menu_arrow_trigger").trigger("click")
    }
})</script></div><div class="left_bar_container style-4 mini-left-bar pb-30" id="litle_left_bar"><div class="left_bar_main_project_little"><div class="row tooltipped" data-tooltip="Конструктор воронок" data-tooltip-position="left"><a class="messages custom_checkbox cat_button messages_link_link" href="/projects/569981/messages"><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M9 6.5V13.1667M14.8333 13.0383V11.5C14.8333 10.5792 14.0875 9.83333 13.1667 9.83333H4.83333C3.9125 9.83333 3.16667 10.5792 3.16667 11.5V13.0383M14 6.5H4C3.07917 6.5 2.33333 5.75417 2.33333 4.83333V3.16667C2.33333 2.24583 3.07917 1.5 4 1.5H14C14.9208 1.5 15.6667 2.24583 15.6667 3.16667V4.83333C15.6667 5.75417 14.9208 6.5 14 6.5ZM9.86417 16.5H8.13583C7.6925 16.5 7.33333 16.1408 7.33333 15.6975V13.9692C7.33333 13.5258 7.6925 13.1667 8.13583 13.1667H9.86417C10.3075 13.1667 10.6667 13.5258 10.6667 13.9692V15.6975C10.6667 16.1408 10.3075 16.5 9.86417 16.5ZM15.6975 16.5H13.9692C13.5258 16.5 13.1667 16.1408 13.1667 15.6975V13.9692C13.1667 13.5258 13.5258 13.1667 13.9692 13.1667H15.6975C16.1408 13.1667 16.5 13.5258 16.5 13.9692V15.6975C16.5 16.1408 16.1408 16.5 15.6975 16.5ZM4.03083 16.5H2.3025C1.85917 16.5 1.5 16.1408 1.5 15.6975V13.9692C1.5 13.5258 1.85917 13.1667 2.3025 13.1667H4.03083C4.47417 13.1667 4.83333 13.5258 4.83333 13.9692V15.6975C4.83333 16.1408 4.47417 16.5 4.03083 16.5Z" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
<span>Конст-р</span></a></div><div class="row tooltipped" data-tooltip="AI ассистент" data-tooltip-position="left"><a class="custom_checkbox cat_button ai_assistant_link_link" href="/projects/569981/ai_assistant"><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M7.67379 0.530592C12.0343 -0.539085 16.5613 1.50867 18.6371 5.48977C20.713 9.47086 19.8004 14.355 16.427 17.3179C13.1379 20.2068 8.33936 20.5403 4.69057 18.1709L2.16112 18.733C1.91081 18.7886 1.64942 18.7125 1.4681 18.5312C1.28678 18.3498 1.21067 18.0884 1.26629 17.8381L1.82815 15.3098C0.798512 13.7329 0.248773 11.888 0.250002 9.99989C0.248035 5.51029 3.31343 1.60023 7.67379 0.530592ZM17.3071 6.18328C15.5508 2.81494 11.7205 1.08236 8.03116 1.9874C4.3418 2.89244 1.74817 6.20087 1.75 9.99961C1.74882 11.6909 2.27059 13.342 3.24382 14.7252C3.36523 14.8978 3.40835 15.1135 3.36257 15.3195L2.98624 17.013L4.67962 16.6367C4.8848 16.5911 5.09969 16.6337 5.27197 16.7541C8.38559 18.9303 12.583 18.6977 15.4372 16.1909C18.2913 13.684 19.0634 9.55163 17.3071 6.18328ZM7.15652 7.2688C7.25674 6.95948 7.54485 6.74997 7.87 6.74997H9.13C9.45515 6.74997 9.74327 6.95948 9.84349 7.2688L11.4635 12.2688C11.5912 12.6628 11.3752 13.0858 10.9812 13.2135C10.5871 13.3411 10.1642 13.1252 10.0365 12.7311L9.88062 12.25H7.11939L6.96349 12.7311C6.83582 13.1252 6.41288 13.3411 6.01883 13.2135C5.62479 13.0858 5.40885 12.6628 5.53652 12.2688L5.82996 11.3631C5.84195 11.2981 5.86233 11.236 5.88994 11.178L7.15652 7.2688ZM7.60539 10.75H9.39462L8.58462 8.24997H8.41539L7.60539 10.75ZM13.5 6.74997C13.9142 6.74997 14.25 7.08575 14.25 7.49997V12.5C14.25 12.9142 13.9142 13.25 13.5 13.25C13.0858 13.25 12.75 12.9142 12.75 12.5V7.49997C12.75 7.08575 13.0858 6.74997 13.5 6.74997Z" fill="#95A3BA"/>
</svg>
<span>AI асс-т</span></a></div><div class="row tooltipped" data-tooltip="Клиенты" data-tooltip-position="left"><div class="count-circle count-circle_unread_messages"></div><a class="clients custom_checkbox cat_button" data-remote="true" href="/projects/569981/clients"><svg width="18" height="12" viewBox="0 0 18 12" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M4.66618 4.69692C3.59496 4.69692 2.93839 3.81803 2.93871 3.15129C2.93902 2.48455 3.41312 1.3026 4.48434 1.3026M2.39319 10.2733C1.27276 10.1218 1 9.63679 1 8.75796C1 7.87912 2.00012 6.66685 3.42361 6.84868M15.6068 10.2733C16.7272 10.1218 17 9.6368 17 8.75796C17 7.87913 15.9999 6.66685 14.5764 6.84869M13.3338 4.69692C14.405 4.69692 15.0616 3.81803 15.0613 3.15129C15.061 2.48455 14.5869 1.3026 13.5157 1.3026M10.9396 2.69669C10.9396 3.76791 10.0712 4.63631 9 4.63631C7.92878 4.63631 7.06039 3.76791 7.06039 2.69669C7.06039 1.62547 7.92878 0.75708 9 0.75708C10.0712 0.75708 10.9396 1.62547 10.9396 2.69669ZM10.9396 11.2431H7.06039C5.98917 11.2431 5.12077 10.9097 5.12077 9.90963C5.12077 8.09451 7.06039 7.39419 9 7.39419C10.9396 7.39419 12.8792 8.09451 12.8792 9.90963C12.8792 10.9097 12.0108 11.2431 10.9396 11.2431Z" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round"/>
</svg>
<span>Клиенты</span></a></div><div class="row tooltipped" data-tooltip="Ученики" data-tooltip-position="left"><div class="count-circle count-circle__unchecked_homework"></div><a class="students custom_checkbox cat_button" data-remote="true" href="/projects/569981/customers"><svg width="18" height="12" viewBox="0 0 18 12" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M4.66618 4.69692C3.59496 4.69692 2.93839 3.81803 2.93871 3.15129C2.93902 2.48455 3.41312 1.3026 4.48434 1.3026M2.39319 10.2733C1.27276 10.1218 1 9.63679 1 8.75796C1 7.87912 2.00012 6.66685 3.42361 6.84868M15.6068 10.2733C16.7272 10.1218 17 9.6368 17 8.75796C17 7.87913 15.9999 6.66685 14.5764 6.84869M13.3338 4.69692C14.405 4.69692 15.0616 3.81803 15.0613 3.15129C15.061 2.48455 14.5869 1.3026 13.5157 1.3026M10.9396 2.69669C10.9396 3.76791 10.0712 4.63631 9 4.63631C7.92878 4.63631 7.06039 3.76791 7.06039 2.69669C7.06039 1.62547 7.92878 0.75708 9 0.75708C10.0712 0.75708 10.9396 1.62547 10.9396 2.69669ZM10.9396 11.2431H7.06039C5.98917 11.2431 5.12077 10.9097 5.12077 9.90963C5.12077 8.09451 7.06039 7.39419 9 7.39419C10.9396 7.39419 12.8792 8.09451 12.8792 9.90963C12.8792 10.9097 12.0108 11.2431 10.9396 11.2431Z" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round"/>
</svg>
<span>Ученики</span></a></div><div class="row tooltipped" data-tooltip="CRM" data-tooltip-position="left"><a class="pipelines custom_checkbox cat_button" data-remote="true" href="/projects/569981/pipelines"><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M10.2938 7.7035L8.17996 9.81729M7.73362 2.66324C3.89208 2.89902 0.920798 6.12377 0.999578 9.97174C1.07836 13.8197 4.17913 16.9201 8.02711 16.9985C11.8751 17.0768 15.0995 14.1052 15.3349 10.2636M12.1212 10.2636C11.8948 12.3371 10.1057 13.8838 8.02134 13.8082C5.93694 13.7326 4.26465 12.0603 4.18904 9.97591C4.11344 7.89151 5.66018 6.10246 7.73362 5.87604M10.2601 4.36859V7.73719H13.6287L16.9973 4.36859L14.7512 3.24601L13.6287 1L10.2601 4.36859Z" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
<span>CRM</span></a></div><div class="row tooltipped" data-tooltip="Задачи" data-tooltip-position="left"><div class="count-circle count-circle_left_bar"></div><a class="tasks custom_checkbox cat_button" data-remote="true" href="/projects/569981/tasks"><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M9.84622 11.2042H13.4018M4.51289 10.9606L5.32978 11.6966L6.97511 10.2157M9.84622 6.75974H13.4018M4.51289 6.51619L5.32978 7.25219L6.97422 5.7713M5.44259 17H12.5574C15.011 17 17 15.011 17 12.5574V5.44259C17 2.98902 15.011 1 12.5574 1H5.44259C2.98902 1 1 2.98902 1 5.44259V12.5574C1 15.011 2.98902 17 5.44259 17Z" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
<span>Задачи</span></a></div><div class="row tooltipped" data-tooltip="Списки" data-tooltip-position="left"><a class="lists custom_checkbox cat_button" href="/projects/569981/lists"><svg width="15" height="12" viewBox="0 0 15 12" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M4.54395 1.21948H14.0001M14.0001 5.99999H4.54395M4.54395 10.7805H14.0001" stroke="#95A3BA" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M0.884211 0.335205C0.395875 0.335205 0 0.73108 0 1.21942C0 1.70775 0.395875 2.10363 0.884211 2.10363C1.37255 2.10363 1.76842 1.70775 1.76842 1.21942C1.76842 0.73108 1.37255 0.335205 0.884211 0.335205Z" fill="#95A3BA"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M0.884211 5.11574C0.395875 5.11574 0 5.51161 0 5.99995C0 6.48828 0.395875 6.88416 0.884211 6.88416C1.37255 6.88416 1.76842 6.48828 1.76842 5.99995C1.76842 5.51161 1.37255 5.11574 0.884211 5.11574Z" fill="#95A3BA"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M0.884211 9.89628C0.395875 9.89628 0 10.2922 0 10.7805C0 11.2688 0.395875 11.6647 0.884211 11.6647C1.37255 11.6647 1.76842 11.2688 1.76842 10.7805C1.76842 10.2922 1.37255 9.89628 0.884211 9.89628Z" fill="#95A3BA"/>
</svg>
<span>Списки</span></a></div><div class="row tooltipped" data-tooltip="Рассылки" data-tooltip-position="left"><a class="mailings_left_bar custom_checkbox cat_button" data-remote="true" href="/projects/569981/mailings"><svg width="18" height="16" viewBox="0 0 18 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M16.0254 7.58271V11.7564C16.0254 13.1395 14.9042 14.2607 13.5211 14.2607H3.50423C2.12118 14.2607 1 13.1395 1 11.7564V5.07848C1 3.69544 2.12118 2.57425 3.50423 2.57425H11.0169M12.6864 6.56343L9.78228 8.82525C8.96065 9.46527 7.80506 9.44999 7.00063 8.78847L3.50423 5.91323M15.2587 1.73951C14.6371 1.73805 14.0621 2.06877 13.7509 2.60678C13.4396 3.14479 13.4395 3.8081 13.7506 4.34622C14.0617 4.88433 14.6365 5.21524 15.2581 5.21399C15.8797 5.21545 16.4552 4.88473 16.7665 4.34672C17.0777 3.80871 17.0778 3.1454 16.7668 2.60728C16.4557 2.06917 15.8802 1.73826 15.2587 1.73951Z" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
<span>Расс-ки</span></a></div><div class="row tooltipped" data-tooltip="Сайты" data-tooltip-position="left"><a class="mini_landing_page custom_checkbox cat_button" data-remote="true" href="/projects/569981/mini_landing_pages"><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M3.81055 4.02691H14.1889" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M5.54004 1.43243H12.459" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M3.65851 8.77503C3.65591 8.77503 3.65418 8.77676 3.65418 8.77936C3.65418 8.78195 3.65591 8.78368 3.65851 8.78368C3.6611 8.78368 3.66283 8.78195 3.66283 8.77936C3.66283 8.77676 3.6611 8.77503 3.65851 8.77503" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M5.85773 8.77503C5.85513 8.77503 5.8534 8.77676 5.8534 8.77936C5.8534 8.78195 5.856 8.78368 5.85773 8.78368C5.86032 8.78368 5.86205 8.78195 5.86205 8.77936C5.86205 8.77676 5.86032 8.77503 5.85773 8.77503" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M8.05353 8.77503C8.05093 8.77503 8.0492 8.77676 8.0492 8.77936C8.0492 8.78195 8.05093 8.78368 8.05353 8.78368C8.05612 8.78368 8.05785 8.78195 8.05785 8.77936C8.05785 8.77676 8.05612 8.77503 8.05353 8.77503" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M1.25635 10.9459H16.7841" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M15.045 17H2.9542C1.9942 17 1.21582 16.2259 1.21582 15.2702V8.35131C1.21582 7.39564 1.9942 6.62158 2.9542 6.62158H15.045C16.005 6.62158 16.7834 7.39564 16.7834 8.35131V15.2702C16.7834 16.2259 16.0041 17 15.045 17V17Z" stroke="#95A3BA" stroke-width="1.5038" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
<span>Сайты</span></a></div><div class="row tooltipped" data-tooltip="Курсы" data-tooltip-position="left"><a class="course custom_checkbox cat_button" href="/projects/569981/courses"><svg width="18" height="17" viewBox="0 0 18 17" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M14.9059 8.11534V13.2707C14.906 16.9098 3.20993 16.9098 3.20994 13.2707V8.11534M1.51963 4.95384L8.45907 1.19006C8.82454 0.939015 9.29037 0.936233 9.65421 1.19007L16.487 4.95846C17.1123 5.39472 17.1651 6.34012 16.6501 6.86361C16.5443 6.97116 16.4129 7.04197 16.2794 7.11229C15.1924 7.68495 9.9652 10.4413 9.64379 10.6601C9.28495 10.9043 8.83002 10.9016 8.46963 10.6601L1.53011 7.01291C0.827888 6.54232 0.822244 5.43288 1.51963 4.95384Z" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
<span>Курсы</span></a></div><div class="row tooltipped" data-tooltip="Трансляции" data-tooltip-position="left"><a class="translations custom_checkbox cat_button" href="/projects/569981/translations"><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M5.95229 1L8.99991 3.28571L12.0475 1M5.95229 15.4762L5.19038 17M12.0475 15.4762L12.8094 17M6.25705 15.4762H11.7428C13.4496 15.4762 14.303 15.4762 14.9549 15.144C15.5284 14.8518 15.9946 14.3856 16.2868 13.8122C16.619 13.1602 16.619 12.3068 16.619 10.6V8.1619C16.619 6.45508 16.619 5.60166 16.2868 4.94974C15.9946 4.3763 15.5284 3.91007 14.9549 3.61788C14.303 3.28571 13.4496 3.28571 11.7428 3.28571H6.25705C4.55022 3.28571 3.69681 3.28571 3.04489 3.61788C2.47144 3.91007 2.00522 4.3763 1.71303 4.94974C1.38086 5.60166 1.38086 6.45508 1.38086 8.1619V10.6C1.38086 12.3068 1.38086 13.1602 1.71303 13.8122C2.00522 14.3856 2.47144 14.8518 3.04489 15.144C3.69681 15.4762 4.55022 15.4762 6.25705 15.4762Z" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
<span>Транс-и</span></a></div><div class="row tooltipped" data-tooltip="Аналитика" data-tooltip-position="left"><a class="statistic custom_checkbox cat_button" data-remote="true" href="/projects/569981/statistic"><svg width="18" height="16" viewBox="0 0 18 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M15.4 15.2C14.516 15.2 13.8 14.484 13.8 13.6V2.40005C13.8 1.51605 14.516 0.800049 15.4 0.800049C16.284 0.800049 17 1.51605 17 2.40005V13.6C17 14.484 16.284 15.2 15.4 15.2Z" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M2.6 15.2C1.716 15.2 1 14.484 1 13.6V6.94725C1 6.06325 1.716 5.34725 2.6 5.34725C3.484 5.34725 4.2 6.06325 4.2 6.94725V13.6C4.2 14.484 3.484 15.2 2.6 15.2Z" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M9 15.2C8.116 15.2 7.4 14.484 7.4 13.6V11.4944C7.4 10.6104 8.116 9.89445 9 9.89445C9.884 9.89445 10.6 10.6104 10.6 11.4944V13.6C10.6 14.484 9.884 15.2 9 15.2Z" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
<span>А-тика</span></a></div><div class="row tooltipped" data-tooltip="Парсер" data-tooltip-position="left"><a class="parsers custom_checkbox cat_button" href="/projects/569981/parsers"><svg width="18" height="19" viewBox="3 4 18 16" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M13.3333 13.5556H16.4444M13.3333 16.2222H16.4444M16.4444 10.4444H13.3333M16.4444 7.77778H13.3333M8.44444 20H15.5556C18.0102 20 20 18.0102 20 15.5556V8.44444C20 5.98985 18.0102 4 15.5556 4H8.44444C5.98985 4 4 5.98985 4 8.44444V15.5556C4 18.0102 5.98985 20 8.44444 20ZM8.5926 16.4444H9.62963C10.2024 16.4444 10.6667 15.9801 10.6667 15.4074V14.3704C10.6667 13.7976 10.2024 13.3333 9.62963 13.3333H8.5926C8.01985 13.3333 7.55556 13.7976 7.55556 14.3704V15.4074C7.55556 15.9801 8.01985 16.4444 8.5926 16.4444ZM8.5926 10.6667H9.62963C10.2024 10.6667 10.6667 10.2024 10.6667 9.62963V8.5926C10.6667 8.01985 10.2024 7.55556 9.62963 7.55556H8.5926C8.01985 7.55556 7.55556 8.01985 7.55556 8.5926V9.62963C7.55556 10.2024 8.01985 10.6667 8.5926 10.6667Z" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg><span>Парсер</span></a></div><div class="row tooltipped" data-tooltip="Виджеты" data-tooltip-position="left"><a class="widget_icon custom_checkbox cat_button widget_icon_nav" href="/projects/569981/widgets"><svg width="18" height="18" viewBox="3 4 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M6.85714 8.95455H10.2857M6.85714 12.5H10.2857M6.85714 16.0455H10.2857M4 9.9V18C4 18.5523 4.44772 19 5 19H19C19.5523 19 20 18.5523 20 18V9.9V7C20 6.44772 19.5523 6 19 6H5C4.44772 6 4 6.44771 4 7V9.9ZM13.7143 8.95455H17.1429V16.0455H13.7143V8.95455Z" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
<span>Виджеты</span></a></div><div class="row tooltipped" data-tooltip="Файловое хранилище" data-tooltip-position="left"><a class="file_storage custom_checkbox cat_button" href="/projects/569981/filestorage"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="16" viewBox="0 0 18 16" fill="none">
  <path d="M15.2222 3.61333C16.2044 3.61333 17 4.40978 17 5.39111V13.4444C17 14.5 16.1565 15.2222 15.2222 15.2222H2.77778C1.79556 15.2222 1 14.4267 1 13.4444V2.77778C1 1.79556 1.79556 1 2.77778 1H6.752C7.04622 1 7.32089 1.14578 7.48622 1.38844L8.73511 3.224C8.90044 3.46756 9.176 3.61333 9.47022 3.61333H15.2222Z" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg><span>Хран-ще</span></a></div><div class="row tooltipped" data-tooltip="Почтовые домены" data-tooltip-position="left"><a class="email_domains custom_checkbox cat_button" href="/domain"><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M5.44444 2.77778H1M5.44444 9H1M5.44444 15.2222H1.88889C1.39822 15.2222 1 14.824 1 14.3333V1M16.1111 4.55556H6.33333C5.84267 4.55556 5.44444 4.15733 5.44444 3.66667V1.88889C5.44444 1.39822 5.84267 1 6.33333 1H16.1111C16.6018 1 17 1.39822 17 1.88889V3.66667C17 4.15733 16.6018 4.55556 16.1111 4.55556ZM16.1111 10.7778H6.33333C5.84267 10.7778 5.44444 10.3796 5.44444 9.88889V8.11111C5.44444 7.62044 5.84267 7.22222 6.33333 7.22222H16.1111C16.6018 7.22222 17 7.62044 17 8.11111V9.88889C17 10.3796 16.6018 10.7778 16.1111 10.7778ZM16.1111 17H6.33333C5.84267 17 5.44444 16.6018 5.44444 16.1111V14.3333C5.44444 13.8427 5.84267 13.4444 6.33333 13.4444H16.1111C16.6018 13.4444 17 13.8427 17 14.3333V16.1111C17 16.6018 16.6018 17 16.1111 17Z" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg><span>Почт. д-ны</span></a></div><div class="row tooltipped" data-tooltip="Услуги" data-tooltip-position="left"><a class="products custom_checkbox cat_button" data-remote="true" href="/projects/569981/settings_online_record"><svg width="17" height="18" viewBox="0 0 17 18" fill="none" xmlns="http://www.w3.org/2000/svg">
<g id="Group 36">
<path id="Icon" d="M16.1579 8.57895L9.76285 2.18391C9.32592 1.74697 9.10745 1.52851 8.85251 1.37228C8.62647 1.23376 8.38004 1.13169 8.12227 1.0698C7.83152 1 7.52256 1 6.90465 1L3.52631 1" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path id="Icon_2" d="M5.09175 7.61807H5.09857M1 5.70859L1 8.76002C1 9.09362 1 9.26042 1.03769 9.41739C1.0711 9.55656 1.1262 9.6896 1.20099 9.81163C1.28533 9.94927 1.40328 10.0672 1.63917 10.3031L6.86885 15.5328C7.67905 16.343 8.08415 16.7481 8.55128 16.8999C8.96218 17.0334 9.4048 17.0334 9.8157 16.8999C10.2828 16.7481 10.6879 16.343 11.4981 15.5328L13.0065 14.0245C13.8167 13.2143 14.2218 12.8092 14.3736 12.342C14.5071 11.9311 14.5071 11.4885 14.3736 11.0776C14.2218 10.6105 13.8167 10.2054 13.0065 9.39517L7.77679 4.16549C7.5409 3.9296 7.42295 3.81165 7.28531 3.72731C7.16328 3.65253 7.03024 3.59742 6.89107 3.56401C6.7341 3.52632 6.5673 3.52632 6.2337 3.52632L3.18227 3.52632C2.4184 3.52632 2.03647 3.52632 1.74471 3.67498C1.48807 3.80574 1.27942 4.0144 1.14866 4.27103C1 4.56279 1 4.94472 1 5.70859ZM5.43273 7.61807C5.43273 7.80639 5.28007 7.95905 5.09175 7.95905C4.90343 7.95905 4.75077 7.80639 4.75077 7.61807C4.75077 7.42975 4.90343 7.27709 5.09175 7.27709C5.28007 7.27709 5.43273 7.42975 5.43273 7.61807Z" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</g>
</svg>
<span>Услуги</span><div class="new-icon"></div></a></div></div><div class="left_bar_bot_settings_little"><div class="bot_settings_heading_little_menu"><div class="row tooltipped" data-tooltip="Каналы" data-tooltip-position="left"><a class="integrations custom_checkbox cat_button" data-remote="true" href="/projects/569981/integrations"><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M13.9858 6.77778V3.16444C13.9858 1.96889 13.0169 1 11.8213 1H3.16444C1.96889 1 1 1.96889 1 3.16444V9.11644C1 10.312 1.96889 11.2809 3.16444 11.2809H4.24622V13.4444L6.33333 12.0533M11.6667 15.2222H8.11111C7.12889 15.2222 6.33333 14.4267 6.33333 13.4444V8.55556C6.33333 7.57333 7.12889 6.77778 8.11111 6.77778H15.2222C16.2044 6.77778 17 7.57333 17 8.55556V13.4444C17 14.4267 16.2044 15.2222 15.2222 15.2222H14.3333V17L11.6667 15.2222Z" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
<span>Каналы</span></a></div><div class="row tooltipped" data-tooltip="Платежные системы" data-tooltip-position="left"><a class="custom_checkbox payments_integrations cat_button" data-remote="true" href="/projects/569981/payments_integrations"><svg width="18" height="14" viewBox="0 0 18 14" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M1 4.33339H17M6.84 7.88894H4.55556M14.3333 13.2223H3.66667C2.19378 13.2223 1 12.0285 1 10.5556V3.4445C1 1.97161 2.19378 0.777832 3.66667 0.777832H14.3333C15.8062 0.777832 17 1.97161 17 3.4445V10.5556C17 12.0285 15.8062 13.2223 14.3333 13.2223Z" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
<span>Платежи</span></a></div><div class="row tooltipped" data-tooltip="Телефония" data-tooltip-position="left"><a class="custom_checkbox cat_button telephony_integrations" data-remote="true" href="/projects/569981/telephony_integrations"><svg width="18" height="20" viewBox="0 0 18 20" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M6.88629 11.2114C8.85099 13.177 11.3404 14.4298 12.8209 12.9556L13.18 12.5965C13.6579 12.1186 13.5913 11.3275 13.0369 10.9414C12.6868 10.6975 12.3106 10.4356 11.8948 10.1431C11.4646 9.8407 10.8742 9.8866 10.5007 10.2574L10.0948 10.6606C9.59169 10.342 9.09399 9.9325 8.63139 9.4708L8.62959 9.469C8.16789 9.0073 7.75839 8.5087 7.43979 8.0056L7.84299 7.5997C8.21379 7.2262 8.26059 6.6349 7.95639 6.2047C7.66389 5.7898 7.40199 5.4145 7.15989 5.0653C6.77469 4.5091 5.98269 4.4416 5.50389 4.9204L5.14479 5.2795C3.67149 6.76 4.92339 9.2476 6.88809 11.2141M10.8004 17.2L9.00039 19L7.20039 17.2H3.60039C2.10909 17.2 0.900391 15.9913 0.900391 14.5V3.7C0.900391 2.2087 2.10909 1 3.60039 1H14.4004C15.8917 1 17.1004 2.2087 17.1004 3.7V14.5C17.1004 15.9913 15.8917 17.2 14.4004 17.2H10.8004Z" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
<span>Телефония</span></a></div><div class="row tooltipped" data-tooltip="Шаблоны" data-tooltip-position="left"><a class="templates custom_checkbox cat_button" data-remote="true" href="/projects/569981/templates"><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M14.8333 16.5H12.3333C11.4125 16.5 10.6667 15.7542 10.6667 14.8333V10.6667C10.6667 9.74583 11.4125 9 12.3333 9H14.8333C15.7542 9 16.5 9.74583 16.5 10.6667V14.8333C16.5 15.7542 15.7542 16.5 14.8333 16.5Z" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M14.8333 6.5H12.3333C11.4125 6.5 10.6667 5.75417 10.6667 4.83333V3.16667C10.6667 2.24583 11.4125 1.5 12.3333 1.5H14.8333C15.7542 1.5 16.5 2.24583 16.5 3.16667V4.83333C16.5 5.75417 15.7542 6.5 14.8333 6.5Z" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M3.16667 1.5H5.66667C6.5875 1.5 7.33333 2.24583 7.33333 3.16667V7.33333C7.33333 8.25417 6.5875 9 5.66667 9H3.16667C2.24583 9 1.5 8.25417 1.5 7.33333V3.16667C1.5 2.24583 2.24583 1.5 3.16667 1.5Z" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M3.16667 11.5H5.66667C6.5875 11.5 7.33333 12.2458 7.33333 13.1667V14.8333C7.33333 15.7542 6.5875 16.5 5.66667 16.5H3.16667C2.24583 16.5 1.5 15.7542 1.5 14.8333V13.1667C1.5 12.2458 2.24583 11.5 3.16667 11.5Z" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
<span>Шаблоны</span></a></div><div class="row tooltipped" data-tooltip="Сотрудники" data-tooltip-position="left"><a class="accesses custom_checkbox cat_button" data-remote="true" href="/projects/569981/accesses"><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M7.73684 14.8948H2.68421C1.75405 14.8948 1 14.1408 1 13.2106V3.10535C1 2.17519 1.75405 1.42114 2.68421 1.42114H14.4737C15.4038 1.42114 16.1579 2.17519 16.1579 3.10535V6.47377M4.36842 5.63167H10.2632M4.36842 9.00009H7.73684M16.5789 16.579H11.1053C10.8727 16.579 10.6842 16.3905 10.6842 16.158V15.8161C10.687 14.8434 11.4748 14.0555 12.4476 14.0527H15.2366C16.2094 14.0555 16.9972 14.8434 17 15.8161V16.158C17 16.3905 16.8115 16.579 16.5789 16.579ZM13.8421 11.9475C12.9126 11.9456 12.1603 11.1911 12.1613 10.2616C12.1622 9.33206 12.916 8.57904 13.8455 8.57904C14.775 8.57904 15.5288 9.33206 15.5297 10.2616C15.5306 11.1911 14.7783 11.9456 13.8488 11.9475H13.8421Z" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
<span>С-ники</span></a></div><div class="row tooltipped" data-tooltip="Резервная копия" data-tooltip-position="left"><a class="backup_control custom_checkbox cat_button" data-remote="true" href="/projects/569981/backup_control"><svg width="20" height="16" viewBox="0 0 20 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M6.4 14.2999L5.5 14.3C3.01472 14.3 1 12.2852 1 9.79995C1.00402 7.55521 2.6665 5.65895 4.89142 5.36131C5.63501 3.17318 7.68897 1.70109 10 1.69995C12.9823 1.69995 15.4 4.11761 15.4 7.09995C17.3882 7.09995 19 8.71173 19 10.7C19 12.6882 17.3882 14.3 15.4 14.3L13.6 14.2999M10 13.3999L11.8 11.5999M10 13.3999L8.2 11.5999M10 13.3999V8.89994" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
<span>Бэкап</span></a></div><div class="row tooltipped" data-tooltip="Оплата" data-tooltip-position="left"><a class="payments custom_checkbox cat_button" data-remote="true" href="/projects/569981/payment_info"><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M16.1579 8.15798H14.8947C13.732 8.15798 12.7895 9.10054 12.7895 10.2632C12.7895 11.426 13.732 12.3685 14.8947 12.3685H16.1579M16.1579 8.15798C16.623 8.15798 17 8.53501 17 9.00009V11.5264C17 11.9915 16.623 12.3685 16.1579 12.3685M16.1579 8.15798V6.05272C16.1579 4.89002 15.2153 3.94746 14.0526 3.94746H3.10526C1.94256 3.94746 1 4.89002 1 6.05272V14.4738C1 15.6365 1.94256 16.579 3.10526 16.579H14.0526C15.2153 16.579 16.1579 15.6365 16.1579 14.4738V12.3685M13.6316 1.42114H2.68421" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
<span>Оплата</span></a></div><div class="row tooltipped" data-tooltip="Настройки проекта" data-tooltip-position="left"><a class="project custom_checkbox cat_button" data-remote="true" href="/projects/569981/edit"><svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M14.3337 2.7776H17.0004M1 2.7776H8.11131M9.88914 9H17.0004M1 9H3.66674M14.3337 15.2224H17.0004M1 15.2224H8.11131M13.8128 1.52068C14.507 2.21492 14.507 3.34029 13.8128 4.03453C13.1186 4.72877 11.9932 4.72877 11.299 4.03453C10.6047 3.34029 10.6047 2.21492 11.299 1.52068C11.9932 0.82644 13.1186 0.82644 13.8128 1.52068ZM6.70149 7.74308C7.39573 8.43732 7.39573 9.56268 6.70149 10.2569C6.00725 10.9512 4.88189 10.9512 4.18764 10.2569C3.4934 9.56268 3.4934 8.43732 4.18764 7.74308C4.88189 7.04883 6.00725 7.04883 6.70149 7.74308ZM13.8128 13.9655C14.507 14.6597 14.507 15.7851 13.8128 16.4793C13.1186 17.1736 11.9932 17.1736 11.299 16.4793C10.6047 15.7851 10.6047 14.6597 11.299 13.9655C11.9932 13.2712 13.1186 13.2712 13.8128 13.9655Z" stroke="#95A3BA" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
<span>Н-ройки</span></a></div></div></div><script>function getNoticesCount (url, elem) {
  $.ajax({
    url: `/projects/569981/${url}`,
    type: 'GET',
    success: function (data) {
      if (data.count > 0 || data.count === '1к+' || data.count === '10к+') {
          $(elem).html(data.count)
          $(elem).show()
      }
    }
  })
}

getNoticesCount ('calc_deadlined_tasks', ".count-circle_left_bar")
getNoticesCount ('count_unchecked_homework', ".count-circle__unchecked_homework")
getNoticesCount ('calc_unread_messages', ".count-circle_unread_messages")</script></div><div id="workflow"><link rel="stylesheet" href="/assets/minicolors-4f23b76925d9b4f5ab4b93ac5dea619c536958d0eb50434db5c7835e947d0038.css" media="screen" /><link rel="stylesheet" href="/assets/sheets-11b531a7c31fcb19c6b84210ea1a879a8db799198df9e40135fa4253d9c74d4e.css" media="screen" /><script src="/assets/minicolors-3faf26ce4d074e5ffe765bf62a4e8845ebb783c2caa2dee14b1faecc9003a1af.js"></script><script src="/assets/ace/ext-language_tools-79d39e363b47afb0a041585f209c4948f6dfc8743ed5c2bcf73755d5e664feb0.js" media="all" data-turbolinks-track="true"></script><h1 class="title-page header_title_text">Конструктор воронок<span class="hidden" id="header_name_project"> - Репетитор</span></h1><div id="paper_visible" style="opacity: 0;"><i class="fas fa-arrow-left hide_bars_button opened_bars display_mobile arrow-for-full"></i><i aria-hidden="true" class="fa fa-object-group select_area_button activate_selection display_mobile hidden"></i><i aria-hidden="true" class="fa fa-object-group select_area_button deactivate_selection hidden"></i><div id="paper-html-elements"><div class="search_div search_toggler--js btn-outline-grey-square--m"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M11.1178 5.25C7.87711 5.25 5.25 7.87711 5.25 11.1178C5.25 14.3585 7.87711 16.9856 11.1178 16.9856C12.7278 16.9856 14.1863 16.3373 15.2465 15.2874C15.253 15.2803 15.2597 15.2734 15.2665 15.2665C15.2734 15.2597 15.2803 15.253 15.2874 15.2465C16.3373 14.1863 16.9856 12.7278 16.9856 11.1178C16.9856 7.87711 14.3585 5.25 11.1178 5.25ZM16.8311 15.7704C17.8654 14.5018 18.4856 12.8822 18.4856 11.1178C18.4856 7.04868 15.1869 3.75 11.1178 3.75C7.04868 3.75 3.75 7.04868 3.75 11.1178C3.75 15.1869 7.04868 18.4856 11.1178 18.4856C12.8822 18.4856 14.5018 17.8654 15.7704 16.8311L18.9697 20.0303C19.2626 20.3232 19.7374 20.3232 20.0303 20.0303C20.3232 19.7374 20.3232 19.2626 20.0303 18.9697L16.8311 15.7704Z" fill="currentColor"/>
</svg></div><div class="sheets-container"><div class="sheets-add sheets-shadow"><a target="_blank" data-remote="true" href="/projects/569981/sheets/new"><div class="btn-outline-grey-square--l mr-6"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M13 6C13 5.44772 12.5523 5 12 5C11.4477 5 11 5.44772 11 6H13ZM11 18C11 18.5523 11.4477 19 12 19C12.5523 19 13 18.5523 13 18H11ZM18 13C18.5523 13 19 12.5523 19 12C19 11.4477 18.5523 11 18 11V13ZM6 11C5.44772 11 5 11.4477 5 12C5 12.5523 5.44772 13 6 13L6 11ZM11 6V18H13V6H11ZM18 11L6 11L6 13L18 13V11Z" fill="#626F7F"/>
</svg>
</div></a></div></div><script>$('.sheets-selected').click(function(){
  $(".sheets").slideToggle()
  let search_block = $('#search_sheet')
  if (search_block.hasClass('hidden')) {
    search_block.removeClass('hidden')
  } else {
    search_block.addClass('hidden')
  }

})
$(document).mouseup(function (e) {
    $(".sheets-select").is(e.target) || 0 !== $(".sheets-select").has(e.target).length || $(".sheets").slideUp()
})

$('#search_sheet').off('input').on('input', function() {
  let search_text = $(this).val()
  $('.sheets-item_name').each(function () {
    if ($(this).text().toLowerCase().search(search_text.toLowerCase()) !== -1) {
      $(this).removeClass('hidden')
    } else {
      $(this).addClass('hidden')
    }
  })
})</script></div><div class="show-on-medium-and-down"><div id="hide_button"><img src="/assets/menu-1a80d25109f7f24dec94c5bb3b2b2428838fe77291d73810bff5afe8968fb66f.svg" /></div></div><script>$('#hide_button').click(function () {
    $('#editor, #editor_new').toggle();
});</script><div class="style-4" id="editor"></div><div class="for_transition"><div id="navigator"></div><div class="wrapper-nav-info"><div class="flex-box buttons_menu_redactor"><div class="btn-redactor-box"><i class="fa fa-undo btn-redactor undo_button u_r_but cancel-icon"></i><i class="fa fa-redo btn-redactor redo_button u_r_but to_repeat-icon"></i></div><div class="btn-redactor-box zoom-box"><div class="btn-redactor zoom_out_button map_button_colors"><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
<g opacity="0.74">
<path d="M13.2186 13.2186L16.6668 16.6668M11.1496 9.08062H7.01166M14.8277 9.08062C14.8277 12.2547 12.2547 14.8277 9.08062 14.8277C5.90657 14.8277 3.3335 12.2547 3.3335 9.08062C3.3335 5.90657 5.90657 3.3335 9.08062 3.3335C12.2547 3.3335 14.8277 5.90657 14.8277 9.08062Z" stroke="#626F7F" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
</g>
</svg>
</div><div class="zoom_info map_button_colors">30%</div><div class="btn-redactor zoom_in_button map_button_colors"><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
<g opacity="0.74">
<path d="M13.2186 13.2186L16.6668 16.6668M9.08062 7.01166V11.1496M11.1496 9.08062H7.01166M14.8277 9.08062C14.8277 12.2547 12.2547 14.8277 9.08062 14.8277C5.90657 14.8277 3.3335 12.2547 3.3335 9.08062C3.3335 5.90657 5.90657 3.3335 9.08062 3.3335C12.2547 3.3335 14.8277 5.90657 14.8277 9.08062Z" stroke="#626F7F" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
</g>
</svg>
</div></div><div class="btn-redactor-box"><div class="btn-redactor open_map map_button"><svg width="16" height="14" viewBox="0 0 16 14" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M14.6668 6.91363C14.6668 7.83317 13.0576 12.6608 8.00016 12.6608C2.94269 12.6608 1.3335 7.83317 1.3335 6.91363C1.3335 5.99409 2.94269 1.1665 8.00016 1.1665C13.0576 1.1665 14.6668 5.99409 14.6668 6.91363Z" stroke="#626F7F" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M8.00016 8.9826C9.14282 8.9826 10.0691 8.05629 10.0691 6.91363C10.0691 5.77097 9.14282 4.84466 8.00016 4.84466C6.8575 4.84466 5.9312 5.77097 5.9312 6.91363C5.9312 8.05629 6.8575 8.9826 8.00016 8.9826Z" stroke="#626F7F" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</div><div class="btn-redactor close_map map_button"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M3.40246 11.9253C1.89634 10.4547 1.3335 8.54398 1.3335 8.00016C1.3335 7.08062 2.94269 2.25304 8.00016 2.25304C9.65046 2.25304 10.9336 2.76708 11.9135 3.49164M14.6668 1.3335L1.3335 14.6668M6.53717 9.46315C5.7292 8.65515 5.7292 7.34517 6.53717 6.53717C7.34517 5.72917 8.65515 5.72917 9.46315 6.53717M14.0918 6.16108C14.4963 6.98738 14.6668 7.70085 14.6668 8.00016C14.6668 8.9197 13.0576 13.7473 8.00016 13.7473C7.32761 13.7473 6.71602 13.662 6.16108 13.5117L14.0918 6.16108Z" stroke="#626F7F" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</div></div></div><a target="_blank" class="link_to_pay test_free_btn" href="/projects/569981/test_bot">Протестировать бота бесплатно</a></div></div></div><div class="built_in_vars_modal modal"></div><script>function clearEditor(init_id) {
    console.warn("clearEditor - ", init_id)

    if (init_id == 4) {
        $('#editor').html("<div class=\"editor_form_container create_form\"><div class=\"editor_form\"><form class=\"simple_form new_message\" id=\"new_message\" enctype=\"multipart/form-data\" action=\"/projects/569981/messages\" accept-charset=\"UTF-8\" data-remote=\"true\" method=\"post\"><input name=\"utf8\" type=\"hidden\" value=\"&#x2713;\" autocomplete=\"off\" /><input type=\"hidden\" name=\"authenticity_token\" value=\"JyKnKXyT3bqxna98KP68w70U65xPp9M4FjK6m3JrkZbhxnIyaFo0KaByiG9jFsiJqAZqO6MP0h4DdgZVEbrtxQ\" autocomplete=\"off\" /><div class=\"header_messages_form\"><div class=\"header_messages_form_left\"><div class=\"header_messages_form_type\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path d=\"M19.1109 11.6215V14.1236C19.1109 15.5147 17.9838 16.6418 16.5927 16.6418H12.3954L8.19816 20V16.6418H6.51819C5.1271 16.6418 4 15.5147 4 14.1236V7.40729C4 6.01619 5.1271 4.8891 6.51819 4.8891H12.4977M19.4513 4.54866C20.1829 5.2802 20.1829 6.46508 19.4513 7.19662C18.7198 7.92817 17.5349 7.92817 16.8034 7.19662C16.0718 6.46508 16.0718 5.2802 16.8034 4.54866C17.5349 3.81711 18.7207 3.81711 19.4513 4.54866Z\" stroke=\"#6C7A96\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n<\/svg>\n<\/div><div class=\"header_messages_form_type_container\"><div class=\"header_messages_form_type_container_item\"><div class=\"header_messages_form_type_container_item_icon\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M10.4294 9.10745C10.6943 8.9564 11.0181 8.96514 11.275 9.13029L14.6083 11.2731C14.852 11.4298 15 11.7045 15 12C15 12.2955 14.852 12.5702 14.6083 12.7269L11.275 14.8697C11.0181 15.0349 10.6943 15.0436 10.4294 14.8925C10.1644 14.7415 10 14.4544 10 14.1429V9.85714C10 9.54555 10.1644 9.2585 10.4294 9.10745Z\" fill=\"#059611\"/>\n  <circle cx=\"12\" cy=\"12\" r=\"8\" stroke=\"#059611\" stroke-width=\"1.5\"/>\n<\/svg>\n<\/div><div class=\"header_messages_form_type_container_item_text\">Начало диалога<\/div><div class=\"header_messages_form_type_container_item_ident hidden\">1<\/div><\/div><div class=\"header_messages_form_type_container_item\"><div class=\"header_messages_form_type_container_item_icon\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path d=\"M5 4.95915L4.6279 4.30797C4.39421 4.4415 4.25 4.69001 4.25 4.95915H5ZM4.25 20C4.25 20.4142 4.58579 20.75 5 20.75C5.41421 20.75 5.75 20.4142 5.75 20H4.25ZM4.6279 15.2344C4.26826 15.4399 4.14331 15.8981 4.34882 16.2577C4.55433 16.6173 5.01247 16.7423 5.37211 16.5368L4.6279 15.2344ZM11.5679 15.5539L11.8725 14.8685L11.8725 14.8685L11.5679 15.5539ZM13.0606 16.2173L12.756 16.9027L12.756 16.9027L13.0606 16.2173ZM19.6285 15.8856L20.0006 16.5368C20.2343 16.4033 20.3785 16.1547 20.3785 15.8856H19.6285ZM19.6285 4.95903H20.3785C20.3785 4.69167 20.2362 4.44454 20.005 4.31034C19.7737 4.17615 19.4885 4.1752 19.2564 4.30785L19.6285 4.95903ZM13.0606 5.29074L12.756 5.9761L13.0606 5.29074ZM11.5679 4.62733L11.2633 5.31268L11.2633 5.31268L11.5679 4.62733ZM4.25 4.95915V20H5.75V4.95915H4.25ZM5.37211 16.5368C7.17657 15.5057 9.36414 15.3952 11.2633 16.2393L11.8725 14.8685C9.53704 13.8306 6.84691 13.9664 4.6279 15.2344L5.37211 16.5368ZM11.2633 16.2393L12.756 16.9027L13.3652 15.532L11.8725 14.8685L11.2633 16.2393ZM12.756 16.9027C15.0915 17.9407 17.7816 17.8048 20.0006 16.5368L19.2564 15.2344C17.4519 16.2656 15.2644 16.376 13.3652 15.532L12.756 16.9027ZM20.3785 15.8856V4.95903H18.8785V15.8856H20.3785ZM19.2564 4.30785C17.4519 5.33897 15.2644 5.44946 13.3652 4.60538L12.756 5.9761C15.0915 7.01409 17.7816 6.87822 20.0006 5.61021L19.2564 4.30785ZM13.3652 4.60538L11.8725 3.94197L11.2633 5.31268L12.756 5.9761L13.3652 4.60538ZM11.8725 3.94197C9.53702 2.90396 6.84689 3.03997 4.6279 4.30797L5.3721 5.61033C7.1766 4.57919 9.36417 4.46862 11.2633 5.31268L11.8725 3.94197Z\" fill=\"#34D399\"/>\n<\/svg>\n<\/div><div class=\"header_messages_form_type_container_item_text\">Первостепенная проверка условия<\/div><div class=\"header_messages_form_type_container_item_ident hidden\">4<\/div><\/div><div class=\"header_messages_form_type_container_item\"><div class=\"header_messages_form_type_container_item_icon\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path d=\"M19.1109 11.6215V14.1236C19.1109 15.5147 17.9838 16.6418 16.5927 16.6418H12.3954L8.19816 20V16.6418H6.51819C5.1271 16.6418 4 15.5147 4 14.1236V7.40729C4 6.01619 5.1271 4.8891 6.51819 4.8891H12.4977M19.4513 4.54866C20.1829 5.2802 20.1829 6.46508 19.4513 7.19662C18.7198 7.92817 17.5349 7.92817 16.8034 7.19662C16.0718 6.46508 16.0718 5.2802 16.8034 4.54866C17.5349 3.81711 18.7207 3.81711 19.4513 4.54866Z\" stroke=\"#6C7A96\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n<\/svg>\n<\/div><div class=\"header_messages_form_type_container_item_text\">Состояние диалога<\/div><div class=\"header_messages_form_type_container_item_ident hidden\">0<\/div><\/div><div class=\"header_messages_form_type_container_item\"><div class=\"header_messages_form_type_container_item_icon\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path d=\"M9.46967 8.53033C9.76256 8.82322 10.2374 8.82322 10.5303 8.53033C10.8232 8.23744 10.8232 7.76256 10.5303 7.46967L9.46967 8.53033ZM7 5L7.53033 4.46967C7.23744 4.17678 6.76256 4.17678 6.46967 4.46967L7 5ZM3.46967 7.46967C3.17678 7.76256 3.17678 8.23744 3.46967 8.53033C3.76256 8.82322 4.23744 8.82322 4.53033 8.53033L3.46967 7.46967ZM6.25 19C6.25 19.4142 6.58579 19.75 7 19.75C7.41421 19.75 7.75 19.4142 7.75 19H6.25ZM14.5303 15.4697C14.2374 15.1768 13.7626 15.1768 13.4697 15.4697C13.1768 15.7626 13.1768 16.2374 13.4697 16.5303L14.5303 15.4697ZM17 19L16.4697 19.5303C16.7626 19.8232 17.2374 19.8232 17.5303 19.5303L17 19ZM20.5303 16.5303C20.8232 16.2374 20.8232 15.7626 20.5303 15.4697C20.2374 15.1768 19.7626 15.1768 19.4697 15.4697L20.5303 16.5303ZM17.75 5C17.75 4.58579 17.4142 4.25 17 4.25C16.5858 4.25 16.25 4.58579 16.25 5H17.75ZM10.5303 7.46967L7.53033 4.46967L6.46967 5.53033L9.46967 8.53033L10.5303 7.46967ZM6.46967 4.46967L3.46967 7.46967L4.53033 8.53033L7.53033 5.53033L6.46967 4.46967ZM7.75 19V5H6.25V19H7.75ZM13.4697 16.5303L16.4697 19.5303L17.5303 18.4697L14.5303 15.4697L13.4697 16.5303ZM17.5303 19.5303L20.5303 16.5303L19.4697 15.4697L16.4697 18.4697L17.5303 19.5303ZM16.25 5V19H17.75V5H16.25Z\" fill=\"#F59E0B\"/>\n<\/svg>\n<\/div><div class=\"header_messages_form_type_container_item_text\">Передача данных<\/div><div class=\"header_messages_form_type_container_item_ident hidden\">7<\/div><\/div><div class=\"header_messages_form_type_container_item\"><div class=\"header_messages_form_type_container_item_icon\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path d=\"M9.46967 8.53033C9.76256 8.82322 10.2374 8.82322 10.5303 8.53033C10.8232 8.23744 10.8232 7.76256 10.5303 7.46967L9.46967 8.53033ZM7 5L7.53033 4.46967C7.23744 4.17678 6.76256 4.17678 6.46967 4.46967L7 5ZM3.46967 7.46967C3.17678 7.76256 3.17678 8.23744 3.46967 8.53033C3.76256 8.82322 4.23744 8.82322 4.53033 8.53033L3.46967 7.46967ZM6.25 19C6.25 19.4142 6.58579 19.75 7 19.75C7.41421 19.75 7.75 19.4142 7.75 19H6.25ZM14.5303 15.4697C14.2374 15.1768 13.7626 15.1768 13.4697 15.4697C13.1768 15.7626 13.1768 16.2374 13.4697 16.5303L14.5303 15.4697ZM17 19L16.4697 19.5303C16.7626 19.8232 17.2374 19.8232 17.5303 19.5303L17 19ZM20.5303 16.5303C20.8232 16.2374 20.8232 15.7626 20.5303 15.4697C20.2374 15.1768 19.7626 15.1768 19.4697 15.4697L20.5303 16.5303ZM17.75 11C17.75 10.5858 17.4142 10.25 17 10.25C16.5858 10.25 16.25 10.5858 16.25 11H17.75ZM10.5303 7.46967L7.53033 4.46967L6.46967 5.53033L9.46967 8.53033L10.5303 7.46967ZM6.46967 4.46967L3.46967 7.46967L4.53033 8.53033L7.53033 5.53033L6.46967 4.46967ZM7.75 19V5H6.25V19H7.75ZM13.4697 16.5303L16.4697 19.5303L17.5303 18.4697L14.5303 15.4697L13.4697 16.5303ZM17.5303 19.5303L20.5303 16.5303L19.4697 15.4697L16.4697 18.4697L17.5303 19.5303ZM16.25 11V19H17.75V11H16.25Z\" fill=\"#D97706\"/>\n  <path d=\"M20.1112 3.8891L16.1289 7.75468M20.1112 7.75468L16.1289 3.8891\" stroke=\"#D97706\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n<\/svg>\n<\/div><div class=\"header_messages_form_type_container_item_text\">Не состояние передача данных<\/div><div class=\"header_messages_form_type_container_item_ident hidden\">9<\/div><\/div><div class=\"header_messages_form_type_container_item\"><div class=\"header_messages_form_type_container_item_icon\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path d=\"M15.5441 9.83205L11.9794 13.3968M15.5441 13.3968L11.9794 9.83205M7.069 6.74679L4.33219 10.5789C3.88927 11.1982 3.88927 12.0315 4.33219 12.6509L7.069 16.4829C7.40319 16.9508 7.94324 17.2288 8.51894 17.2288H18.2176C19.2024 17.2288 20 16.4312 20 15.4465V7.78234C20 6.79759 19.2024 5.99998 18.2176 5.99998H8.51894C7.94324 5.99998 7.40319 6.27803 7.069 6.74679Z\" stroke=\"#EF4444\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n<\/svg>\n<\/div><div class=\"header_messages_form_type_container_item_text\">Конец сбора данных<\/div><div class=\"header_messages_form_type_container_item_ident hidden\">2<\/div><\/div><div class=\"header_messages_form_type_container_item\"><div class=\"header_messages_form_type_container_item_icon\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path d=\"M15.5441 9.83205L11.9794 13.3968M15.5441 13.3968L11.9794 9.83205M20 9.99998V15.4465C20 16.4312 19.2024 17.2288 18.2176 17.2288H8.51894C7.94324 17.2288 7.40319 16.9508 7.069 16.4829L4.33219 12.6508C3.88927 12.0315 3.88927 11.1982 4.33219 10.5789L7.069 6.74679C7.40319 6.27803 7.94324 5.99998 8.51894 5.99998H16M21.7824 4.20772L18.2176 7.77243M21.7824 7.77243L18.2176 4.20772\" stroke=\"#FCA5A5\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n<\/svg><\/div><div class=\"header_messages_form_type_container_item_text\">Не состояние конец сбора данных<\/div><div class=\"header_messages_form_type_container_item_ident hidden\">10<\/div><\/div><div class=\"header_messages_form_type_container_item\"><div class=\"header_messages_form_type_container_item_icon\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path d=\"M14.0244 20H10.6665M17.5922 9.33335C17.5922 6.38828 15.2427 4.00002 12.3454 4.00002C9.44818 4.00002 7.0987 6.38828 7.0987 9.33335V12.0043C7.0987 12.3499 6.90666 12.6645 6.6034 12.8192L6.07558 13.0869C5.41659 13.4229 5 14.1077 5 14.8565C5 15.9488 5.87096 16.8341 6.94549 16.8341H17.7454C18.8199 16.8341 19.6909 15.9488 19.6909 14.8565C19.6909 14.1077 19.2743 13.4229 18.6153 13.088L18.0875 12.8203C17.7842 12.6645 17.5922 12.3499 17.5922 12.0043V9.33335Z\" stroke=\"#3B82F6\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n<\/svg>\n<\/div><div class=\"header_messages_form_type_container_item_text\">Напоминание<\/div><div class=\"header_messages_form_type_container_item_ident hidden\">3<\/div><\/div><div class=\"header_messages_form_type_container_item\"><div class=\"header_messages_form_type_container_item_icon\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path d=\"M14 9.41145L10 13.4115M14 13.4115L10 9.41145M4 7.66665C4 6.19376 5.19378 4.99998 6.66667 4.99998H17.3333C18.8062 4.99998 20 6.19376 20 7.66665V14.7778C20 16.2507 18.8062 17.4444 17.3333 17.4444H12.8889L8.44444 21V17.4444H6.66667C5.19378 17.4444 4 16.2507 4 14.7778V7.66665Z\" stroke=\"#95A3BA\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n<\/svg>\n\n<\/div><div class=\"header_messages_form_type_container_item_text\">Не состояние с условием<\/div><div class=\"header_messages_form_type_container_item_ident hidden\">5<\/div><\/div><div class=\"header_messages_form_type_container_item\"><div class=\"header_messages_form_type_container_item_icon\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path d=\"M5 4.95917L4.6279 4.30799C4.39421 4.44152 4.25 4.69003 4.25 4.95917H5ZM4.25 20C4.25 20.4142 4.58579 20.75 5 20.75C5.41421 20.75 5.75 20.4142 5.75 20H4.25ZM4.6279 15.2344C4.26826 15.44 4.14331 15.8981 4.34882 16.2577C4.55433 16.6174 5.01247 16.7423 5.37211 16.5368L4.6279 15.2344ZM11.5679 15.5539L11.8725 14.8686L11.8725 14.8686L11.5679 15.5539ZM13.0606 16.2173L12.756 16.9027L12.756 16.9027L13.0606 16.2173ZM19.6285 15.8856L20.0006 16.5368C20.2343 16.4033 20.3785 16.1548 20.3785 15.8856H19.6285ZM19.6285 4.95905H20.3785C20.3785 4.69169 20.2362 4.44456 20.005 4.31036C19.7737 4.17617 19.4885 4.17522 19.2564 4.30787L19.6285 4.95905ZM13.0606 5.29076L12.756 5.97612L13.0606 5.29076ZM11.5679 4.62735L11.2633 5.3127L11.2633 5.3127L11.5679 4.62735ZM14.9049 8.83808C15.2028 8.55024 15.2109 8.07543 14.923 7.77758C14.6352 7.47972 14.1604 7.47161 13.8625 7.75945L14.9049 8.83808ZM9.72344 11.7595C9.42558 12.0473 9.41747 12.5221 9.70531 12.82C9.99316 13.1178 10.468 13.1259 10.7658 12.8381L9.72344 11.7595ZM13.8625 12.8381C14.1604 13.1259 14.6352 13.1178 14.923 12.82C15.2109 12.5221 15.2028 12.0473 14.9049 11.7595L13.8625 12.8381ZM10.7658 7.75945C10.468 7.47161 9.99316 7.47972 9.70531 7.77758C9.41747 8.07543 9.42558 8.55024 9.72344 8.83808L10.7658 7.75945ZM4.25 4.95917V20H5.75V4.95917H4.25ZM5.37211 16.5368C7.17657 15.5057 9.36414 15.3952 11.2633 16.2393L11.8725 14.8686C9.53704 13.8306 6.84691 13.9664 4.6279 15.2344L5.37211 16.5368ZM11.2633 16.2393L12.756 16.9027L13.3652 15.532L11.8725 14.8686L11.2633 16.2393ZM12.756 16.9027C15.0915 17.9407 17.7816 17.8048 20.0006 16.5368L19.2564 15.2344C17.4519 16.2656 15.2644 16.3761 13.3652 15.532L12.756 16.9027ZM20.3785 15.8856V4.95905H18.8785V15.8856H20.3785ZM19.2564 4.30787C17.4519 5.33899 15.2644 5.44948 13.3652 4.6054L12.756 5.97612C15.0915 7.01411 17.7816 6.87824 20.0006 5.61023L19.2564 4.30787ZM13.3652 4.6054L11.8725 3.94199L11.2633 5.3127L12.756 5.97612L13.3652 4.6054ZM11.8725 3.94199C9.53702 2.90398 6.84689 3.03999 4.6279 4.30799L5.3721 5.61035C7.1766 4.57921 9.36417 4.46864 11.2633 5.3127L11.8725 3.94199ZM13.8625 7.75945L9.72344 11.7595L10.7658 12.8381L14.9049 8.83808L13.8625 7.75945ZM14.9049 11.7595L10.7658 7.75945L9.72344 8.83808L13.8625 12.8381L14.9049 11.7595Z\" fill=\"#95A3BA\"/>\n<\/svg>\n<\/div><div class=\"header_messages_form_type_container_item_text\">Не состояние<\/div><div class=\"header_messages_form_type_container_item_ident hidden\">6<\/div><\/div><div class=\"header_messages_form_type_container_item\"><div class=\"header_messages_form_type_container_item_icon\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path d=\"M11.1112 15.1111H13.1639M12.1414 15.1111V11.3333H11.1192M20 12C20 16.4182 16.4183 20 12 20C7.58172 20 4 16.4182 4 12C4 7.58169 7.58172 3.99997 12 3.99997C16.4183 3.99997 20 7.58169 20 12Z\" stroke=\"#95A3BA\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n  <path d=\"M12.8906 8.66425C12.8906 9.21653 12.4429 9.66425 11.8906 9.66425C11.3383 9.66425 10.8906 9.21653 10.8906 8.66425C10.8906 8.11196 11.3383 7.66425 11.8906 7.66425C12.4429 7.66425 12.8906 8.11196 12.8906 8.66425Z\" fill=\"#95A3BA\"/>\n<\/svg>\n<\/div><div class=\"header_messages_form_type_container_item_text\">Комментарий<\/div><div class=\"header_messages_form_type_container_item_ident hidden\">8<\/div><\/div><\/div><div class=\"hidden type_text\">Состояние диалога<\/div><div class=\"header_messages_form_title\"><div class=\"title_to_change\">Состояние диалога<\/div><div class=\"message_description_input w-100 hidden\"><div class=\"input-field col string optional message_description s12\"><input placeholder=\"Описание\" class=\"string optional\" type=\"text\" name=\"message[description]\" id=\"message_description\" /><\/div><\/div><div class=\"header_messages_form_icon\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M19.5 19.5H14M16.9999 9.99997L13.9999 6.99997M18.879 5.12098C19.7071 5.94957 19.7071 7.2924 18.879 8.12098L8.892 18.108C8.63571 18.3643 8.31461 18.5461 7.963 18.634L4.5 19.5L5.366 16.037C5.45392 15.6854 5.63573 15.3643 5.892 15.108L15.88 5.12098C16.7082 4.29305 18.0508 4.29305 18.879 5.12098Z\" stroke=\"#95A3BA\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n<\/svg>\n<\/div><\/div><\/div><div class=\"header_messages_form_right\"><\/div><div class=\"editor_close_bar\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M7.19683 6.13569C6.90394 5.84279 6.42907 5.84279 6.13617 6.13569C5.84328 6.42858 5.84328 6.90345 6.13617 7.19635L7.19683 6.13569ZM12.8028 13.863C13.0957 14.1559 13.5706 14.1559 13.8635 13.863C14.1564 13.5701 14.1564 13.0952 13.8635 12.8024L12.8028 13.863ZM13.8635 7.19635C14.1564 6.90345 14.1564 6.42858 13.8635 6.13569C13.5706 5.84279 13.0957 5.84279 12.8028 6.13569L13.8635 7.19635ZM6.13617 12.8024C5.84328 13.0952 5.84328 13.5701 6.13617 13.863C6.42907 14.1559 6.90394 14.1559 7.19683 13.863L6.13617 12.8024ZM6.13617 7.19635L12.8028 13.863L13.8635 12.8024L7.19683 6.13569L6.13617 7.19635ZM12.8028 6.13569L6.13617 12.8024L7.19683 13.863L13.8635 7.19635L12.8028 6.13569Z\" fill=\"#95A3BA\"/>\n<\/svg>\n<\/div><\/div><div class=\"parts_total_container\"><div class=\"input-field col hidden message_x s12\"><input class=\"hidden\" autocomplete=\"off\" type=\"hidden\" value=\"-1\" name=\"message[x]\" id=\"message_x\" /><\/div><div class=\"input-field col hidden message_y s12\"><input class=\"hidden\" autocomplete=\"off\" type=\"hidden\" value=\"-1\" name=\"message[y]\" id=\"message_y\" /><\/div><div class=\"input-field col hidden message_message_type s12\"><input class=\"hidden\" autocomplete=\"off\" type=\"hidden\" value=\"0\" name=\"message[message_type]\" id=\"message_message_type\" /><\/div><div class=\"part_new\" id=\"time_part\" style=\"display: none\"><div class=\"change_time_container\"><div class=\"duration-inputs-wrapper\"><div class=\"flex_item-text\"><div class=\"input-field col string optional message_timeout s12\"><input placeholder=\"Время напоминания\" class=\"string optional\" type=\"text\" name=\"message[timeout]\" id=\"message_timeout\" /><\/div><\/div><div class=\"flex_item-select main-select\"><div class=\"input-field col select optional message_timeout_type s12\"><select class=\"select optional\" name=\"message[timeout_type]\" id=\"message_timeout_type\"><option selected=\"selected\" value=\"1\">Секунд<\/option>\n<option value=\"60\">Минут<\/option>\n<option value=\"3600\">Часов<\/option>\n<option value=\"86400\">Дней<\/option>\n<option value=\"-1\">Месяцев<\/option><\/select><\/div><\/div><\/div><\/div><div class=\"time_container_toggle\"><\/div><div class=\"time_part_svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path d=\"M11.872 4C16.2907 4 19.872 7.58133 19.872 12C19.872 16.4187 16.2907 20 11.872 20M9.13867 19.5102C8.25333 19.1876 7.43911 18.72 6.73156 18.1262M6.73156 5.87378C7.43911 5.27911 8.25333 4.81156 9.13867 4.48978M4 10.6116C4.16444 9.67556 4.48978 8.79644 4.94844 8.00267M4 13.3876C4.16444 14.3236 4.48978 15.2027 4.94844 15.9964M11.6213 8.432V12.5662L14.8711 14.5476\" stroke=\"#95A3BA\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n<\/svg>\n<\/div><div class=\"time_container\"><div class=\"time_duration\">Задержка отсутствует<\/div><div class=\"time_type\"><\/div><\/div><\/div><div class=\"redactor_condition_constructor_modal hidden\" style=\"max-height: 510px;\"><div class=\"redactor_condition_constructor_modal_header\"><div class=\"redactor_condition_constructor_modal_header__name display-flex gap-6\">Конструктор условий<div class=\"toggle-conditions-container--js svg-gray cursor-pointer\"><div class=\"open-conditions-container_svg--js\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M11.4697 9.46967C11.7626 9.17678 12.2374 9.17678 12.5303 9.46967L16.5303 13.4697C16.8232 13.7626 16.8232 14.2374 16.5303 14.5303C16.2374 14.8232 15.7626 14.8232 15.4697 14.5303L12 11.0607L8.53033 14.5303C8.23744 14.8232 7.76256 14.8232 7.46967 14.5303C7.17678 14.2374 7.17678 13.7626 7.46967 13.4697L11.4697 9.46967Z\" fill=\"currentColor\"/>\n<\/svg><\/div><div class=\"close-conditions-container_svg--js display-none\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M7.46967 9.46967C7.76256 9.17678 8.23744 9.17678 8.53033 9.46967L12 12.9393L15.4697 9.46967C15.7626 9.17678 16.2374 9.17678 16.5303 9.46967C16.8232 9.76256 16.8232 10.2374 16.5303 10.5303L12.5303 14.5303C12.2374 14.8232 11.7626 14.8232 11.4697 14.5303L7.46967 10.5303C7.17678 10.2374 7.17678 9.76256 7.46967 9.46967Z\" fill=\"currentColor\"/>\n<\/svg>\n<\/div><\/div><\/div><div class=\"redactor_condition_constructor_modal_header__close--js btn-ghost-grey-square--m\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M7.30298 7.30292C7.59588 7.01003 8.07075 7.01003 8.36364 7.30292L12 10.9393L15.6363 7.30292C15.9292 7.01003 16.4041 7.01003 16.697 7.30292C16.9899 7.59582 16.9899 8.07069 16.697 8.36358L13.0606 11.9999L16.697 15.6363C16.9899 15.9291 16.9899 16.404 16.697 16.6969C16.4041 16.9898 15.9292 16.9898 15.6363 16.6969L12 13.0606L8.36364 16.6969C8.07075 16.9898 7.59588 16.9898 7.30298 16.6969C7.01009 16.404 7.01009 15.9291 7.30298 15.6363L10.9393 11.9999L7.30298 8.36358C7.01009 8.07069 7.01009 7.59582 7.30298 7.30292Z\" fill=\"currentColor\"/>\n<\/svg>\n<\/div><\/div><div class=\"redactor_condition_constructor_modal_conditions\"><div class=\"conditions-container display-flex flex-wrap gap-6 m-8\"><div class=\"conditions-container__item tag--l tag--m tag--square tag--green-soft\"><div class=\"conditions-container__item__name\">Условие 1<\/div><div class=\"conditions-container__item__delete display-flex flex-ai-center cursor-pointer\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/delete 1/i24\">\n<path id=\"Union\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M8.25 4C8.25 3.58579 8.58579 3.25 9 3.25H15C15.4142 3.25 15.75 3.58579 15.75 4C15.75 4.41421 15.4142 4.75 15 4.75H9C8.58579 4.75 8.25 4.41421 8.25 4ZM4.25 7.2C4.25 6.78579 4.58579 6.45 5 6.45H19C19.4142 6.45 19.75 6.78579 19.75 7.2C19.75 7.61421 19.4142 7.95 19 7.95H18.75V18.0308C18.75 19.5439 17.5082 20.75 16 20.75H8C6.49179 20.75 5.25 19.5439 5.25 18.0308V7.95H5C4.58579 7.95 4.25 7.61421 4.25 7.2ZM6.75 7.95V18.0308C6.75 18.6936 7.29821 19.25 8 19.25H16C16.7018 19.25 17.25 18.6936 17.25 18.0308V7.95H6.75ZM10 10.3885C10.4142 10.3885 10.75 10.7242 10.75 11.1385V16.0615C10.75 16.4758 10.4142 16.8115 10 16.8115C9.58579 16.8115 9.25 16.4758 9.25 16.0615V11.1385C9.25 10.7242 9.58579 10.3885 10 10.3885ZM14 10.3885C14.4142 10.3885 14.75 10.7242 14.75 11.1385V16.0615C14.75 16.4758 14.4142 16.8115 14 16.8115C13.5858 16.8115 13.25 16.4758 13.25 16.0615V11.1385C13.25 10.7242 13.5858 10.3885 14 10.3885Z\" fill=\"currentColor\"/>\n<\/g>\n<\/svg>\n<\/div><\/div><\/div><\/div><div class=\"redactor_condition_constructor_modal_nav w-100\"><div class=\"display-flex flex-jc-space-between flex-wrap gap-6 m-8\"><div class=\"selection_of_conditions_item--js condition_1--js btn-outline-white--xs flex-grow btn-active__blue\">Условия Salebot<\/div><div class=\"selection_of_conditions_item--js condition_2--js btn-outline-white--xs flex-grow\">Каналы<\/div><div class=\"selection_of_conditions_item--js condition_3--js btn-outline-white--xs flex-grow\">Платежные системы<\/div><div class=\"selection_of_conditions_item--js condition_5--js btn-outline-white--xs flex-grow\">Телефония<\/div><div class=\"selection_of_conditions_item--js condition_6--js btn-outline-white--xs flex-grow\">Другие интеграции<\/div><\/div><\/div><div class=\"redactor_condition_constructor_modal_container\"><div class=\"condition_container--js salebot_conditions--js\"><div class=\"select_salebot_conditions--js display-flex flex-wrap gap-6 mt-12 mb-8\"><option class=\"conditions_select_sb_item--js btn-dashed-white--xxs flex-grow\" value=\"defaultConditions\">Обычные условия<\/option><option class=\"conditions_select_sb_item--js btn-dashed-white--xxs flex-grow\" value=\"crm\">CRM<\/option><option class=\"conditions_select_sb_item--js btn-dashed-white--xxs flex-grow\" value=\"clients\">Клиенты<\/option><option class=\"conditions_select_sb_item--js btn-dashed-white--xxs flex-grow\" value=\"variables\">Переменные<\/option><option class=\"conditions_select_sb_item--js btn-dashed-white--xxs flex-grow\" value=\"bot\">Выбор бота<\/option><option class=\"conditions_select_sb_item--js btn-dashed-white--xxs flex-grow\" value=\"test_window\">Тестовое окно<\/option><input class=\"redactor_condition-select_salebot_conditions__input hidden\" /><\/div><div class=\"container_salebot_conditions_variables hidden\"><div class=\"container_salebot_conditions_variables__preview\"><div class=\"container_salebot_conditions_variables__title\">Предпросмотр переменных для сравнения<\/div><textarea class=\"container_salebot_conditions_variables__textarea\"><\/textarea><\/div><div class=\"container_salebot_conditions_variables__container\"><div class=\"container-conditions-settings-expressions\"><div class=\"container-conditions-settings-expressions__or_and_and hidden\"><div class=\"container-conditions-settings-expressions__component\"><div class=\"container-conditions-settings-expressions__component__text\">Все значения (И)<\/div><div class=\"container-conditions-settings-expressions__radio container-conditions-settings-expressions__radio--active\"><input name=\"AND\" type=\"radio\" value=\"AND\" /><\/div><\/div><div class=\"container-conditions-settings-expressions__component\"><div class=\"container-conditions-settings-expressions__component__text\">Одно из значений (ИЛИ)<\/div><div class=\"container-conditions-settings-expressions__radio\"><input name=\"OR\" type=\"radio\" value=\"OR\" /><\/div><\/div><\/div><\/div><div class=\"container_salebot_conditions_variables__container__component\"><div class=\"container_salebot_conditions_variables__variable_name\"><div class=\"container_salebot_conditions_variables__variable_name__text\">Имя переменной<\/div><input class=\"container_salebot_conditions_variables__variable_name_input m-0\" placeholder=\"Введите имя переменной\" /><\/div><div class=\"container_salebot_conditions_variables__variable_sign_input\"><div class=\"container_salebot_conditions_variables__variable_sign_content\"><div class=\"container_salebot_conditions_variables__variable_sign_selected mb-6\">==<\/div><div class=\"container_salebot_conditions_variables__variable_sign_collection hidden\"><div class=\"container_salebot_conditions_variables__variable_sign_item\">==<\/div><div class=\"container_salebot_conditions_variables__variable_sign_item\">!=<\/div><div class=\"container_salebot_conditions_variables__variable_sign_item\">&gt;<\/div><div class=\"container_salebot_conditions_variables__variable_sign_item\">&gt;=<\/div><div class=\"container_salebot_conditions_variables__variable_sign_item\">&lt;<\/div><div class=\"container_salebot_conditions_variables__variable_sign_item\">&lt;=<\/div><\/div><\/div><\/div><div class=\"container_salebot_conditions_variables__variable_value main-select\"><select class=\"container_salebot_conditions_variables__variable_value__select\"><option class=\"container_salebot_conditions_variables__variable_value__select__item\" value=\"value\">Значение<\/option><option class=\"container_salebot_conditions_variables__variable_value__select__item\" value=\"variable\">Переменная<\/option><\/select><input class=\"container_salebot_conditions_variables__variable_value_input m-0\" placeholder=\"Введите значение переменной\" /><\/div><div class=\"btn-outline-grey-square--m container_salebot_conditions_variables__delete_variable hidden\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/delete 1/i24\">\n<path id=\"Union\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M8.25 4C8.25 3.58579 8.58579 3.25 9 3.25H15C15.4142 3.25 15.75 3.58579 15.75 4C15.75 4.41421 15.4142 4.75 15 4.75H9C8.58579 4.75 8.25 4.41421 8.25 4ZM4.25 7.2C4.25 6.78579 4.58579 6.45 5 6.45H19C19.4142 6.45 19.75 6.78579 19.75 7.2C19.75 7.61421 19.4142 7.95 19 7.95H18.75V18.0308C18.75 19.5439 17.5082 20.75 16 20.75H8C6.49179 20.75 5.25 19.5439 5.25 18.0308V7.95H5C4.58579 7.95 4.25 7.61421 4.25 7.2ZM6.75 7.95V18.0308C6.75 18.6936 7.29821 19.25 8 19.25H16C16.7018 19.25 17.25 18.6936 17.25 18.0308V7.95H6.75ZM10 10.3885C10.4142 10.3885 10.75 10.7242 10.75 11.1385V16.0615C10.75 16.4758 10.4142 16.8115 10 16.8115C9.58579 16.8115 9.25 16.4758 9.25 16.0615V11.1385C9.25 10.7242 9.58579 10.3885 10 10.3885ZM14 10.3885C14.4142 10.3885 14.75 10.7242 14.75 11.1385V16.0615C14.75 16.4758 14.4142 16.8115 14 16.8115C13.5858 16.8115 13.25 16.4758 13.25 16.0615V11.1385C13.25 10.7242 13.5858 10.3885 14 10.3885Z\" fill=\"currentColor\"/>\n<\/g>\n<\/svg>\n<\/div><\/div><div class=\"container-conditions-settings-expressions_2\"><\/div><\/div><div class=\"container-conditions-values-header__add-value\"><div class=\"container-conditions-values-header__add-value_hr\"><div class=\"hr\"><\/div><\/div><div class=\"container-conditions-settings_vars_vals_container__add\"><div class=\"container-conditions-values-header__add-value__name__plus\">+<\/div><div class=\"container-conditions-values-header__add-value__name__text\">Добавить переменную<\/div><\/div><div class=\"container-conditions-values-header__add-value_hr\"><div class=\"hr\"><\/div><\/div><\/div><div class=\"container-conditions-group-container hidden\"><div class=\"container-conditions-group__item\"><input class=\"container-conditions-group__title_input main-select--disabled\" disabled=\"true\" /><div class=\"container-conditions-group__sign\">==<\/div><input class=\"container-conditions-group__value_input main-select--disabled\" disabled=\"true\" /><div class=\"btn-outline-grey-square--m container-conditions-group__delete\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/delete 1/i24\">\n<path id=\"Union\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M8.25 4C8.25 3.58579 8.58579 3.25 9 3.25H15C15.4142 3.25 15.75 3.58579 15.75 4C15.75 4.41421 15.4142 4.75 15 4.75H9C8.58579 4.75 8.25 4.41421 8.25 4ZM4.25 7.2C4.25 6.78579 4.58579 6.45 5 6.45H19C19.4142 6.45 19.75 6.78579 19.75 7.2C19.75 7.61421 19.4142 7.95 19 7.95H18.75V18.0308C18.75 19.5439 17.5082 20.75 16 20.75H8C6.49179 20.75 5.25 19.5439 5.25 18.0308V7.95H5C4.58579 7.95 4.25 7.61421 4.25 7.2ZM6.75 7.95V18.0308C6.75 18.6936 7.29821 19.25 8 19.25H16C16.7018 19.25 17.25 18.6936 17.25 18.0308V7.95H6.75ZM10 10.3885C10.4142 10.3885 10.75 10.7242 10.75 11.1385V16.0615C10.75 16.4758 10.4142 16.8115 10 16.8115C9.58579 16.8115 9.25 16.4758 9.25 16.0615V11.1385C9.25 10.7242 9.58579 10.3885 10 10.3885ZM14 10.3885C14.4142 10.3885 14.75 10.7242 14.75 11.1385V16.0615C14.75 16.4758 14.4142 16.8115 14 16.8115C13.5858 16.8115 13.25 16.4758 13.25 16.0615V11.1385C13.25 10.7242 13.5858 10.3885 14 10.3885Z\" fill=\"currentColor\"/>\n<\/g>\n<\/svg>\n<\/div><\/div><\/div><\/div><div class=\"redactor_condition-input_container redactor_condition-input_crm hidden main-select main-select--fixed main-select--fixed-w\"><div class=\"redactor_condition-label\">Условие<\/div><select class=\"redactor_condition-select redactor_condition-crm\"><option class=\"selected_crm_condition\" value=\"crm_state_changed\">Смена состояния сделки (crm_state_changed)<\/option><option class=\"selected_crm_condition\" value=\"crm_system_state_changed\">Завершение сделки (crm_system_state_changed)<\/option><option class=\"selected_crm_condition\" value=\"crm_lead_removed\">Удаление сделки (crm_lead_removed)<\/option><option class=\"selected_crm_condition\" value=\"change_responsible_client\">Смена ответственного (change_responsible_client)<\/option><\/select><div class=\"redactor_condition-label redactor_responsible_select_block hidden mt-12\">Выберите ответственного<\/div><div class=\"redactor_responsible_select_block hidden main-select main-select--fixed main-select--fixed-w\"><select class=\"redactor_condition-select redactor_responsible_select\"><option class=\"redactor_responsible_selected\" value=\"empty\">Любой ответственный<\/option><option class=\"redactor_responsible_selected\" value=\"357198\">gorseninaolesa920@gmail.com<\/option><\/select><\/div><div class=\"redactor_condition-label redactor_responsible_state_block hidden mt-12\">Выберите состояние<\/div><div class=\"redactor_responsible_state_block hidden main-select main-select--fixed main-select--fixed-w\"><select class=\"redactor_condition-select redactor_state_select\"><option class=\"redactor_state_selected\" value=\"empty\">Любое состояние<\/option><option class=\"redactor_state_selected\" value=\"Ваша первая воронка:Заинтересовались\">Ваша первая воронка:Заинтересовались<\/option><option class=\"redactor_state_selected\" value=\"Ваша первая воронка:Стадия переговоров\">Ваша первая воронка:Стадия переговоров<\/option><option class=\"redactor_state_selected\" value=\"Ваша первая воронка:Коммерческое предложение\">Ваша первая воронка:Коммерческое предложение<\/option><option class=\"redactor_state_selected\" value=\"Ваша первая воронка:Договор/Счет\">Ваша первая воронка:Договор/Счет<\/option><option class=\"redactor_state_selected\" value=\"Ваша первая воронка:В работе\">Ваша первая воронка:В работе<\/option><\/select><\/div><div class=\"redactor_condition-label redactor_responsible_order_block hidden mt-12\">Завершение сделки<\/div><div class=\"redactor_responsible_order_block hidden main-select main-select--fixed main-select--fixed-w\"><select class=\"redactor_condition-select redactor_order_end_select\"><option class=\"redactor_order_end_selected\" value=\"empty\">Любое завершение сделки<\/option><option class=\"redactor_order_end_selected\" value=\"Ваша первая воронка:Успешные сделки\">Ваша первая воронка:Успешные сделки<\/option><option class=\"redactor_order_end_selected\" value=\"Ваша первая воронка:Проваленные сделки\">Ваша первая воронка:Проваленные сделки<\/option><option class=\"redactor_order_end_selected\" value=\"Ваша первая воронка:Архивные сделки\">Ваша первая воронка:Архивные сделки<\/option><option class=\"redactor_order_end_selected\" value=\"Ваша первая воронка:Удаленные сделки\">Ваша первая воронка:Удаленные сделки<\/option><\/select><\/div><\/div><div class=\"redactor_condition-input_clients-container hidden main-select main-select--fixed main-select--fixed-w\"><div class=\"redactor_condition-label\">Условие<\/div><select class=\"redactor_condition-select redactor_condition-clients\"><option class=\"selected_clients_condition\" value=\"added_label_callback\">Метка добавилась к клиенту (added_label_callback)<\/option><option class=\"selected_clients_condition\" value=\"removed_label_callback\">Метка удалилась у клиента (removed_label_callback)<\/option><option class=\"selected_clients_condition\" value=\"added_to_list_callback\">Клиент добавился в список (added_to_list_callback)<\/option><option class=\"selected_clients_condition\" value=\"removed_from_list_callback\">Клиент удалился из списка (removed_from_list_callback)<\/option><\/select><div class=\"redactor_condition-label redactor_condition-block-mark hidden mt-12\">Выберите метку<\/div><div class=\"redactor_condition-block-mark main-select main-select--fixed main-select--fixed-w hidden\"><select class=\"redactor_condition-select redactor_condition-select-mark\"><option class=\"selected_label_condition\" value=\"empty\">Любая метка<\/option><\/select><\/div><div class=\"redactor_condition-label redactor_condition-block-label hidden mt-12\">Выберите список<\/div><div class=\"redactor_condition-block-label main-select main-select--fixed main-select--fixed-w hidden\"><select class=\"redactor_condition-select redactor_condition-select-label\"><option class=\"selected_mark_condition\" value=\"empty\">Любой список<\/option><\/select><\/div><\/div><div class=\"redactor_condition-input_test_window-container hidden\"><div class=\"test_window_text\"><span>В переменные для сравнения будет добавлено сравнение <br> \"platform_id == \"test_client_online\" для работы с тестовым окном<\/span><\/div><\/div><div class=\"redactor_condition-input_default-container hidden\"><div class=\"redactor_condition-label\">Условие<\/div><input class=\"redactor_condition-input_default\" placeholder=\"Введите условие\" /><\/div><div class=\"redactor_condition-input_container redactor_condition-input_container_chanel hidden main-select main-select--fixed main-select--fixed-w\"><div class=\"redactor_condition-label\">Условие<\/div><select class=\"redactor_condition-select redactor_condition-select_action\"><\/select><\/div><div class=\"redactor_condition-input_container redactor_condition-input_select_bot hidden main-select main-select--fixed main-select--fixed-w\"><div class=\"redactor_condition-label\">Выбор бота<\/div><select class=\"redactor_condition-select redactor_condition-select_bot\"><option class=\"selected_bot telegram_bot-bot\">englililish_Bot<\/option><\/select><div class=\"selected_bot__checkbox-list hidden\"><div class=\"selected_bot__checkbox-list__item\"><div class=\"selected_bot__checkbox-list__item_text\"><\/div><div class=\"selected_bot__checkbox-list__item_delete\">+<\/div><\/div><\/div><\/div><div class=\"redactor_condition-input_container_inputs\"><\/div><div class=\"redactor_condition-input_container redactor_condition-input_container_methods hidden main-select main-select--fixed main-select--fixed-w\"><div class=\"redactor_condition-label\">Метод калькулятора<\/div><select class=\"redactor_condition-select redactor_condition-input_container_methods_select\"><\/select><\/div><\/div><div class=\"condition_container--js redactor_condition_constructor_modal_container__channels hidden\"><div class=\"container_channels--js display-flex flex-jc-space-between flex-wrap gap-6 m-8\"><option class=\"select_channels_item--js btn-dashed-white--xxs flex-grow\" value=\"whatsapp\">WhatsApp<\/option><input class=\"redactor_condition-select_chanel__input hidden\" /><\/div><div class=\"integrationIsNotConnected mb-12 hidden\">Интеграция не подключена<\/div><div class=\"redactor_condition-input_container redactor_condition-input_whatsapp_api_type hidden main-select main-select--fixed main-select--fixed-w\"><div class=\"redactor_condition-label\">Тип запроса<\/div><select class=\"redactor_condition-select redactor_condition-whatsapp_api_type\"><\/select><\/div><div class=\"redactor_condition-input_container redactor_condition-input_whatsapp_api_url hidden main-select main-select--fixed main-select--fixed-w\"><div class=\"redactor_condition-label\">URL запроса<\/div><select class=\"redactor_condition-select redactor_condition-whatsapp_api_url\"><\/select><\/div><div class=\"redactor_condition-input_container redactor_condition-input_container_chanel hidden main-select main-select--fixed main-select--fixed-w\"><div class=\"redactor_condition-label\">Условие<\/div><select class=\"redactor_condition-select redactor_condition-select_action\"><\/select><\/div><div class=\"redactor_condition-input_container_inputs\"><\/div><div class=\"redactor_condition-input_container redactor_condition-input_container_methods hidden main-select main-select--fixed main-select--fixed-w\"><div class=\"redactor_condition-label\">Метод калькулятора<\/div><select class=\"redactor_condition-select redactor_condition-input_container_methods_select\"><\/select><\/div><\/div><div class=\"condition_container--js redactor_condition_constructor_modal_container__pay_systems hidden\"><div class=\"container_pay_systems_select--js display-flex flex-wrap gap-6 mt-12 mb-8\"><input class=\"redactor_condition-select_pay_systems__input hidden\" /><\/div><div class=\"integrationIsNotConnected mb-12 hidden\"><div class=\"integrationIsNotConnected__text\">Интеграция не подключена<\/div><a class=\"btn-solid-brand--m integrationIsNotConnected__button\" data-remote=\"true\" href=\"/projects/569981/payments_integrations\"><span>Подключить<\/span><\/a><\/div><div class=\"redactor_condition-input_container redactor_condition-input_container_chanel hidden main-select main-select--fixed main-select--fixed-w\"><div class=\"redactor_condition-label\">Условие<\/div><select class=\"redactor_condition-select redactor_condition-select_action\"><\/select><\/div><div class=\"redactor_condition-input_container_inputs\"><\/div><div class=\"redactor_condition-input_container redactor_condition-input_container_methods hidden main-select main-select--fixed main-select--fixed-w\"><div class=\"redactor_condition-label\">Метод калькулятора<\/div><select class=\"redactor_condition-select redactor_condition-input_container_methods_select\"><\/select><\/div><\/div><div class=\"condition_container--js redactor_condition_constructor_modal_container__telephone hidden\"><div class=\"container_telephone_select--js display-flex flex-jc-start flex-wrap gap-6 mt-12 mb-8\"><input class=\"redactor_condition-select_telephone__input hidden\" /><\/div><div class=\"integrationIsNotConnected mb-12 hidden\"><div class=\"integrationIsNotConnected__text\">Интеграция не подключена<\/div><a class=\"btn-solid-brand--m integrationIsNotConnected__button\" data-remote=\"true\" href=\"/projects/569981/telephony_integrations\"><span>Подключить<\/span><\/a><\/div><div class=\"redactor_condition-input_container redactor_condition-input_container_chanel hidden main-select main-select--fixed main-select--fixed-w\"><div class=\"redactor_condition-label\">Условие<\/div><select class=\"redactor_condition-select redactor_condition-select_action\"><\/select><\/div><div class=\"redactor_condition-input_container_inputs\"><\/div><div class=\"redactor_condition-input_container redactor_condition-input_container_methods hidden main-select main-select--fixed main-select--fixed-w\"><div class=\"redactor_condition-label\">Метод калькулятора<\/div><select class=\"redactor_condition-select redactor_condition-input_container_methods_select\"><\/select><\/div><\/div><div class=\"condition_container--js redactor_condition_constructor_modal_container__other_integrations hidden\"><div class=\"container_other_integrations_select--js display-flex flex-jc-start flex-wrap gap-6 mt-12 mb-8\"><input class=\"redactor_condition-select_other_integrations__input hidden\" /><\/div><div class=\"integrationIsNotConnected mb-12 hidden\">Интеграция не подключена<\/div><div class=\"redactor_condition-input_container redactor_condition-input_container_chanel hidden main-select main-select--fixed main-select--fixed-w\"><div class=\"redactor_condition-label\">Условие<\/div><select class=\"redactor_condition-select redactor_condition-select_action\"><\/select><\/div><div class=\"redactor_condition-input_container_inputs\"><\/div><div class=\"redactor_condition-input_container redactor_condition-input_container_methods hidden main-select main-select--fixed main-select--fixed-w\"><div class=\"redactor_condition-label\">Метод калькулятора<\/div><select class=\"redactor_condition-select redactor_condition-input_container_methods_select\"><\/select><\/div><\/div><div class=\"redactor_condition-match-selection mt-16 hidden main-select main-select--fixed main-select--fixed-w\"><div class=\"redactor_condition-label\">Выбор соответствия<\/div><select class=\"redactor_condition-match-selection-select\"><option value=\"0\">Игнорируя ошибки и неточности<\/option><option value=\"1\">По наличию ключевых слов<\/option><option value=\"2\">Полное совпадение<\/option><option value=\"4\">Регулярное выражение<\/option><option value=\"5\">Сравнение по смыслу<\/option><\/select><\/div><div class=\"reductor-conditions-no-collbacks mt-16 hidden\"><div class=\"check_container\" data-type-column=\"no-callbacks\"><label><input class=\"mass-select-checkbox\" data-type-column=\"no-callbacks\" type=\"checkbox\" /><span>Не срабатывать на Callback<\/span><\/label><\/div><\/div><div class=\"redactor_condition_constructor_modal_container__footer mt-8\"><div class=\"redactor_condition_constructor_buttons\"><div class=\"btn-solid-brand--m redactor_condition_constructor_add_condition redactor_condition_accept\">Добавить условие<\/div><div class=\"btn-outline-white--m redactor_condition_constructor_replace_condition\">Заменить условие<\/div><\/div><div class=\"btn-outline-white--m redactor_condition_constructor_close_condition\">Закрыть<\/div><\/div><\/div><\/div><div class=\"part_new\" id=\"condition_part\" style=\"display: none\"><div class=\"redactor_condition_popup hidden\"><div class=\"redactor_condition_main\"><div class=\"redactor_condition_header\"><div class=\"redactor_condition_header-label\">Конструктор условий<\/div><div class=\"redactor_condition_header-destroy\">+<\/div><\/div><div class=\"redactor_condition_body\"><div class=\"redactor_condition-input_container main-select main-select--fixed main-select--fixed-w\"><div class=\"redactor_condition-label\">Канал<\/div><select class=\"redactor_condition-select redactor_condition-select_chanel\"><\/select><\/div><div class=\"redactor_condition-input_container redactor_condition-input_container_chanel hidden main-select main-select--fixed main-select--fixed-w\"><div class=\"redactor_condition-label\">Условие<\/div><select class=\"redactor_condition-select redactor_condition-select_action\"><\/select><\/div><div class=\"redactor_condition-input_container_inputs\"><\/div><div class=\"redactor_condition-input_container redactor_condition-input_container_methods hidden main-select main-select--fixed main-select--fixed-w\"><div class=\"redactor_condition-label\">Метод калькулятора<\/div><select class=\"redactor_condition-select redactor_condition-input_container_methods_select\"><\/select><\/div><div class=\"redactor_condition_accept\">Сохранить<\/div><\/div><\/div><\/div><div class=\"redactor_condition_container--js display-flex flex-jc-space-between mb-4\"><div class=\"label-wrapper\"><div class=\"new_label\">Условие<\/div><div class=\"dt-tooltip dt-tooltip__dark\"><div class=\"dt-tooltip__icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/help square/i16\">\n<g id=\"Union\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5.62961 3.26665C4.32458 3.26665 3.26665 4.32458 3.26665 5.62961V10.3704C3.26665 11.6754 4.32458 12.7333 5.62961 12.7333H10.3704C11.6754 12.7333 12.7333 11.6754 12.7333 10.3704V5.62961C12.7333 4.32458 11.6754 3.26665 10.3704 3.26665H5.62961ZM2.06665 5.62961C2.06665 3.66184 3.66184 2.06665 5.62961 2.06665H10.3704C12.3381 2.06665 13.9333 3.66184 13.9333 5.62961V10.3704C13.9333 12.3381 12.3381 13.9333 10.3704 13.9333H5.62961C3.66184 13.9333 2.06665 12.3381 2.06665 10.3704V5.62961ZM7.98457 5.02915C9.04817 4.98576 9.95472 5.80067 10.0211 6.86664C10.0219 6.87906 10.0223 6.89149 10.0223 6.90393C10.0223 7.57076 9.66073 8.18517 9.07781 8.50898L8.29144 8.94587C8.00177 9.10681 7.63648 9.00245 7.47555 8.71278C7.31462 8.42311 7.41898 8.05783 7.70865 7.89689L8.49502 7.46C8.69164 7.35079 8.8156 7.14612 8.822 6.92219C8.78649 6.51417 8.43308 6.20595 8.02186 6.22872C8.00253 6.22979 7.98315 6.22992 7.96381 6.22912C7.5847 6.21338 7.24805 6.46965 7.16229 6.83927C7.0874 7.16206 6.765 7.36302 6.44221 7.28813C6.11941 7.21323 5.91845 6.89084 5.99335 6.56804C6.20731 5.64586 7.0409 5.0036 7.98457 5.02915Z\" fill=\"currentColor\"/>\n<path d=\"M8.65952 10.3121C8.65975 10.1369 8.59028 9.96889 8.46642 9.84504C8.34258 9.72119 8.17454 9.65171 7.99938 9.65194C7.63549 9.65241 7.3408 9.94762 7.34096 10.3115C7.34111 10.6754 7.63607 10.9703 7.99995 10.9705C8.36384 10.9707 8.65905 10.676 8.65952 10.3121Z\" fill=\"currentColor\"/>\n<\/g>\n<\/g>\n<\/svg>\n<\/div><div class=\"dt-tooltip__description--bottom\" style=\"transform: translateX(-30%);\"><span>Здесь записываете слова или выражения, на которые будет реагировать бот<\/span><\/div><\/div><\/div><div class=\"redactor_condition_button--js btn-no-outline--m\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/projects/i24\">\n<path id=\"Union\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M3.25 8.44444C3.25 5.57563 5.57563 3.25 8.44444 3.25H15.5556C18.4244 3.25 20.75 5.57563 20.75 8.44444V15.5556C20.75 18.4244 18.4244 20.75 15.5556 20.75H8.44444C5.57563 20.75 3.25 18.4244 3.25 15.5556V8.44444ZM8.44444 4.75C6.40406 4.75 4.75 6.40406 4.75 8.44444V15.5556C4.75 17.5959 6.40406 19.25 8.44444 19.25H15.5556C17.5959 19.25 19.25 17.5959 19.25 15.5556V8.44444C19.25 6.40406 17.5959 4.75 15.5556 4.75H8.44444ZM6.80556 8.5926C6.80556 7.60564 7.60564 6.80556 8.5926 6.80556H9.62963C10.6166 6.80556 11.4167 7.60564 11.4167 8.5926V9.62963C11.4167 10.6166 10.6166 11.4167 9.62963 11.4167H8.5926C7.60564 11.4167 6.80556 10.6166 6.80556 9.62963V8.5926ZM8.5926 8.30556C8.43407 8.30556 8.30556 8.43407 8.30556 8.5926V9.62963C8.30556 9.78815 8.43407 9.91667 8.5926 9.91667H9.62963C9.78815 9.91667 9.91667 9.78815 9.91667 9.62963V8.5926C9.91667 8.43407 9.78815 8.30556 9.62963 8.30556H8.5926ZM12.5833 7.77778C12.5833 7.36356 12.9191 7.02778 13.3333 7.02778H16.4444C16.8587 7.02778 17.1944 7.36356 17.1944 7.77778C17.1944 8.19199 16.8587 8.52778 16.4444 8.52778H13.3333C12.9191 8.52778 12.5833 8.19199 12.5833 7.77778ZM12.5833 10.4444C12.5833 10.0302 12.9191 9.69444 13.3333 9.69444H16.4444C16.8587 9.69444 17.1944 10.0302 17.1944 10.4444C17.1944 10.8587 16.8587 11.1944 16.4444 11.1944H13.3333C12.9191 11.1944 12.5833 10.8587 12.5833 10.4444ZM6.80556 14.3704C6.80556 13.3834 7.60564 12.5833 8.5926 12.5833H9.62963C10.6166 12.5833 11.4167 13.3834 11.4167 14.3704V15.4074C11.4167 16.3944 10.6166 17.1944 9.62963 17.1944H8.5926C7.60564 17.1944 6.80556 16.3944 6.80556 15.4074V14.3704ZM8.5926 14.0833C8.43407 14.0833 8.30556 14.2118 8.30556 14.3704V15.4074C8.30556 15.5659 8.43407 15.6944 8.5926 15.6944H9.62963C9.78815 15.6944 9.91667 15.5659 9.91667 15.4074V14.3704C9.91667 14.2118 9.78815 14.0833 9.62963 14.0833H8.5926ZM12.5833 13.5556C12.5833 13.1413 12.9191 12.8056 13.3333 12.8056H16.4444C16.8587 12.8056 17.1944 13.1413 17.1944 13.5556C17.1944 13.9698 16.8587 14.3056 16.4444 14.3056H13.3333C12.9191 14.3056 12.5833 13.9698 12.5833 13.5556ZM12.5833 16.2222C12.5833 15.808 12.9191 15.4722 13.3333 15.4722H16.4444C16.8587 15.4722 17.1944 15.808 17.1944 16.2222C17.1944 16.6364 16.8587 16.9722 16.4444 16.9722H13.3333C12.9191 16.9722 12.5833 16.6364 12.5833 16.2222Z\" fill=\"currentColor\"/>\n<\/g>\n<\/svg>\n<span>Конструктор условий<\/span><\/div><\/div><div class=\"input-field col string optional message_condition s12\"><input placeholder=\"Условие\" class=\"string optional\" type=\"text\" name=\"message[condition]\" id=\"message_condition\" /><\/div><div class=\"label-wrapper mb-4\"><div class=\"new_label\">Выбор соответствия<\/div><div class=\"dt-tooltip dt-tooltip__dark\"><div class=\"dt-tooltip__icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/help square/i16\">\n<g id=\"Union\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5.62961 3.26665C4.32458 3.26665 3.26665 4.32458 3.26665 5.62961V10.3704C3.26665 11.6754 4.32458 12.7333 5.62961 12.7333H10.3704C11.6754 12.7333 12.7333 11.6754 12.7333 10.3704V5.62961C12.7333 4.32458 11.6754 3.26665 10.3704 3.26665H5.62961ZM2.06665 5.62961C2.06665 3.66184 3.66184 2.06665 5.62961 2.06665H10.3704C12.3381 2.06665 13.9333 3.66184 13.9333 5.62961V10.3704C13.9333 12.3381 12.3381 13.9333 10.3704 13.9333H5.62961C3.66184 13.9333 2.06665 12.3381 2.06665 10.3704V5.62961ZM7.98457 5.02915C9.04817 4.98576 9.95472 5.80067 10.0211 6.86664C10.0219 6.87906 10.0223 6.89149 10.0223 6.90393C10.0223 7.57076 9.66073 8.18517 9.07781 8.50898L8.29144 8.94587C8.00177 9.10681 7.63648 9.00245 7.47555 8.71278C7.31462 8.42311 7.41898 8.05783 7.70865 7.89689L8.49502 7.46C8.69164 7.35079 8.8156 7.14612 8.822 6.92219C8.78649 6.51417 8.43308 6.20595 8.02186 6.22872C8.00253 6.22979 7.98315 6.22992 7.96381 6.22912C7.5847 6.21338 7.24805 6.46965 7.16229 6.83927C7.0874 7.16206 6.765 7.36302 6.44221 7.28813C6.11941 7.21323 5.91845 6.89084 5.99335 6.56804C6.20731 5.64586 7.0409 5.0036 7.98457 5.02915Z\" fill=\"currentColor\"/>\n<path d=\"M8.65952 10.3121C8.65975 10.1369 8.59028 9.96889 8.46642 9.84504C8.34258 9.72119 8.17454 9.65171 7.99938 9.65194C7.63549 9.65241 7.3408 9.94762 7.34096 10.3115C7.34111 10.6754 7.63607 10.9703 7.99995 10.9705C8.36384 10.9707 8.65905 10.676 8.65952 10.3121Z\" fill=\"currentColor\"/>\n<\/g>\n<\/g>\n<\/svg>\n<\/div><div class=\"dt-tooltip__description--bottom\" style=\"transform: translateX(-55%);\"><span>Выберите, насколько точным должно быть соответствие условию<\/span><\/div><\/div><\/div><div class=\"main-select\"><div class=\"input-field col select optional message_comparision_method s12\"><select class=\"select optional\" name=\"message[comparision_method]\" id=\"message_comparision_method\"><option selected=\"selected\" value=\"0\">Игнорируя ошибки и неточности<\/option>\n<option value=\"1\">По наличию ключевых слов<\/option>\n<option value=\"2\">Полное совпадение<\/option>\n<option value=\"4\">Регулярное выражение<\/option>\n<option value=\"5\">Сравнение по смыслу<\/option><\/select><\/div><\/div><div class=\"label-wrapper mb-4\"><div class=\"new_label\">Переменная для сравнения<\/div><div class=\"dt-tooltip dt-tooltip__dark\"><div class=\"dt-tooltip__icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/help square/i16\">\n<g id=\"Union\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5.62961 3.26665C4.32458 3.26665 3.26665 4.32458 3.26665 5.62961V10.3704C3.26665 11.6754 4.32458 12.7333 5.62961 12.7333H10.3704C11.6754 12.7333 12.7333 11.6754 12.7333 10.3704V5.62961C12.7333 4.32458 11.6754 3.26665 10.3704 3.26665H5.62961ZM2.06665 5.62961C2.06665 3.66184 3.66184 2.06665 5.62961 2.06665H10.3704C12.3381 2.06665 13.9333 3.66184 13.9333 5.62961V10.3704C13.9333 12.3381 12.3381 13.9333 10.3704 13.9333H5.62961C3.66184 13.9333 2.06665 12.3381 2.06665 10.3704V5.62961ZM7.98457 5.02915C9.04817 4.98576 9.95472 5.80067 10.0211 6.86664C10.0219 6.87906 10.0223 6.89149 10.0223 6.90393C10.0223 7.57076 9.66073 8.18517 9.07781 8.50898L8.29144 8.94587C8.00177 9.10681 7.63648 9.00245 7.47555 8.71278C7.31462 8.42311 7.41898 8.05783 7.70865 7.89689L8.49502 7.46C8.69164 7.35079 8.8156 7.14612 8.822 6.92219C8.78649 6.51417 8.43308 6.20595 8.02186 6.22872C8.00253 6.22979 7.98315 6.22992 7.96381 6.22912C7.5847 6.21338 7.24805 6.46965 7.16229 6.83927C7.0874 7.16206 6.765 7.36302 6.44221 7.28813C6.11941 7.21323 5.91845 6.89084 5.99335 6.56804C6.20731 5.64586 7.0409 5.0036 7.98457 5.02915Z\" fill=\"currentColor\"/>\n<path d=\"M8.65952 10.3121C8.65975 10.1369 8.59028 9.96889 8.46642 9.84504C8.34258 9.72119 8.17454 9.65171 7.99938 9.65194C7.63549 9.65241 7.3408 9.94762 7.34096 10.3115C7.34111 10.6754 7.63607 10.9703 7.99995 10.9705C8.36384 10.9707 8.65905 10.676 8.65952 10.3121Z\" fill=\"currentColor\"/>\n<\/g>\n<\/g>\n<\/svg>\n<\/div><div class=\"dt-tooltip__description--bottom\" style=\"transform: translateX(-75%);\"><span>Чтобы блок сработал только при определенном значении переменной, укажите условие. Например, current_time &gt; &#39;11:00&#39;<\/span><\/div><\/div><\/div><div class=\"input-field col text optional message_compare_variable s12\"><textarea placeholder=\"Переменная для сравнения\" class=\"text optional materialize-textarea\" name=\"message[compare_variable]\" id=\"message_compare_variable\">\n<\/textarea><\/div><div class=\"addition_settings_trigger\">Расширенные настройки<\/div><div class=\"addition_settings\"><div class=\"label-wrapper mb-4\"><div class=\"new_label\">Строки, на которые не отвечать<\/div><div class=\"dt-tooltip dt-tooltip__dark\"><div class=\"dt-tooltip__icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/help square/i16\">\n<g id=\"Union\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5.62961 3.26665C4.32458 3.26665 3.26665 4.32458 3.26665 5.62961V10.3704C3.26665 11.6754 4.32458 12.7333 5.62961 12.7333H10.3704C11.6754 12.7333 12.7333 11.6754 12.7333 10.3704V5.62961C12.7333 4.32458 11.6754 3.26665 10.3704 3.26665H5.62961ZM2.06665 5.62961C2.06665 3.66184 3.66184 2.06665 5.62961 2.06665H10.3704C12.3381 2.06665 13.9333 3.66184 13.9333 5.62961V10.3704C13.9333 12.3381 12.3381 13.9333 10.3704 13.9333H5.62961C3.66184 13.9333 2.06665 12.3381 2.06665 10.3704V5.62961ZM7.98457 5.02915C9.04817 4.98576 9.95472 5.80067 10.0211 6.86664C10.0219 6.87906 10.0223 6.89149 10.0223 6.90393C10.0223 7.57076 9.66073 8.18517 9.07781 8.50898L8.29144 8.94587C8.00177 9.10681 7.63648 9.00245 7.47555 8.71278C7.31462 8.42311 7.41898 8.05783 7.70865 7.89689L8.49502 7.46C8.69164 7.35079 8.8156 7.14612 8.822 6.92219C8.78649 6.51417 8.43308 6.20595 8.02186 6.22872C8.00253 6.22979 7.98315 6.22992 7.96381 6.22912C7.5847 6.21338 7.24805 6.46965 7.16229 6.83927C7.0874 7.16206 6.765 7.36302 6.44221 7.28813C6.11941 7.21323 5.91845 6.89084 5.99335 6.56804C6.20731 5.64586 7.0409 5.0036 7.98457 5.02915Z\" fill=\"currentColor\"/>\n<path d=\"M8.65952 10.3121C8.65975 10.1369 8.59028 9.96889 8.46642 9.84504C8.34258 9.72119 8.17454 9.65171 7.99938 9.65194C7.63549 9.65241 7.3408 9.94762 7.34096 10.3115C7.34111 10.6754 7.63607 10.9703 7.99995 10.9705C8.36384 10.9707 8.65905 10.676 8.65952 10.3121Z\" fill=\"currentColor\"/>\n<\/g>\n<\/g>\n<\/svg>\n<\/div><div class=\"dt-tooltip__description--bottom\" style=\"transform: translateX(-85%);\"><span>Здесь указываются слова или выражения, на которые блок не будет срабатывать<\/span><\/div><\/div><\/div><div class=\"input-field col string optional message_black_list s12\"><input placeholder=\"Строки, на которые не надо отвечать\" class=\"string optional\" type=\"text\" name=\"message[black_list]\" id=\"message_black_list\" /><\/div><div class=\"label-wrapper mb-4\"><div class=\"new_label\">Приоритет<\/div><div class=\"dt-tooltip dt-tooltip__dark\"><div class=\"dt-tooltip__icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/help square/i16\">\n<g id=\"Union\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5.62961 3.26665C4.32458 3.26665 3.26665 4.32458 3.26665 5.62961V10.3704C3.26665 11.6754 4.32458 12.7333 5.62961 12.7333H10.3704C11.6754 12.7333 12.7333 11.6754 12.7333 10.3704V5.62961C12.7333 4.32458 11.6754 3.26665 10.3704 3.26665H5.62961ZM2.06665 5.62961C2.06665 3.66184 3.66184 2.06665 5.62961 2.06665H10.3704C12.3381 2.06665 13.9333 3.66184 13.9333 5.62961V10.3704C13.9333 12.3381 12.3381 13.9333 10.3704 13.9333H5.62961C3.66184 13.9333 2.06665 12.3381 2.06665 10.3704V5.62961ZM7.98457 5.02915C9.04817 4.98576 9.95472 5.80067 10.0211 6.86664C10.0219 6.87906 10.0223 6.89149 10.0223 6.90393C10.0223 7.57076 9.66073 8.18517 9.07781 8.50898L8.29144 8.94587C8.00177 9.10681 7.63648 9.00245 7.47555 8.71278C7.31462 8.42311 7.41898 8.05783 7.70865 7.89689L8.49502 7.46C8.69164 7.35079 8.8156 7.14612 8.822 6.92219C8.78649 6.51417 8.43308 6.20595 8.02186 6.22872C8.00253 6.22979 7.98315 6.22992 7.96381 6.22912C7.5847 6.21338 7.24805 6.46965 7.16229 6.83927C7.0874 7.16206 6.765 7.36302 6.44221 7.28813C6.11941 7.21323 5.91845 6.89084 5.99335 6.56804C6.20731 5.64586 7.0409 5.0036 7.98457 5.02915Z\" fill=\"currentColor\"/>\n<path d=\"M8.65952 10.3121C8.65975 10.1369 8.59028 9.96889 8.46642 9.84504C8.34258 9.72119 8.17454 9.65171 7.99938 9.65194C7.63549 9.65241 7.3408 9.94762 7.34096 10.3115C7.34111 10.6754 7.63607 10.9703 7.99995 10.9705C8.36384 10.9707 8.65905 10.676 8.65952 10.3121Z\" fill=\"currentColor\"/>\n<\/g>\n<\/g>\n<\/svg>\n<\/div><div class=\"dt-tooltip__description--bottom\" style=\"transform: translateX(-35%);\"><span>Поставьте цифру выше, чтобы увеличить приоритет срабатывания по сравнению с другими блоками такого же типа<\/span><\/div><\/div><\/div><div class=\"input-field col integer optional message_priority s12\"><input placeholder=\"Приоритет\" class=\"numeric integer optional\" type=\"number\" step=\"1\" value=\"10\" name=\"message[priority]\" id=\"message_priority\" /><\/div><p class=\"col switch boolean optional message_enter_once s12\"><label class=\"boolean optional\" for=\"message_enter_once\">Отвечать один раз<\/label><label><input name=\"message[enter_once]\" type=\"hidden\" value=\"0\" autocomplete=\"off\" /><input class=\"boolean optional\" type=\"checkbox\" value=\"1\" name=\"message[enter_once]\" id=\"message_enter_once\" /><span tag=\"span\" class=\"lever boolean optional\"><\/span><\/label><\/p><p class=\"col switch boolean optional message_response_only_to_callback s12\"><label class=\"boolean optional\" for=\"message_response_only_to_callback\">Срабатывать только на Callback<\/label><label><input name=\"message[response_only_to_callback]\" type=\"hidden\" value=\"0\" autocomplete=\"off\" /><input class=\"boolean optional\" type=\"checkbox\" value=\"1\" name=\"message[response_only_to_callback]\" id=\"message_response_only_to_callback\" /><span tag=\"span\" class=\"lever boolean optional\"><\/span><\/label><\/p><div class=\"addition_settings_trigger_hidden\">Скрыть настройки<\/div><\/div><\/div><div class=\"part_new\" id=\"text_part\" style=\"display: none\"><div class=\"input-field col hidden message_answer s12\"><input class=\"hidden\" autocomplete=\"off\" type=\"hidden\" name=\"message[answer]\" id=\"message_answer\" /><\/div><div class=\"messages-generate-text-icon dt-tooltip dt-tooltip__dark\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M7.67379 0.530592C12.0343 -0.539085 16.5613 1.50867 18.6371 5.48977C20.713 9.47086 19.8004 14.355 16.427 17.3179C13.1379 20.2068 8.33936 20.5403 4.69057 18.1709L2.16112 18.733C1.91081 18.7886 1.64942 18.7125 1.4681 18.5312C1.28678 18.3498 1.21067 18.0884 1.26629 17.8381L1.82815 15.3098C0.798512 13.7329 0.248773 11.888 0.250002 9.99989C0.248035 5.51029 3.31343 1.60023 7.67379 0.530592ZM17.3071 6.18328C15.5508 2.81494 11.7205 1.08236 8.03116 1.9874C4.3418 2.89244 1.74817 6.20087 1.75 9.99961C1.74882 11.6909 2.27059 13.342 3.24382 14.7252C3.36523 14.8978 3.40835 15.1135 3.36257 15.3195L2.98624 17.013L4.67962 16.6367C4.8848 16.5911 5.09969 16.6337 5.27197 16.7541C8.38559 18.9303 12.583 18.6977 15.4372 16.1909C18.2913 13.684 19.0634 9.55163 17.3071 6.18328ZM7.15652 7.2688C7.25674 6.95948 7.54485 6.74997 7.87 6.74997H9.13C9.45515 6.74997 9.74327 6.95948 9.84349 7.2688L11.4635 12.2688C11.5912 12.6628 11.3752 13.0858 10.9812 13.2135C10.5871 13.3411 10.1642 13.1252 10.0365 12.7311L9.88062 12.25H7.11939L6.96349 12.7311C6.83582 13.1252 6.41288 13.3411 6.01883 13.2135C5.62479 13.0858 5.40885 12.6628 5.53652 12.2688L5.82996 11.3631C5.84195 11.2981 5.86233 11.236 5.88994 11.178L7.15652 7.2688ZM7.60539 10.75H9.39462L8.58462 8.24997H8.41539L7.60539 10.75ZM13.5 6.74997C13.9142 6.74997 14.25 7.08575 14.25 7.49997V12.5C14.25 12.9142 13.9142 13.25 13.5 13.25C13.0858 13.25 12.75 12.9142 12.75 12.5V7.49997C12.75 7.08575 13.0858 6.74997 13.5 6.74997Z\" fill=\"#95A3BA\"/>\n<\/svg>\n<div class=\"dt-tooltip__description--left\"><span>Сгенерировать текст с помощью ИИ<\/span><\/div><\/div><div class=\"textbox_placeholder textbox_placeholder_message\">Введите сообщение...<\/div><div aria-multiline=\"true\" class=\"textbox_message\" contenteditable=\"true\" id=\"textbox\" role=\"textbox\" style=\"padding-right: 24px\" tabindex=\"0\"><\/div><div class=\"markdown_block_label\">При двух или больше вложениях функция Markdown и кнопки в Telegram не работают<\/div><div class=\"actions-toggles mt-2\"><div class=\"html_help_text hidden\"><\/div><div class=\"btn-outline-grey-square--s emojipicker_for_messages--js dt-tooltip dt-tooltip__dark mr-4\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/smile/i24\">\n<path id=\"Union\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M9.43817 4.75C6.83487 4.75 4.75 6.81547 4.75 9.33333V14.6667C4.75 17.1845 6.83487 19.25 9.43817 19.25H14.5627C17.1653 19.25 19.2508 17.1845 19.25 14.6669V9.33333C19.25 6.81547 17.1651 4.75 14.5618 4.75H9.43817ZM3.25 9.33333C3.25 5.95965 6.0341 3.25 9.43817 3.25H14.5618C17.9659 3.25 20.75 5.95965 20.75 9.33333V14.6664C20.75 14.6664 20.75 14.6665 20.75 14.6664C20.7509 18.0403 17.9657 20.75 14.5627 20.75H9.43817C6.0341 20.75 3.25 18.0404 3.25 14.6667V9.33333ZM10.1877 9.02778C10.6019 9.02778 10.9377 9.36356 10.9377 9.77778V10.6667C10.9377 11.0809 10.6019 11.4167 10.1877 11.4167C9.77352 11.4167 9.43773 11.0809 9.43773 10.6667V9.77778C9.43773 9.36356 9.77352 9.02778 10.1877 9.02778ZM13.8132 9.02778C14.2274 9.02778 14.5632 9.36356 14.5632 9.77778V10.6667C14.5632 11.0809 14.2274 11.4167 13.8132 11.4167C13.399 11.4167 13.0632 11.0809 13.0632 10.6667V9.77778C13.0632 9.36356 13.399 9.02778 13.8132 9.02778ZM8.82819 13.9449C8.30304 14.4804 8.30327 14.4806 8.30349 14.4808L8.30502 14.4823L8.30744 14.4846L8.31366 14.4906L8.33154 14.5074C8.34586 14.5207 8.36499 14.5382 8.38885 14.5591C8.43654 14.6008 8.50329 14.6568 8.58837 14.7221C8.75821 14.8524 9.00309 15.0215 9.31696 15.1894C9.94454 15.525 10.8587 15.8611 12.0005 15.8611C13.1422 15.8611 14.0564 15.525 14.6839 15.1894C14.9978 15.0215 15.2427 14.8524 15.4125 14.7221C15.4976 14.6568 15.5644 14.6008 15.6121 14.5591C15.6359 14.5382 15.655 14.5207 15.6694 14.5074L15.6872 14.4906L15.6935 14.4846L15.6959 14.4823L15.6969 14.4813C15.6972 14.481 15.6979 14.4804 15.1727 13.9449L15.6979 14.4804C15.9936 14.1903 15.9982 13.7155 15.7082 13.4197C15.4192 13.1251 14.9468 13.1194 14.6508 13.4062C14.6504 13.4067 14.6496 13.4074 14.6484 13.4085C14.6443 13.4123 14.636 13.42 14.6234 13.4309C14.5984 13.4529 14.5567 13.4881 14.4993 13.5321C14.3842 13.6205 14.2079 13.7429 13.9766 13.8666C13.5138 14.1141 12.8418 14.3611 12.0005 14.3611C11.1591 14.3611 10.4871 14.1141 10.0243 13.8666C9.79304 13.7429 9.61668 13.6205 9.50158 13.5321C9.44419 13.4881 9.40255 13.4529 9.37746 13.4309C9.36493 13.42 9.35658 13.4123 9.35251 13.4085C9.3517 13.4077 9.35088 13.407 9.35006 13.4062C9.35006 13.4062 9.35007 13.4062 9.35006 13.4062C9.05411 13.1194 8.58168 13.1251 8.29272 13.4197C8.00269 13.7155 8.00776 14.1908 8.30349 14.4808L8.82819 13.9449Z\" fill=\"currentColor\"/>\n<\/g>\n<\/svg>\n<div class=\"dt-tooltip__description--top\" style=\"transform: translateX(30%);\"><span>Добавить смайл<\/span><\/div><\/div><div class=\"emojipicker_for_messages for_emojis--js\"><\/div><div class=\"btn_vars_modal btn-outline-grey-square--s dt-tooltip dt-tooltip__dark mr-4\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/brackets+/i24\">\n<path id=\"Union\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M4.1644 7.35738C4.1644 5.92798 5.30767 4.75 6.7432 4.75C7.15741 4.75 7.4932 5.08579 7.4932 5.5C7.4932 5.91421 7.15741 6.25 6.7432 6.25C6.15793 6.25 5.6644 6.7344 5.6644 7.35738V11.0713C5.6644 11.2682 5.58697 11.4572 5.44883 11.5975L5.05253 12L5.44883 12.4025C5.58697 12.5428 5.6644 12.7318 5.6644 12.9287V16.6426C5.6644 17.2656 6.15793 17.75 6.7432 17.75C7.15741 17.75 7.4932 18.0858 7.4932 18.5C7.4932 18.9142 7.15741 19.25 6.7432 19.25C5.30767 19.25 4.1644 18.072 4.1644 16.6426V13.2359L3.46557 12.5262C3.17814 12.2343 3.17814 11.7657 3.46557 11.4738L4.1644 10.7641V7.35738ZM16.5068 5.5C16.5068 5.08579 16.8426 4.75 17.2568 4.75C18.6923 4.75 19.8356 5.92798 19.8356 7.35738V10.7641L20.5344 11.4738C20.8219 11.7657 20.8219 12.2343 20.5344 12.5262L19.8356 13.2359V16.6426C19.8356 18.0722 18.6913 19.25 17.2568 19.25C16.8426 19.25 16.5068 18.9142 16.5068 18.5C16.5068 18.0858 16.8426 17.75 17.2568 17.75C17.8415 17.75 18.3356 17.2654 18.3356 16.6426V12.9287C18.3356 12.7318 18.413 12.5428 18.5512 12.4025L18.9475 12L18.5512 11.5975C18.413 11.4572 18.3356 11.2682 18.3356 11.0713V7.35738C18.3356 6.7344 17.8421 6.25 17.2568 6.25C16.8426 6.25 16.5068 5.91421 16.5068 5.5ZM12 9.21868C12.4142 9.21868 12.75 9.55447 12.75 9.96868V11.2499H14C14.4142 11.2499 14.75 11.5857 14.75 11.9999C14.75 12.4141 14.4142 12.7499 14 12.7499H12.75V14.0312C12.75 14.4454 12.4142 14.7812 12 14.7812C11.5858 14.7812 11.25 14.4454 11.25 14.0312V12.7499H10C9.58579 12.7499 9.25 12.4141 9.25 11.9999C9.25 11.5857 9.58579 11.2499 10 11.2499H11.25V9.96868C11.25 9.55447 11.5858 9.21868 12 9.21868Z\" fill=\"currentColor\"/>\n<\/g>\n<\/svg>\n<div class=\"dt-tooltip__description--top\" style=\"transform: translateX(30%);\"><span>Вставить переменную<\/span><\/div><\/div><Label class=\"actions-toggles__item_enable_markdown btn-outline-grey-square--s dt-tooltip dt-tooltip__dark mr-4\" for=\"message_enable_markdown\" style=\"\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/code/i24\">\n<path id=\"Union\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M13.5869 4.86792C13.9912 4.95788 14.2461 5.35858 14.1561 5.76291L11.3081 18.5629C11.2181 18.9672 10.8174 19.2221 10.4131 19.1321C10.0088 19.0421 9.75394 18.6414 9.8439 18.2371L12.6919 5.43712C12.7819 5.0328 13.1826 4.77795 13.5869 4.86792ZM7.73033 8.26968C8.02322 8.56258 8.02322 9.03745 7.73033 9.33034L5.06066 12L7.73033 14.6697C8.02322 14.9626 8.02322 15.4375 7.73033 15.7303C7.43744 16.0232 6.96256 16.0232 6.66967 15.7303L3.46967 12.5303C3.17678 12.2375 3.17678 11.7626 3.46967 11.4697L6.66967 8.26968C6.96256 7.97679 7.43744 7.97679 7.73033 8.26968ZM16.2697 8.26968C16.5626 7.97679 17.0374 7.97679 17.3303 8.26968L20.5303 11.4697C20.8232 11.7626 20.8232 12.2375 20.5303 12.5303L17.3303 15.7303C17.0374 16.0232 16.5626 16.0232 16.2697 15.7303C15.9768 15.4375 15.9768 14.9626 16.2697 14.6697L18.9393 12L16.2697 9.33034C15.9768 9.03745 15.9768 8.56258 16.2697 8.26968Z\" fill=\"currentColor\"/>\n<\/g>\n<\/svg>\n<input name=\"message[enable_markdown]\" type=\"hidden\" value=\"0\" autocomplete=\"off\" /><input class=\"opacity-0\" type=\"checkbox\" value=\"1\" name=\"message[enable_markdown]\" id=\"message_enable_markdown\" /><div class=\"dt-tooltip__description--bottom\" style=\"transform: translateX(30%);\"><span>Разметка Markdown<\/span><bt><\/bt><span>для форматирования сообщений в телеграм<\/span><\/div><\/Label><label class=\"actions-toggles__item_enable_html btn-outline-grey-square--s dt-tooltip dt-tooltip__dark mr-4\" for=\"message_enable_html\" style=\"\"><svg width=\"46\" height=\"38\" viewBox=\"0 0 36 28\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path d=\"M28.0438 17.938C27.8458 17.938 27.6808 17.883 27.5488 17.773C27.4242 17.6557 27.3618 17.4907 27.3618 17.278V10.711C27.3618 10.4983 27.4242 10.337 27.5488 10.227C27.6808 10.117 27.8458 10.062 28.0438 10.062C28.2418 10.062 28.4068 10.117 28.5388 10.227C28.6708 10.337 28.7368 10.4983 28.7368 10.711V17.278C28.7368 17.4907 28.6708 17.6557 28.5388 17.773C28.4068 17.883 28.2418 17.938 28.0438 17.938Z\" fill=\"currentColor\"/>\n  <path d=\"M24.1493 12.361C24.736 12.361 25.1833 12.537 25.4913 12.889C25.8066 13.2337 25.9643 13.7947 25.9643 14.572V17.278C25.9643 17.4907 25.8983 17.6557 25.7663 17.773C25.6416 17.883 25.4766 17.938 25.2713 17.938C25.0733 17.938 24.9083 17.883 24.7763 17.773C24.6516 17.6557 24.5893 17.4907 24.5893 17.278V14.572C24.5893 14.1687 24.516 13.8827 24.3693 13.714C24.23 13.538 24.0136 13.45 23.7203 13.45C23.361 13.45 23.075 13.5747 22.8623 13.824C22.6496 14.066 22.5433 14.3997 22.5433 14.825V17.278C22.5433 17.4907 22.4773 17.6557 22.3453 17.773C22.2206 17.883 22.0593 17.938 21.8613 17.938C21.6633 17.938 21.4983 17.883 21.3663 17.773C21.2343 17.6557 21.1683 17.4907 21.1683 17.278V14.572C21.1683 14.1687 21.095 13.8827 20.9483 13.714C20.809 13.538 20.5926 13.45 20.2993 13.45C19.94 13.45 19.654 13.5747 19.4413 13.824C19.236 14.066 19.1333 14.3997 19.1333 14.825V17.278C19.1333 17.4907 19.0673 17.6557 18.9353 17.773C18.8033 17.883 18.6383 17.938 18.4403 17.938C18.2423 17.938 18.0773 17.883 17.9453 17.773C17.8206 17.6557 17.7583 17.4907 17.7583 17.278V13.021C17.7583 12.8157 17.8243 12.658 17.9563 12.548C18.0883 12.438 18.2533 12.383 18.4513 12.383C18.642 12.383 18.796 12.438 18.9133 12.548C19.038 12.6507 19.1003 12.801 19.1003 12.999V13.263C19.269 12.9697 19.4926 12.746 19.7713 12.592C20.0573 12.438 20.3836 12.361 20.7503 12.361C21.557 12.361 22.096 12.6983 22.3673 13.373C22.5286 13.065 22.767 12.8193 23.0823 12.636C23.3976 12.4527 23.7533 12.361 24.1493 12.361Z\" fill=\"currentColor\"/>\n  <path d=\"M16.4918 16.915C16.8584 16.937 17.0418 17.102 17.0418 17.41C17.0418 17.586 16.9684 17.7217 16.8218 17.817C16.6824 17.905 16.4808 17.9417 16.2168 17.927L15.9198 17.905C14.6878 17.817 14.0718 17.157 14.0718 15.925V13.527H13.5218C13.3238 13.527 13.1698 13.483 13.0598 13.395C12.9571 13.307 12.9058 13.1787 12.9058 13.01C12.9058 12.8413 12.9571 12.713 13.0598 12.625C13.1698 12.537 13.3238 12.493 13.5218 12.493H14.0718V11.481C14.0718 11.283 14.1341 11.1253 14.2588 11.008C14.3834 10.8907 14.5521 10.832 14.7648 10.832C14.9701 10.832 15.1351 10.8907 15.2598 11.008C15.3844 11.1253 15.4468 11.283 15.4468 11.481V12.493H16.3818C16.5798 12.493 16.7301 12.537 16.8328 12.625C16.9428 12.713 16.9978 12.8413 16.9978 13.01C16.9978 13.1787 16.9428 13.307 16.8328 13.395C16.7301 13.483 16.5798 13.527 16.3818 13.527H15.4468V16.024C15.4468 16.5667 15.6961 16.8563 16.1948 16.893L16.4918 16.915Z\" fill=\"currentColor\"/>\n  <path d=\"M10.4092 12.361C11.6705 12.361 12.3012 13.098 12.3012 14.572V17.278C12.3012 17.4833 12.2389 17.6447 12.1142 17.762C11.9969 17.8793 11.8319 17.938 11.6192 17.938C11.4065 17.938 11.2379 17.8793 11.1132 17.762C10.9885 17.6447 10.9262 17.4833 10.9262 17.278V14.572C10.9262 14.1833 10.8455 13.901 10.6842 13.725C10.5302 13.5417 10.2845 13.45 9.94718 13.45C9.55118 13.45 9.23218 13.5747 8.99018 13.824C8.75552 14.0733 8.63818 14.407 8.63818 14.825V17.278C8.63818 17.4833 8.57585 17.6447 8.45118 17.762C8.32652 17.8793 8.15785 17.938 7.94518 17.938C7.73252 17.938 7.56385 17.8793 7.43918 17.762C7.32185 17.6447 7.26318 17.4833 7.26318 17.278V10.7C7.26318 10.5093 7.32552 10.3553 7.45018 10.238C7.58218 10.1207 7.75085 10.062 7.95618 10.062C8.16152 10.062 8.32652 10.117 8.45118 10.227C8.57585 10.337 8.63818 10.4873 8.63818 10.678V13.241C8.82152 12.955 9.06352 12.7387 9.36418 12.592C9.67218 12.438 10.0205 12.361 10.4092 12.361Z\" fill=\"currentColor\"/>\n  <rect x=\"0.5\" y=\"0.5\" width=\"24\" height=\"24\" rx=\"5.5\"/>\n<\/svg>\n<input name=\"message[enable_html]\" type=\"hidden\" value=\"0\" autocomplete=\"off\" /><input class=\"opacity-0\" type=\"checkbox\" value=\"1\" name=\"message[enable_html]\" id=\"message_enable_html\" /><div class=\"dt-tooltip__description--bottom\" style=\"transform: translateX(20%); max-width: 380px;\"><span>HTML разметка в телеграм<\/span><br /><span>&lt;a href=&quot;https://google.com&quot;&gt;ссылка&lt;/a&gt; - вшивает ссылку в слово<\/span><br /><span>&lt;u&gt;underlined&lt;/u&gt; - подчеркнутый шрифт<\/span><br /><span>&lt;ins&gt;underlined&lt;/ins&gt; - подчеркнутый шрифт<\/span><br /><span>&lt;em&gt;italic&lt;/em&gt; - курсивный шрифт<\/span><br /><span>&lt;i&gt;italic&lt;/i&gt; - курсив шрифт<\/span><br /><span>&lt;strong&gt;strong&lt;/strong&gt; - жирный шрифт<\/span><br /><span>&lt;strike&gt;strikethrough&lt;/strike&gt; - зачеркнутый шрифт<\/span><br /><span>&lt;del&gt;strikethrough&lt;/del&gt; - зачеркнутый шрифт<\/span><br /><span>&lt;tg-spoiler&gt;spoiler&lt;/tg-spoiler&gt; - скрытый шрифт<\/span><br /><span>&lt;blockquote&gt;текст&lt;/blockquote&gt; - цитаты<\/span><br /><span>&lt;code&gt;Preformatted&lt;/code&gt; - форматированный шрифт<\/span><br /><span>&lt;pre&gt;Preformatted&lt;/pre&gt; - форматированный шрифт<\/span><\/div><\/label><label class=\"actions-toggles__item_protected_content btn-outline-grey-square--s dt-tooltip dt-tooltip__dark mr-4\" for=\"message_protected_content\" style=\"\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/lock/i24\">\n<path id=\"Union\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M12 4.75C10.3318 4.75 9.03571 6.03675 9.03571 7.55556V9.47222H14.9643V7.55556C14.9643 6.03675 13.6682 4.75 12 4.75ZM16.4643 9.47222V7.55556C16.4643 5.14725 14.4342 3.25 12 3.25C9.56578 3.25 7.53571 5.14725 7.53571 7.55556V9.47222H7.35714C5.94807 9.47222 4.75 10.573 4.75 12V18.2222C4.75 19.6492 5.94807 20.75 7.35714 20.75H16.6429C18.0519 20.75 19.25 19.6492 19.25 18.2222V12C19.25 10.573 18.0519 9.47222 16.6429 9.47222H16.4643ZM7.35714 10.9722C6.71408 10.9722 6.25 11.4625 6.25 12V18.2222C6.25 18.7597 6.71408 19.25 7.35714 19.25H16.6429C17.2859 19.25 17.75 18.7597 17.75 18.2222V12C17.75 11.4625 17.2859 10.9722 16.6429 10.9722H7.35714ZM12 13.0278C12.4142 13.0278 12.75 13.3636 12.75 13.7778V16.4444C12.75 16.8587 12.4142 17.1944 12 17.1944C11.5858 17.1944 11.25 16.8587 11.25 16.4444V13.7778C11.25 13.3636 11.5858 13.0278 12 13.0278Z\" fill=\"currentColor\"/>\n<\/g>\n<\/svg>\n<input name=\"message[protected_content]\" type=\"hidden\" value=\"0\" autocomplete=\"off\" /><input class=\"opacity-0\" type=\"checkbox\" value=\"1\" name=\"message[protected_content]\" id=\"message_protected_content\" /><div class=\"dt-tooltip__description--top\"><span>Защитить контент<\/span><\/div><\/label><label class=\"actions-toggles__item_disable_notification btn-outline-grey-square--s dt-tooltip dt-tooltip__dark mr-4\" for=\"message_disable_notification\" style=\"\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/sound mute/i24\">\n<g id=\"Union\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M14.0127 3.77355C15.1746 4.41556 15.75 5.76891 15.75 7.41V8.37C15.75 8.78421 15.4142 9.12 15 9.12C14.5858 9.12 14.25 8.78421 14.25 8.37V7.41C14.25 6.07109 13.7904 5.36444 13.2873 5.08645C12.7838 4.80826 11.9406 4.79558 10.8084 5.50543L7.88828 7.33551L7.8729 7.34489C7.44733 7.59758 6.94625 7.75 6.43 7.75H5C4.11561 7.75 3.59007 7.97059 3.28033 8.28033C2.97059 8.59007 2.75 9.11561 2.75 10V14C2.75 14.8844 2.97059 15.4099 3.28033 15.7197C3.59007 16.0294 4.11561 16.25 5 16.25H7C7.41421 16.25 7.75 16.5858 7.75 17C7.75 17.4142 7.41421 17.75 7 17.75H5C3.88439 17.75 2.90993 17.4706 2.21967 16.7803C1.52941 16.0901 1.25 15.1156 1.25 14V10C1.25 8.88439 1.52941 7.90993 2.21967 7.21967C2.90993 6.52941 3.88439 6.25 5 6.25H6.43C6.65133 6.25 6.88751 6.18388 7.10014 6.05921L10.0116 4.23457C10.0116 4.23459 10.0116 4.23454 10.0116 4.23457C11.3994 3.36448 12.8512 3.13176 14.0127 3.77355Z\" fill=\"currentColor\"/>\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M15 12.2C15.4142 12.2 15.75 12.5358 15.75 12.95V16.59C15.75 18.2271 15.1741 19.5793 14.0135 20.2223C12.8525 20.8655 11.4006 20.6363 10.0116 19.7654C9.66066 19.5454 9.55453 19.0825 9.77457 18.7316C9.9946 18.3807 10.4575 18.2745 10.8084 18.4946C11.9394 19.2037 12.7825 19.1895 13.2865 18.9102C13.7909 18.6307 14.25 17.9229 14.25 16.59V12.95C14.25 12.5358 14.5858 12.2 15 12.2Z\" fill=\"currentColor\"/>\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M18.5204 8.72817C18.9025 8.56823 19.3419 8.74831 19.5018 9.1304C20.5022 11.5201 20.2032 14.3124 18.6 16.45C18.3515 16.7814 17.8814 16.8485 17.55 16.6C17.2186 16.3515 17.1515 15.8814 17.4 15.55C18.6768 13.8476 18.9178 11.6199 18.1182 9.7096C17.9582 9.32752 18.1383 8.88811 18.5204 8.72817Z\" fill=\"currentColor\"/>\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M20.8589 7.10881C21.2406 6.94802 21.6804 7.12714 21.8412 7.50887C23.4129 11.2403 22.9428 15.6032 20.4298 18.9503C20.1811 19.2815 19.7109 19.3485 19.3797 19.0998C19.0485 18.8511 18.9815 18.3809 19.2302 18.0497C21.4172 15.1368 21.8271 11.3397 20.4588 8.09113C20.298 7.7094 20.4771 7.2696 20.8589 7.10881Z\" fill=\"currentColor\"/>\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M22.5303 1.46967C22.8232 1.76256 22.8232 2.23744 22.5303 2.53033L2.53033 22.5303C2.23744 22.8232 1.76256 22.8232 1.46967 22.5303C1.17678 22.2374 1.17678 21.7626 1.46967 21.4697L21.4697 1.46967C21.7626 1.17678 22.2374 1.17678 22.5303 1.46967Z\" fill=\"currentColor\"/>\n<\/g>\n<\/g>\n<\/svg>\n<input name=\"message[disable_notification]\" type=\"hidden\" value=\"0\" autocomplete=\"off\" /><input class=\"opacity-0\" type=\"checkbox\" value=\"1\" name=\"message[disable_notification]\" id=\"message_disable_notification\" /><div class=\"dt-tooltip__description--top\"><span>Отправить без звука<\/span><\/div><\/label><label class=\"actions-toggles__item_callback_if_seen btn-outline-grey-square--s dt-tooltip dt-tooltip__dark mr-4\" for=\"message_callback_if_seen\" style=\"\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/check double/i24\">\n<path id=\"Union\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M16.0124 6.45033C16.3159 6.73213 16.3336 7.20667 16.0518 7.51025L12.4878 11.3496C12.206 11.6532 11.7315 11.6709 11.4279 11.3891C11.1243 11.1073 11.1067 10.6327 11.3885 10.3291L14.9524 6.48975C15.2342 6.18618 15.7088 6.16852 16.0124 6.45033ZM22.5103 6.45033C22.8138 6.73213 22.8315 7.20667 22.5497 7.51025L13.267 17.5103C13.1251 17.6631 12.9259 17.75 12.7173 17.75C12.5087 17.75 12.3095 17.6631 12.1676 17.5103L7.94822 12.9648C7.66641 12.6612 7.68407 12.1867 7.98764 11.9049C8.29122 11.6231 8.76577 11.6407 9.04757 11.9443L12.7173 15.8976L21.4503 6.48975C21.7321 6.18618 22.2067 6.16852 22.5103 6.45033ZM1.48975 11.9049C1.79333 11.6231 2.26788 11.6407 2.54968 11.9443L6.21941 15.8976L6.54405 15.5479C6.82585 15.2443 7.3004 15.2266 7.60397 15.5085C7.90755 15.7903 7.9252 16.2648 7.6434 16.5684L6.76909 17.5103C6.62718 17.6631 6.42801 17.75 6.21941 17.75C6.01082 17.75 5.81165 17.6631 5.66973 17.5103L1.45033 12.9648C1.16852 12.6612 1.18618 12.1867 1.48975 11.9049Z\" fill=\"currentColor\"/>\n<\/g>\n<\/svg>\n<input name=\"message[callback_if_seen]\" type=\"hidden\" value=\"0\" autocomplete=\"off\" /><input class=\"opacity-0\" type=\"checkbox\" value=\"1\" name=\"message[callback_if_seen]\" id=\"message_callback_if_seen\" /><div class=\"dt-tooltip__description--top\" style=\"transform: translateX(30%);\"><span>Callback о просмотре (только VK и email)<\/span><\/div><\/label><label class=\"actions-toggles__item_message_save_to_log btn-outline-grey-square--s dt-tooltip dt-tooltip__dark\" for=\"message_save_to_log\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/dialog/i24\">\n<path id=\"Union\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M3.24951 6.66681C3.24951 4.77976 4.77927 3.25 6.66632 3.25H17.3336C19.2206 3.25 20.7504 4.77976 20.7504 6.66681V14.6673C20.7504 16.5543 19.2206 18.0841 17.3336 18.0841H12.7137L9.72208 20.4773C9.34857 20.7761 8.83684 20.8344 8.40572 20.6272C7.9746 20.42 7.70042 19.984 7.70042 19.5057V18.0841H6.66632C4.77927 18.0841 3.24951 16.5543 3.24951 14.6673V6.66681ZM6.66632 4.75C5.6077 4.75 4.74951 5.60819 4.74951 6.66681V14.6673C4.74951 15.7259 5.6077 16.5841 6.66632 16.5841H8.45042C8.86464 16.5841 9.20042 16.9199 9.20042 17.3341V18.9737L11.9821 16.7484C12.1151 16.642 12.2803 16.5841 12.4506 16.5841H17.3336C18.3922 16.5841 19.2504 15.7259 19.2504 14.6673V6.66681C19.2504 5.60819 18.3922 4.75 17.3336 4.75H6.66632ZM7.6942 8.88916C7.6942 8.47494 8.02999 8.13916 8.4442 8.13916H15.5557C15.9699 8.13916 16.3057 8.47494 16.3057 8.88916C16.3057 9.30337 15.9699 9.63916 15.5557 9.63916H8.4442C8.02999 9.63916 7.6942 9.30337 7.6942 8.88916ZM7.6942 12.4449C7.6942 12.0307 8.02999 11.6949 8.4442 11.6949H13.7778C14.192 11.6949 14.5278 12.0307 14.5278 12.4449C14.5278 12.8591 14.192 13.1949 13.7778 13.1949H8.4442C8.02999 13.1949 7.6942 12.8591 7.6942 12.4449Z\" fill=\"currentColor\"/>\n<\/g>\n<\/svg>\n<input name=\"message[save_to_log]\" type=\"hidden\" value=\"0\" autocomplete=\"off\" /><input class=\"opacity-0\" type=\"checkbox\" value=\"1\" checked=\"checked\" name=\"message[save_to_log]\" id=\"message_save_to_log\" /><div class=\"dt-tooltip__description--top\" style=\"transform: translateX(30%);\"><span>Сохранить сообщение в истории переписки с клиентом<\/span><\/div><\/label><\/div><\/div><div class=\"part_new\" id=\"settings_part\" style=\"display: none\"><div class=\"label-wrapper\"><div class=\"new_label\">Тип запроса<\/div><div class=\"dt-tooltip dt-tooltip__dark\"><div class=\"dt-tooltip__icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/help square/i16\">\n<g id=\"Union\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5.62961 3.26665C4.32458 3.26665 3.26665 4.32458 3.26665 5.62961V10.3704C3.26665 11.6754 4.32458 12.7333 5.62961 12.7333H10.3704C11.6754 12.7333 12.7333 11.6754 12.7333 10.3704V5.62961C12.7333 4.32458 11.6754 3.26665 10.3704 3.26665H5.62961ZM2.06665 5.62961C2.06665 3.66184 3.66184 2.06665 5.62961 2.06665H10.3704C12.3381 2.06665 13.9333 3.66184 13.9333 5.62961V10.3704C13.9333 12.3381 12.3381 13.9333 10.3704 13.9333H5.62961C3.66184 13.9333 2.06665 12.3381 2.06665 10.3704V5.62961ZM7.98457 5.02915C9.04817 4.98576 9.95472 5.80067 10.0211 6.86664C10.0219 6.87906 10.0223 6.89149 10.0223 6.90393C10.0223 7.57076 9.66073 8.18517 9.07781 8.50898L8.29144 8.94587C8.00177 9.10681 7.63648 9.00245 7.47555 8.71278C7.31462 8.42311 7.41898 8.05783 7.70865 7.89689L8.49502 7.46C8.69164 7.35079 8.8156 7.14612 8.822 6.92219C8.78649 6.51417 8.43308 6.20595 8.02186 6.22872C8.00253 6.22979 7.98315 6.22992 7.96381 6.22912C7.5847 6.21338 7.24805 6.46965 7.16229 6.83927C7.0874 7.16206 6.765 7.36302 6.44221 7.28813C6.11941 7.21323 5.91845 6.89084 5.99335 6.56804C6.20731 5.64586 7.0409 5.0036 7.98457 5.02915Z\" fill=\"currentColor\"/>\n<path d=\"M8.65952 10.3121C8.65975 10.1369 8.59028 9.96889 8.46642 9.84504C8.34258 9.72119 8.17454 9.65171 7.99938 9.65194C7.63549 9.65241 7.3408 9.94762 7.34096 10.3115C7.34111 10.6754 7.63607 10.9703 7.99995 10.9705C8.36384 10.9707 8.65905 10.676 8.65952 10.3121Z\" fill=\"currentColor\"/>\n<\/g>\n<\/g>\n<\/svg>\n<\/div><div class=\"dt-tooltip__description--bottom\" style=\"transform: translateX(-40%);\"><span>Тип передачи параметров. Нужен для работы со сторонним API<\/span><\/div><\/div><\/div><div class=\"main-select\"><div class=\"input-field col select optional message_request_type s12\"><select class=\"select optional\" name=\"message[request_type]\" id=\"message_request_type\"><option value=\"\">Тип запроса<\/option>\n<option value=\"0\">GET<\/option>\n<option value=\"1\">POST-data<\/option>\n<option value=\"2\">POST-json<\/option>\n<option value=\"3\">PATCH-json<\/option>\n<option value=\"4\">PUT-json<\/option>\n<option value=\"5\">DELETE-json<\/option><\/select><\/div><\/div><div id=\"url_part\" style=\"display: none\"><div class=\"label-wrapper mt-8\"><div class=\"new_label\">URL запроса<\/div><div class=\"dt-tooltip dt-tooltip__dark\"><div class=\"dt-tooltip__icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/help square/i16\">\n<g id=\"Union\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5.62961 3.26665C4.32458 3.26665 3.26665 4.32458 3.26665 5.62961V10.3704C3.26665 11.6754 4.32458 12.7333 5.62961 12.7333H10.3704C11.6754 12.7333 12.7333 11.6754 12.7333 10.3704V5.62961C12.7333 4.32458 11.6754 3.26665 10.3704 3.26665H5.62961ZM2.06665 5.62961C2.06665 3.66184 3.66184 2.06665 5.62961 2.06665H10.3704C12.3381 2.06665 13.9333 3.66184 13.9333 5.62961V10.3704C13.9333 12.3381 12.3381 13.9333 10.3704 13.9333H5.62961C3.66184 13.9333 2.06665 12.3381 2.06665 10.3704V5.62961ZM7.98457 5.02915C9.04817 4.98576 9.95472 5.80067 10.0211 6.86664C10.0219 6.87906 10.0223 6.89149 10.0223 6.90393C10.0223 7.57076 9.66073 8.18517 9.07781 8.50898L8.29144 8.94587C8.00177 9.10681 7.63648 9.00245 7.47555 8.71278C7.31462 8.42311 7.41898 8.05783 7.70865 7.89689L8.49502 7.46C8.69164 7.35079 8.8156 7.14612 8.822 6.92219C8.78649 6.51417 8.43308 6.20595 8.02186 6.22872C8.00253 6.22979 7.98315 6.22992 7.96381 6.22912C7.5847 6.21338 7.24805 6.46965 7.16229 6.83927C7.0874 7.16206 6.765 7.36302 6.44221 7.28813C6.11941 7.21323 5.91845 6.89084 5.99335 6.56804C6.20731 5.64586 7.0409 5.0036 7.98457 5.02915Z\" fill=\"currentColor\"/>\n<path d=\"M8.65952 10.3121C8.65975 10.1369 8.59028 9.96889 8.46642 9.84504C8.34258 9.72119 8.17454 9.65171 7.99938 9.65194C7.63549 9.65241 7.3408 9.94762 7.34096 10.3115C7.34111 10.6754 7.63607 10.9703 7.99995 10.9705C8.36384 10.9707 8.65905 10.676 8.65952 10.3121Z\" fill=\"currentColor\"/>\n<\/g>\n<\/g>\n<\/svg>\n<\/div><div class=\"dt-tooltip__description--bottom\" style=\"transform: translateX(-40%);\"><span>Указываете необходимый URL запроса<\/span><\/div><\/div><\/div><div class=\"input-field col string optional message_action_url s12\"><input placeholder=\"URL запроса\" class=\"string optional\" type=\"text\" name=\"message[action_url]\" id=\"message_action_url\" /><\/div><div class=\"label-wrapper\"><div class=\"new_label\">Сохраняемые значения<\/div><div class=\"dt-tooltip dt-tooltip__dark\"><div class=\"dt-tooltip__icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/help square/i16\">\n<g id=\"Union\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5.62961 3.26665C4.32458 3.26665 3.26665 4.32458 3.26665 5.62961V10.3704C3.26665 11.6754 4.32458 12.7333 5.62961 12.7333H10.3704C11.6754 12.7333 12.7333 11.6754 12.7333 10.3704V5.62961C12.7333 4.32458 11.6754 3.26665 10.3704 3.26665H5.62961ZM2.06665 5.62961C2.06665 3.66184 3.66184 2.06665 5.62961 2.06665H10.3704C12.3381 2.06665 13.9333 3.66184 13.9333 5.62961V10.3704C13.9333 12.3381 12.3381 13.9333 10.3704 13.9333H5.62961C3.66184 13.9333 2.06665 12.3381 2.06665 10.3704V5.62961ZM7.98457 5.02915C9.04817 4.98576 9.95472 5.80067 10.0211 6.86664C10.0219 6.87906 10.0223 6.89149 10.0223 6.90393C10.0223 7.57076 9.66073 8.18517 9.07781 8.50898L8.29144 8.94587C8.00177 9.10681 7.63648 9.00245 7.47555 8.71278C7.31462 8.42311 7.41898 8.05783 7.70865 7.89689L8.49502 7.46C8.69164 7.35079 8.8156 7.14612 8.822 6.92219C8.78649 6.51417 8.43308 6.20595 8.02186 6.22872C8.00253 6.22979 7.98315 6.22992 7.96381 6.22912C7.5847 6.21338 7.24805 6.46965 7.16229 6.83927C7.0874 7.16206 6.765 7.36302 6.44221 7.28813C6.11941 7.21323 5.91845 6.89084 5.99335 6.56804C6.20731 5.64586 7.0409 5.0036 7.98457 5.02915Z\" fill=\"currentColor\"/>\n<path d=\"M8.65952 10.3121C8.65975 10.1369 8.59028 9.96889 8.46642 9.84504C8.34258 9.72119 8.17454 9.65171 7.99938 9.65194C7.63549 9.65241 7.3408 9.94762 7.34096 10.3115C7.34111 10.6754 7.63607 10.9703 7.99995 10.9705C8.36384 10.9707 8.65905 10.676 8.65952 10.3121Z\" fill=\"currentColor\"/>\n<\/g>\n<\/g>\n<\/svg>\n<\/div><div class=\"dt-tooltip__description--bottom\" style=\"transform: translateX(-65%);\"><span>Здесь указываете #{custom_answer}, которые вам нужно сохранить в переменные. Например, country -&gt; strana<\/span><\/div><\/div><\/div><div class=\"input-field col text optional message_saved_variables s12\"><textarea placeholder=\"Сохраняемые значения из JSON-ответа\" class=\"text optional answer_textarea materialize-textarea\" name=\"message[saved_variables]\" id=\"message_saved_variables\">\n<\/textarea><\/div><div class=\"label-wrapper\"><div class=\"new_label\">Заголовок запроса<\/div><div class=\"dt-tooltip dt-tooltip__dark\"><div class=\"dt-tooltip__icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/help square/i16\">\n<g id=\"Union\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5.62961 3.26665C4.32458 3.26665 3.26665 4.32458 3.26665 5.62961V10.3704C3.26665 11.6754 4.32458 12.7333 5.62961 12.7333H10.3704C11.6754 12.7333 12.7333 11.6754 12.7333 10.3704V5.62961C12.7333 4.32458 11.6754 3.26665 10.3704 3.26665H5.62961ZM2.06665 5.62961C2.06665 3.66184 3.66184 2.06665 5.62961 2.06665H10.3704C12.3381 2.06665 13.9333 3.66184 13.9333 5.62961V10.3704C13.9333 12.3381 12.3381 13.9333 10.3704 13.9333H5.62961C3.66184 13.9333 2.06665 12.3381 2.06665 10.3704V5.62961ZM7.98457 5.02915C9.04817 4.98576 9.95472 5.80067 10.0211 6.86664C10.0219 6.87906 10.0223 6.89149 10.0223 6.90393C10.0223 7.57076 9.66073 8.18517 9.07781 8.50898L8.29144 8.94587C8.00177 9.10681 7.63648 9.00245 7.47555 8.71278C7.31462 8.42311 7.41898 8.05783 7.70865 7.89689L8.49502 7.46C8.69164 7.35079 8.8156 7.14612 8.822 6.92219C8.78649 6.51417 8.43308 6.20595 8.02186 6.22872C8.00253 6.22979 7.98315 6.22992 7.96381 6.22912C7.5847 6.21338 7.24805 6.46965 7.16229 6.83927C7.0874 7.16206 6.765 7.36302 6.44221 7.28813C6.11941 7.21323 5.91845 6.89084 5.99335 6.56804C6.20731 5.64586 7.0409 5.0036 7.98457 5.02915Z\" fill=\"currentColor\"/>\n<path d=\"M8.65952 10.3121C8.65975 10.1369 8.59028 9.96889 8.46642 9.84504C8.34258 9.72119 8.17454 9.65171 7.99938 9.65194C7.63549 9.65241 7.3408 9.94762 7.34096 10.3115C7.34111 10.6754 7.63607 10.9703 7.99995 10.9705C8.36384 10.9707 8.65905 10.676 8.65952 10.3121Z\" fill=\"currentColor\"/>\n<\/g>\n<\/g>\n<\/svg>\n<\/div><div class=\"dt-tooltip__description--bottom\" style=\"transform: translateX(-55%);\"><span>Заполняется по необходимости. Чаще всего пишется формат передаваемых данных и ключи доступа<\/span><\/div><\/div><\/div><div class=\"input-field col hidden message_headers s12\"><input placeholder=\"JSON заголовка запроса\" class=\"hidden answer_textarea materialize-textarea\" autocomplete=\"off\" type=\"hidden\" name=\"message[headers]\" id=\"message_headers\" /><\/div><textarea class=\"materialize-textarea\" id=\"headers\"><\/textarea><div class=\"label-wrapper mt-8\"><div class=\"new_label\">JSON параметры<\/div><div class=\"dt-tooltip dt-tooltip__dark\"><div class=\"dt-tooltip__icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/help square/i16\">\n<g id=\"Union\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5.62961 3.26665C4.32458 3.26665 3.26665 4.32458 3.26665 5.62961V10.3704C3.26665 11.6754 4.32458 12.7333 5.62961 12.7333H10.3704C11.6754 12.7333 12.7333 11.6754 12.7333 10.3704V5.62961C12.7333 4.32458 11.6754 3.26665 10.3704 3.26665H5.62961ZM2.06665 5.62961C2.06665 3.66184 3.66184 2.06665 5.62961 2.06665H10.3704C12.3381 2.06665 13.9333 3.66184 13.9333 5.62961V10.3704C13.9333 12.3381 12.3381 13.9333 10.3704 13.9333H5.62961C3.66184 13.9333 2.06665 12.3381 2.06665 10.3704V5.62961ZM7.98457 5.02915C9.04817 4.98576 9.95472 5.80067 10.0211 6.86664C10.0219 6.87906 10.0223 6.89149 10.0223 6.90393C10.0223 7.57076 9.66073 8.18517 9.07781 8.50898L8.29144 8.94587C8.00177 9.10681 7.63648 9.00245 7.47555 8.71278C7.31462 8.42311 7.41898 8.05783 7.70865 7.89689L8.49502 7.46C8.69164 7.35079 8.8156 7.14612 8.822 6.92219C8.78649 6.51417 8.43308 6.20595 8.02186 6.22872C8.00253 6.22979 7.98315 6.22992 7.96381 6.22912C7.5847 6.21338 7.24805 6.46965 7.16229 6.83927C7.0874 7.16206 6.765 7.36302 6.44221 7.28813C6.11941 7.21323 5.91845 6.89084 5.99335 6.56804C6.20731 5.64586 7.0409 5.0036 7.98457 5.02915Z\" fill=\"currentColor\"/>\n<path d=\"M8.65952 10.3121C8.65975 10.1369 8.59028 9.96889 8.46642 9.84504C8.34258 9.72119 8.17454 9.65171 7.99938 9.65194C7.63549 9.65241 7.3408 9.94762 7.34096 10.3115C7.34111 10.6754 7.63607 10.9703 7.99995 10.9705C8.36384 10.9707 8.65905 10.676 8.65952 10.3121Z\" fill=\"currentColor\"/>\n<\/g>\n<\/g>\n<\/svg>\n<\/div><div class=\"dt-tooltip__description--bottom\" style=\"transform: translateX(-50%);\"><span>Сюда записываются параметры для передачи данных в формате JSON<\/span><\/div><\/div><\/div><div class=\"input-field col hidden message_post_params s12\"><input placeholder=\"JSON POST-параметров\" class=\"hidden answer_textarea materialize-textarea\" autocomplete=\"off\" type=\"hidden\" name=\"message[post_params]\" id=\"message_post_params\" /><\/div><textarea class=\"materialize-textarea\" id=\"post_params\"><\/textarea><\/div><\/div><div class=\"part_new\" id=\"calculator_part\" style=\"display: none\"><div class=\"label-wrapper\"><div class=\"new_label\">Калькулятор<\/div><div class=\"dt-tooltip dt-tooltip__dark\"><div class=\"dt-tooltip__icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/help square/i16\">\n<g id=\"Union\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5.62961 3.26665C4.32458 3.26665 3.26665 4.32458 3.26665 5.62961V10.3704C3.26665 11.6754 4.32458 12.7333 5.62961 12.7333H10.3704C11.6754 12.7333 12.7333 11.6754 12.7333 10.3704V5.62961C12.7333 4.32458 11.6754 3.26665 10.3704 3.26665H5.62961ZM2.06665 5.62961C2.06665 3.66184 3.66184 2.06665 5.62961 2.06665H10.3704C12.3381 2.06665 13.9333 3.66184 13.9333 5.62961V10.3704C13.9333 12.3381 12.3381 13.9333 10.3704 13.9333H5.62961C3.66184 13.9333 2.06665 12.3381 2.06665 10.3704V5.62961ZM7.98457 5.02915C9.04817 4.98576 9.95472 5.80067 10.0211 6.86664C10.0219 6.87906 10.0223 6.89149 10.0223 6.90393C10.0223 7.57076 9.66073 8.18517 9.07781 8.50898L8.29144 8.94587C8.00177 9.10681 7.63648 9.00245 7.47555 8.71278C7.31462 8.42311 7.41898 8.05783 7.70865 7.89689L8.49502 7.46C8.69164 7.35079 8.8156 7.14612 8.822 6.92219C8.78649 6.51417 8.43308 6.20595 8.02186 6.22872C8.00253 6.22979 7.98315 6.22992 7.96381 6.22912C7.5847 6.21338 7.24805 6.46965 7.16229 6.83927C7.0874 7.16206 6.765 7.36302 6.44221 7.28813C6.11941 7.21323 5.91845 6.89084 5.99335 6.56804C6.20731 5.64586 7.0409 5.0036 7.98457 5.02915Z\" fill=\"currentColor\"/>\n<path d=\"M8.65952 10.3121C8.65975 10.1369 8.59028 9.96889 8.46642 9.84504C8.34258 9.72119 8.17454 9.65171 7.99938 9.65194C7.63549 9.65241 7.3408 9.94762 7.34096 10.3115C7.34111 10.6754 7.63607 10.9703 7.99995 10.9705C8.36384 10.9707 8.65905 10.676 8.65952 10.3121Z\" fill=\"currentColor\"/>\n<\/g>\n<\/g>\n<\/svg>\n<\/div><div class=\"dt-tooltip__description--bottom\" style=\"transform: translateX(-40%);\"><span>При переходе в данный блок произойдет присвоение переменной или выполнение команд.<\/span><\/div><\/div><\/div><div class=\"input-field col hidden message_variables s12\"><input class=\"hidden\" autocomplete=\"off\" type=\"hidden\" name=\"message[variables]\" id=\"message_variables\" /><\/div><textarea class=\"materialize-textarea\" id=\"redactor_calculate\"><\/textarea><\/div><div class=\"part_new\" id=\"states_part\" style=\"display: none\"><div class=\"input-field col hidden message_list_action s12\"><input class=\"hidden\" autocomplete=\"off\" type=\"hidden\" name=\"message[list_action]\" id=\"message_list_action\" /><\/div><div class=\"input-field col hidden message_actions_settings s12\"><input class=\"hidden\" autocomplete=\"off\" type=\"hidden\" value=\"{}\" name=\"message[actions_settings]\" id=\"message_actions_settings\" /><\/div><div class=\"input-field col hidden message_state_id s12\"><input class=\"hidden\" autocomplete=\"off\" type=\"hidden\" name=\"message[state_id]\" id=\"message_state_id\" /><\/div><div class=\"input-field col hidden message_list_id s12\"><input class=\"hidden\" autocomplete=\"off\" type=\"hidden\" name=\"message[list_id]\" id=\"message_list_id\" /><\/div><div class=\"add_new_list_action btn-no-outline--m display-flex\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/plus/i24\">\n<path id=\"Union\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M12 5.25C12.4142 5.25 12.75 5.58579 12.75 6V11.25H18C18.4142 11.25 18.75 11.5858 18.75 12C18.75 12.4142 18.4142 12.75 18 12.75H12.75V18C12.75 18.4142 12.4142 18.75 12 18.75C11.5858 18.75 11.25 18.4142 11.25 18V12.75H6C5.58579 12.75 5.25 12.4142 5.25 12C5.25 11.5858 5.58579 11.25 6 11.25H11.25V6C11.25 5.58579 11.5858 5.25 12 5.25Z\" fill=\"currentColor\"/>\n<\/g>\n<\/svg>\n<span>Добавить действие<\/span><\/div><div class=\"write_code_on_python_form hidden\"><div class=\"modal_header\"><div class=\"modal_header_title\">Выполнить код на Python<\/div><div class=\"modal_header_close\"><\/div><div class=\"modal-close\"><div class=\"btn-ghost-grey-square--m\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M7.30298 7.30292C7.59588 7.01003 8.07075 7.01003 8.36364 7.30292L12 10.9393L15.6363 7.30292C15.9292 7.01003 16.4041 7.01003 16.697 7.30292C16.9899 7.59582 16.9899 8.07069 16.697 8.36358L13.0606 11.9999L16.697 15.6363C16.9899 15.9291 16.9899 16.404 16.697 16.6969C16.4041 16.9898 15.9292 16.9898 15.6363 16.6969L12 13.0606L8.36364 16.6969C8.07075 16.9898 7.59588 16.9898 7.30298 16.6969C7.01009 16.404 7.01009 15.9291 7.30298 15.6363L10.9393 11.9999L7.30298 8.36358C7.01009 8.07069 7.01009 7.59582 7.30298 7.30292Z\" fill=\"currentColor\"/>\n<\/svg>\n<\/div><\/div><\/div><div class=\"modal_body\"><div class=\"modal_form_box\"><div class=\"write_code_on_python mb-16\"><div id=\"python_code_textbox\"><\/div><\/div><div class=\"form-buttons\"><div class=\"btn-outline-white--m modal-close\">Отменить<\/div><div class=\"btn-solid-brand--m modal-close\" id=\"createPythonCodeFile\">Сохранить файл<\/div><\/div><\/div><\/div><\/div><\/div><div class=\"part_new\" id=\"buttons_part\" style=\"display: none\"><div class=\"part_new_title\">Кнопки<\/div><div class=\"if_show_buttons\"><div class=\"form_button_new\"><\/div><\/div><div class=\"form_button_type\"><div class=\"type-btns\"><div class=\"main-radio type-btns__btn\"><label class=\"reply_button_label\" id=\"reply\"><input class=\"with-gap overclock_work\" id=\"reply_button\" name=\"button_type\" type=\"radio\" /><span>Клавиатура<\/span><\/label><\/div><div class=\"main-radio type-btns__btn\"><label class=\"inline_button_label\" id=\"inline\"><input class=\"with-gap overclock_work\" id=\"inline_button\" name=\"button_type\" type=\"radio\" /><span>Кнопки в тексте<\/span><\/label><\/div><div class=\"main-radio type-btns__btn\"><label class=\"auto_button_label\" id=\"auto\"><input class=\"with-gap overclock_work\" id=\"auto_button\" name=\"button_type\" type=\"radio\" /><span>Автоматически<\/span><div class=\"label-help-icon\"><div class=\"label-help-description\">Выберите, чтобы кнопки выводились там, где Salebot решит это<\/div><\/div><\/label><\/div><\/div><\/div><div class=\"addition_settings_trigger\">Расширенные настройки<\/div><div class=\"addition_settings\"><div class=\"box-switch\"><div class=\"main-switch\"><p class=\"col switch boolean optional message_show_answers s12\"><label class=\"boolean optional\" for=\"message_show_answers\">Показать кнопки<\/label><label><input name=\"message[show_answers]\" type=\"hidden\" value=\"0\" autocomplete=\"off\" /><input class=\"boolean optional\" type=\"checkbox\" value=\"1\" checked=\"checked\" name=\"message[show_answers]\" id=\"message_show_answers\" /><span tag=\"span\" class=\"lever boolean optional\"><\/span><\/label><\/p><\/div><div class=\"main-switch\"><p class=\"col switch boolean optional message_show_connections_buttons s12\"><label class=\"boolean optional\" for=\"message_show_connections_buttons\">Показать стрелки как кнопки<\/label><label><input name=\"message[show_connections_buttons]\" type=\"hidden\" value=\"0\" autocomplete=\"off\" /><input class=\"boolean optional\" type=\"checkbox\" value=\"1\" checked=\"checked\" name=\"message[show_connections_buttons]\" id=\"message_show_connections_buttons\" /><span tag=\"span\" class=\"lever boolean optional\"><\/span><\/label><\/p><\/div><\/div><div class=\"label-wrapper mt-12\"><div class=\"new_label\">Подсказка в мессенджерах без кнопок<\/div><div class=\"dt-tooltip dt-tooltip__dark\"><div class=\"dt-tooltip__icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/help square/i16\">\n<g id=\"Union\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5.62961 3.26665C4.32458 3.26665 3.26665 4.32458 3.26665 5.62961V10.3704C3.26665 11.6754 4.32458 12.7333 5.62961 12.7333H10.3704C11.6754 12.7333 12.7333 11.6754 12.7333 10.3704V5.62961C12.7333 4.32458 11.6754 3.26665 10.3704 3.26665H5.62961ZM2.06665 5.62961C2.06665 3.66184 3.66184 2.06665 5.62961 2.06665H10.3704C12.3381 2.06665 13.9333 3.66184 13.9333 5.62961V10.3704C13.9333 12.3381 12.3381 13.9333 10.3704 13.9333H5.62961C3.66184 13.9333 2.06665 12.3381 2.06665 10.3704V5.62961ZM7.98457 5.02915C9.04817 4.98576 9.95472 5.80067 10.0211 6.86664C10.0219 6.87906 10.0223 6.89149 10.0223 6.90393C10.0223 7.57076 9.66073 8.18517 9.07781 8.50898L8.29144 8.94587C8.00177 9.10681 7.63648 9.00245 7.47555 8.71278C7.31462 8.42311 7.41898 8.05783 7.70865 7.89689L8.49502 7.46C8.69164 7.35079 8.8156 7.14612 8.822 6.92219C8.78649 6.51417 8.43308 6.20595 8.02186 6.22872C8.00253 6.22979 7.98315 6.22992 7.96381 6.22912C7.5847 6.21338 7.24805 6.46965 7.16229 6.83927C7.0874 7.16206 6.765 7.36302 6.44221 7.28813C6.11941 7.21323 5.91845 6.89084 5.99335 6.56804C6.20731 5.64586 7.0409 5.0036 7.98457 5.02915Z\" fill=\"currentColor\"/>\n<path d=\"M8.65952 10.3121C8.65975 10.1369 8.59028 9.96889 8.46642 9.84504C8.34258 9.72119 8.17454 9.65171 7.99938 9.65194C7.63549 9.65241 7.3408 9.94762 7.34096 10.3115C7.34111 10.6754 7.63607 10.9703 7.99995 10.9705C8.36384 10.9707 8.65905 10.676 8.65952 10.3121Z\" fill=\"currentColor\"/>\n<\/g>\n<\/g>\n<\/svg>\n<\/div><div class=\"dt-tooltip__description--bottom dt-tooltip__description--align-end\"><span>Текст из этого поля увидят пользователи мессенджеров, не поддерживающих кнопки<\/span><\/div><\/div><div class=\"dt-tooltip dt-tooltip__dark copy-help_wo_btns\"><div class=\"dt-tooltip__icon\"><svg width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"icon_24px/copy\">\n<path id=\"Vector\" d=\"M5.66667 12.3333H4.33333C3.59695 12.3333 3 11.7364 3 11V4.33333C3 3.59695 3.59695 3 4.33333 3H11C11.7364 3 12.3333 3.59695 12.3333 4.33333V5.66667M6.99945 15H13.6672C14.4033 15 15 14.4033 15 13.6672V6.99944C15 6.26337 14.4033 5.66667 13.6672 5.66667H6.99944C6.26337 5.66667 5.66667 6.26337 5.66667 6.99945V13.6672C5.66667 14.4033 6.26337 15 6.99945 15Z\" stroke=\"#95A3BA\" stroke-width=\"1.2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n<\/g>\n<\/svg>\n<\/div><div class=\"dt-tooltip__description--bottom dt-tooltip__description--align-end\"><span>Скопировать поле подсказки в мессенджерах без кнопок<\/span><\/div><\/div><\/div><div class=\"input-field col text optional message_hint s12\"><textarea placeholder=\"Подсказка в мессенджерах без кнопок\" class=\"text optional answer_textarea materialize-textarea\" name=\"message[hint]\" id=\"message_hint\">\n<\/textarea><\/div><div class=\"label-wrapper\"><div class=\"new_label\">Расширенные настройки кнопок<\/div><div class=\"dt-tooltip dt-tooltip__dark\"><div class=\"dt-tooltip__icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/help square/i16\">\n<g id=\"Union\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5.62961 3.26665C4.32458 3.26665 3.26665 4.32458 3.26665 5.62961V10.3704C3.26665 11.6754 4.32458 12.7333 5.62961 12.7333H10.3704C11.6754 12.7333 12.7333 11.6754 12.7333 10.3704V5.62961C12.7333 4.32458 11.6754 3.26665 10.3704 3.26665H5.62961ZM2.06665 5.62961C2.06665 3.66184 3.66184 2.06665 5.62961 2.06665H10.3704C12.3381 2.06665 13.9333 3.66184 13.9333 5.62961V10.3704C13.9333 12.3381 12.3381 13.9333 10.3704 13.9333H5.62961C3.66184 13.9333 2.06665 12.3381 2.06665 10.3704V5.62961ZM7.98457 5.02915C9.04817 4.98576 9.95472 5.80067 10.0211 6.86664C10.0219 6.87906 10.0223 6.89149 10.0223 6.90393C10.0223 7.57076 9.66073 8.18517 9.07781 8.50898L8.29144 8.94587C8.00177 9.10681 7.63648 9.00245 7.47555 8.71278C7.31462 8.42311 7.41898 8.05783 7.70865 7.89689L8.49502 7.46C8.69164 7.35079 8.8156 7.14612 8.822 6.92219C8.78649 6.51417 8.43308 6.20595 8.02186 6.22872C8.00253 6.22979 7.98315 6.22992 7.96381 6.22912C7.5847 6.21338 7.24805 6.46965 7.16229 6.83927C7.0874 7.16206 6.765 7.36302 6.44221 7.28813C6.11941 7.21323 5.91845 6.89084 5.99335 6.56804C6.20731 5.64586 7.0409 5.0036 7.98457 5.02915Z\" fill=\"currentColor\"/>\n<path d=\"M8.65952 10.3121C8.65975 10.1369 8.59028 9.96889 8.46642 9.84504C8.34258 9.72119 8.17454 9.65171 7.99938 9.65194C7.63549 9.65241 7.3408 9.94762 7.34096 10.3115C7.34111 10.6754 7.63607 10.9703 7.99995 10.9705C8.36384 10.9707 8.65905 10.676 8.65952 10.3121Z\" fill=\"currentColor\"/>\n<\/g>\n<\/g>\n<\/svg>\n<\/div><div class=\"dt-tooltip__description--bottom\" style=\"transform: translateX(-85%);\"><span>Используйте для расширенных настроек (указать ссылку, цвет кнопки и тд)<\/span><\/div><\/div><div class=\"dt-tooltip dt-tooltip__dark copy-pro_edits_btns\"><div class=\"dt-tooltip__icon\"><svg width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"icon_24px/copy\">\n<path id=\"Vector\" d=\"M5.66667 12.3333H4.33333C3.59695 12.3333 3 11.7364 3 11V4.33333C3 3.59695 3.59695 3 4.33333 3H11C11.7364 3 12.3333 3.59695 12.3333 4.33333V5.66667M6.99945 15H13.6672C14.4033 15 15 14.4033 15 13.6672V6.99944C15 6.26337 14.4033 5.66667 13.6672 5.66667H6.99944C6.26337 5.66667 5.66667 6.26337 5.66667 6.99945V13.6672C5.66667 14.4033 6.26337 15 6.99945 15Z\" stroke=\"#95A3BA\" stroke-width=\"1.2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n<\/g>\n<\/svg>\n<\/div><div class=\"dt-tooltip__description--bottom\" style=\"transform: translateX(-85%);\"><span>Скопировать поле расширенных настроек кнопок<\/span><\/div><\/div><\/div><div class=\"input-field col text optional message_buttons s12\"><textarea placeholder=\"Расширенные настройки кнопок\" class=\"text optional answer_textarea materialize-textarea\" name=\"message[buttons]\" id=\"message_buttons\">\n<\/textarea><\/div><div class=\"addition_settings_trigger_hidden\">Скрыть настройки<\/div><\/div><\/div><div class=\"part_new\" id=\"analytics_part\" style=\"display: none\"><div class=\"label-wrapper\"><div class=\"new_label\">Категория события<\/div><div class=\"dt-tooltip dt-tooltip__dark\"><div class=\"dt-tooltip__icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/help square/i16\">\n<g id=\"Union\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5.62961 3.26665C4.32458 3.26665 3.26665 4.32458 3.26665 5.62961V10.3704C3.26665 11.6754 4.32458 12.7333 5.62961 12.7333H10.3704C11.6754 12.7333 12.7333 11.6754 12.7333 10.3704V5.62961C12.7333 4.32458 11.6754 3.26665 10.3704 3.26665H5.62961ZM2.06665 5.62961C2.06665 3.66184 3.66184 2.06665 5.62961 2.06665H10.3704C12.3381 2.06665 13.9333 3.66184 13.9333 5.62961V10.3704C13.9333 12.3381 12.3381 13.9333 10.3704 13.9333H5.62961C3.66184 13.9333 2.06665 12.3381 2.06665 10.3704V5.62961ZM7.98457 5.02915C9.04817 4.98576 9.95472 5.80067 10.0211 6.86664C10.0219 6.87906 10.0223 6.89149 10.0223 6.90393C10.0223 7.57076 9.66073 8.18517 9.07781 8.50898L8.29144 8.94587C8.00177 9.10681 7.63648 9.00245 7.47555 8.71278C7.31462 8.42311 7.41898 8.05783 7.70865 7.89689L8.49502 7.46C8.69164 7.35079 8.8156 7.14612 8.822 6.92219C8.78649 6.51417 8.43308 6.20595 8.02186 6.22872C8.00253 6.22979 7.98315 6.22992 7.96381 6.22912C7.5847 6.21338 7.24805 6.46965 7.16229 6.83927C7.0874 7.16206 6.765 7.36302 6.44221 7.28813C6.11941 7.21323 5.91845 6.89084 5.99335 6.56804C6.20731 5.64586 7.0409 5.0036 7.98457 5.02915Z\" fill=\"currentColor\"/>\n<path d=\"M8.65952 10.3121C8.65975 10.1369 8.59028 9.96889 8.46642 9.84504C8.34258 9.72119 8.17454 9.65171 7.99938 9.65194C7.63549 9.65241 7.3408 9.94762 7.34096 10.3115C7.34111 10.6754 7.63607 10.9703 7.99995 10.9705C8.36384 10.9707 8.65905 10.676 8.65952 10.3121Z\" fill=\"currentColor\"/>\n<\/g>\n<\/g>\n<\/svg>\n<\/div><div class=\"dt-tooltip__description--bottom\" style=\"transform: translateX(-55%);\"><span>Название категории события аналитики<\/span><\/div><\/div><\/div><div class=\"input-field col string optional message_analytics_category s12\"><input placeholder=\"Название категории\" class=\"string optional\" type=\"text\" name=\"message[analytics_category]\" id=\"message_analytics_category\" /><\/div><div class=\"label-wrapper mt-8\"><div class=\"new_label\">Событие в аналитике<\/div><div class=\"new_label_star\"> *<\/div><div class=\"dt-tooltip dt-tooltip__dark\"><div class=\"dt-tooltip__icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/help square/i16\">\n<g id=\"Union\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5.62961 3.26665C4.32458 3.26665 3.26665 4.32458 3.26665 5.62961V10.3704C3.26665 11.6754 4.32458 12.7333 5.62961 12.7333H10.3704C11.6754 12.7333 12.7333 11.6754 12.7333 10.3704V5.62961C12.7333 4.32458 11.6754 3.26665 10.3704 3.26665H5.62961ZM2.06665 5.62961C2.06665 3.66184 3.66184 2.06665 5.62961 2.06665H10.3704C12.3381 2.06665 13.9333 3.66184 13.9333 5.62961V10.3704C13.9333 12.3381 12.3381 13.9333 10.3704 13.9333H5.62961C3.66184 13.9333 2.06665 12.3381 2.06665 10.3704V5.62961ZM7.98457 5.02915C9.04817 4.98576 9.95472 5.80067 10.0211 6.86664C10.0219 6.87906 10.0223 6.89149 10.0223 6.90393C10.0223 7.57076 9.66073 8.18517 9.07781 8.50898L8.29144 8.94587C8.00177 9.10681 7.63648 9.00245 7.47555 8.71278C7.31462 8.42311 7.41898 8.05783 7.70865 7.89689L8.49502 7.46C8.69164 7.35079 8.8156 7.14612 8.822 6.92219C8.78649 6.51417 8.43308 6.20595 8.02186 6.22872C8.00253 6.22979 7.98315 6.22992 7.96381 6.22912C7.5847 6.21338 7.24805 6.46965 7.16229 6.83927C7.0874 7.16206 6.765 7.36302 6.44221 7.28813C6.11941 7.21323 5.91845 6.89084 5.99335 6.56804C6.20731 5.64586 7.0409 5.0036 7.98457 5.02915Z\" fill=\"currentColor\"/>\n<path d=\"M8.65952 10.3121C8.65975 10.1369 8.59028 9.96889 8.46642 9.84504C8.34258 9.72119 8.17454 9.65171 7.99938 9.65194C7.63549 9.65241 7.3408 9.94762 7.34096 10.3115C7.34111 10.6754 7.63607 10.9703 7.99995 10.9705C8.36384 10.9707 8.65905 10.676 8.65952 10.3121Z\" fill=\"currentColor\"/>\n<\/g>\n<\/g>\n<\/svg>\n<\/div><div class=\"dt-tooltip__description--bottom\" style=\"transform: translateX(-65%);\"><span>Название события для отображеня в аналитике<\/span><\/div><\/div><\/div><div class=\"input-field col string optional message_analytics_name s12\"><input placeholder=\"Название события\" class=\"string optional\" type=\"text\" name=\"message[analytics_name]\" id=\"message_analytics_name\" /><\/div><div class=\"add_action add_action_analytics_variables mt-8\"><div class=\"add_action__text\">Присвоить значение<\/div><\/div><div class=\"analytics_value_input\"><div class=\"label-wrapper mt-8\"><div class=\"new_label\">Значение<\/div><div class=\"dt-tooltip dt-tooltip__dark\"><div class=\"dt-tooltip__icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/help square/i16\">\n<g id=\"Union\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5.62961 3.26665C4.32458 3.26665 3.26665 4.32458 3.26665 5.62961V10.3704C3.26665 11.6754 4.32458 12.7333 5.62961 12.7333H10.3704C11.6754 12.7333 12.7333 11.6754 12.7333 10.3704V5.62961C12.7333 4.32458 11.6754 3.26665 10.3704 3.26665H5.62961ZM2.06665 5.62961C2.06665 3.66184 3.66184 2.06665 5.62961 2.06665H10.3704C12.3381 2.06665 13.9333 3.66184 13.9333 5.62961V10.3704C13.9333 12.3381 12.3381 13.9333 10.3704 13.9333H5.62961C3.66184 13.9333 2.06665 12.3381 2.06665 10.3704V5.62961ZM7.98457 5.02915C9.04817 4.98576 9.95472 5.80067 10.0211 6.86664C10.0219 6.87906 10.0223 6.89149 10.0223 6.90393C10.0223 7.57076 9.66073 8.18517 9.07781 8.50898L8.29144 8.94587C8.00177 9.10681 7.63648 9.00245 7.47555 8.71278C7.31462 8.42311 7.41898 8.05783 7.70865 7.89689L8.49502 7.46C8.69164 7.35079 8.8156 7.14612 8.822 6.92219C8.78649 6.51417 8.43308 6.20595 8.02186 6.22872C8.00253 6.22979 7.98315 6.22992 7.96381 6.22912C7.5847 6.21338 7.24805 6.46965 7.16229 6.83927C7.0874 7.16206 6.765 7.36302 6.44221 7.28813C6.11941 7.21323 5.91845 6.89084 5.99335 6.56804C6.20731 5.64586 7.0409 5.0036 7.98457 5.02915Z\" fill=\"currentColor\"/>\n<path d=\"M8.65952 10.3121C8.65975 10.1369 8.59028 9.96889 8.46642 9.84504C8.34258 9.72119 8.17454 9.65171 7.99938 9.65194C7.63549 9.65241 7.3408 9.94762 7.34096 10.3115C7.34111 10.6754 7.63607 10.9703 7.99995 10.9705C8.36384 10.9707 8.65905 10.676 8.65952 10.3121Z\" fill=\"currentColor\"/>\n<\/g>\n<\/g>\n<\/svg>\n<\/div><div class=\"dt-tooltip__description--bottom\" style=\"transform: translateX(-35%);\"><span>Каждому событию можно настроить собственное значение, например: «Согласен купить» или «Мессенджер:Telegram»<\/span><\/div><\/div><\/div><div class=\"input-field col string optional message_analytics_value s12\"><input placeholder=\"Число или переменная клиента/сделки\" class=\"string optional\" type=\"text\" name=\"message[analytics_value]\" id=\"message_analytics_value\" /><\/div><\/div><\/div><div class=\"part_new\" id=\"attachment_part\" style=\"display: none\"><ul class=\"display-flex flex-wrap mb-8 gap-12\"><li class=\"attachment-list__btn--js btn-outline-white--m flex-grow\" data-type=\"link\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path d=\"M9.45 19.75C8.05 19.75 6.75 19.25 5.75 18.25C4.75 17.25 4.25 15.95 4.25 14.55C4.25 13.15 4.75 11.85 5.75 10.85L6.95 9.65C7.25 9.35 7.75 9.35 8.05 9.65C8.35 9.95 8.35 10.45 8.05 10.75L6.85 11.95C6.15 12.65 5.75 13.55 5.75 14.55C5.75 15.55 6.15 16.45 6.85 17.15C8.25 18.55 10.65 18.55 12.05 17.15L13.25 15.95C13.55 15.65 14.05 15.65 14.35 15.95C14.65 16.25 14.65 16.75 14.35 17.05L13.05 18.25C12.15 19.25 10.85 19.75 9.45 19.75ZM9.45 15.35C9.25 15.35 9.05 15.25 8.95 15.15C8.65 14.85 8.65 14.35 8.95 14.05L14.05 8.95C14.35 8.65 14.85 8.65 15.15 8.95C15.45 9.25 15.45 9.75 15.15 10.05L10.05 15.15C9.85 15.25 9.65 15.35 9.45 15.35ZM16.55 14.55C16.35 14.55 16.15 14.45 16.05 14.35C15.75 14.05 15.75 13.55 16.05 13.25L17.25 12.05C17.85 11.35 18.25 10.45 18.25 9.45C18.25 8.45 17.85 7.55 17.15 6.85C15.75 5.45 13.35 5.45 11.95 6.85L10.75 8.05C10.45 8.35 9.95 8.35 9.65 8.05C9.45 7.75 9.45 7.25 9.75 6.95L10.95 5.75C11.95 4.75 13.25 4.25 14.65 4.25C15.95 4.25 17.25 4.75 18.25 5.75C19.25 6.75 19.75 8.05 19.75 9.45C19.75 10.85 19.25 12.15 18.25 13.15L17.05 14.25C16.85 14.45 16.65 14.55 16.55 14.55Z\" fill=\"currentColor\"/>\n<\/svg>\n<\/li><li class=\"attachment-list__btn--js btn-outline-white--m flex-grow\" data-type=\"video\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/video/i24\">\n<path id=\"Union\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5.77778 4.75C5.20977 4.75 4.75 5.20977 4.75 5.77778V6.80556H6.80556V4.75H5.77778ZM5.77778 3.25C4.38134 3.25 3.25 4.38134 3.25 5.77778V18.2222C3.25 19.6187 4.38134 20.75 5.77778 20.75H18.2222C19.6187 20.75 20.75 19.6187 20.75 18.2222V5.77778C20.75 4.38134 19.6187 3.25 18.2222 3.25H5.77778ZM8.30556 4.75V11.25H15.6944V4.75H8.30556ZM17.1944 4.75V6.80556H19.25V5.77778C19.25 5.20977 18.7902 4.75 18.2222 4.75H17.1944ZM19.25 8.30556H17.1944V11.25H19.25V8.30556ZM19.25 12.75H17.1944V15.6944H19.25V12.75ZM19.25 17.1944H17.1944V19.25H18.2222C18.7902 19.25 19.25 18.7902 19.25 18.2222V17.1944ZM15.6944 19.25V12.75H8.30556V19.25H15.6944ZM6.80556 19.25V17.1944H4.75V18.2222C4.75 18.7902 5.20977 19.25 5.77778 19.25H6.80556ZM4.75 15.6944H6.80556V12.75H4.75V15.6944ZM4.75 11.25H6.80556V8.30556H4.75V11.25Z\" fill=\"currentColor\"/>\n<\/g>\n<\/svg>\n<\/li><li class=\"attachment-list__btn--js btn-outline-white--m flex-grow\" data-type=\"image\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/image/i24\">\n<path id=\"Union\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M7.83333 5.25C6.4066 5.25 5.25 6.4066 5.25 7.83333V11.0415C5.7412 10.6385 6.35911 10.4156 7 10.4156C7.73177 10.4156 8.43358 10.7063 8.95102 11.2237L12.0013 14.2739L12.5515 13.7237C13.629 12.6462 15.376 12.6462 16.4535 13.7237L18.75 16.0202V7.83333C18.75 6.4066 17.5934 5.25 16.1667 5.25H7.83333ZM18.2722 17.6637L15.3929 14.7844C14.9011 14.2926 14.1039 14.2926 13.6121 14.7844L9.64649 18.75H16.1667C17.0354 18.75 17.8039 18.3212 18.2722 17.6637ZM7.83333 20.25H16.1667C18.4218 20.25 20.25 18.4218 20.25 16.1667V7.83333C20.25 5.57817 18.4218 3.75 16.1667 3.75H7.83333C5.57817 3.75 3.75 5.57817 3.75 7.83333V16.1667C3.75 18.4218 5.57817 20.25 7.83333 20.25ZM7.54148 18.7337L10.9406 15.3346L7.89036 12.2844C7.65422 12.0482 7.33395 11.9156 7 11.9156C6.66604 11.9156 6.34577 12.0482 6.10963 12.2844L5.25 13.144V16.1667C5.25 17.4947 6.25215 18.5887 7.54148 18.7337Z\" fill=\"currentColor\"/>\n<\/g>\n<\/svg>\n<\/li><li class=\"attachment-list__btn--js btn-outline-white--m flex-grow\" data-type=\"file\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/file/i24\">\n<path id=\"Union\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M4.75 5.77778C4.75 4.35081 5.94807 3.25 7.35714 3.25H14.0169C14.6978 3.25 15.3575 3.50912 15.8485 3.97911L18.4745 6.49289C18.9666 6.96393 19.25 7.61047 19.25 8.29156V18.2222C19.25 19.6492 18.0519 20.75 16.6429 20.75L7.35714 20.75C5.94807 20.75 4.75 19.6492 4.75 18.2222V5.77778ZM17.5433 7.69444C17.5115 7.65312 17.4761 7.61365 17.4372 7.57645L14.8112 5.06267C14.7498 5.00387 14.6812 4.95229 14.6071 4.90885V7.55555C14.6071 7.60147 14.6561 7.69444 14.7857 7.69444H17.5433ZM13.1071 4.75V7.55555C13.1071 8.49097 13.8901 9.19444 14.7857 9.19444H17.75V18.2222C17.75 18.7597 17.2859 19.25 16.6429 19.25L7.35714 19.25C6.71408 19.25 6.25 18.7597 6.25 18.2222V5.77778C6.25 5.2403 6.71408 4.75 7.35714 4.75H13.1071Z\" fill=\"currentColor\"/>\n<\/g>\n<\/svg>\n<\/li><li class=\"attachment-list__btn--js btn-outline-white--m flex-grow\" data-type=\"audio\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/audio/i24\">\n<path id=\"Union\" d=\"M6.90005 20.702C6.10005 20.702 5.30005 20.402 4.70005 19.802C4.10005 19.202 3.80005 18.402 3.80005 17.602C3.80005 16.802 4.10005 16.002 4.70005 15.402C5.80005 14.302 7.40004 14.202 8.60004 14.902V8.10202C8.60004 7.40202 9.00005 6.70202 9.70005 6.50202L17.9 3.40203C18.4 3.20203 19 3.30202 19.5 3.60202C20 3.90202 20.2001 4.40202 20.2001 5.00202V15.602C20.2001 16.402 19.9 17.202 19.3 17.802C18.1 19.002 16.1 19.002 14.8 17.802C14.2 17.202 13.9 16.402 13.9 15.602C13.9 14.802 14.2 14.002 14.8 13.402C15.9 12.302 17.5001 12.202 18.7001 12.902V4.90203C18.7001 4.80203 18.6 4.70203 18.6 4.70203C18.6 4.70203 18.5 4.60203 18.4 4.70203L10.2001 7.80203C10.1001 7.80203 10.1 7.90202 10.1 8.00202V17.402C10.1 18.202 9.80005 19.002 9.20005 19.602C8.50005 20.402 7.70005 20.702 6.90005 20.702ZM6.90005 15.902C6.50005 15.902 6.00005 16.102 5.70005 16.402C5.40005 16.702 5.20005 17.102 5.20005 17.602C5.20005 18.102 5.40005 18.502 5.70005 18.802C6.40005 19.502 7.40004 19.502 8.10004 18.802C8.40004 18.502 8.60004 18.102 8.60004 17.602C8.60004 17.202 8.40004 16.802 8.10004 16.502C7.80004 16.002 7.30005 15.902 6.90005 15.902ZM17.1 13.902C16.7 13.902 16.2 14.102 15.9 14.402C15.6 14.702 15.4 15.102 15.4 15.602C15.4 16.102 15.6 16.502 15.9 16.802C16.6 17.402 17.6 17.402 18.3 16.802C18.6 16.502 18.8 16.102 18.8 15.602C18.8 15.202 18.6 14.802 18.3 14.502C17.9 14.102 17.5 13.902 17.1 13.902Z\" fill=\"currentColor\"/>\n<\/g>\n<\/svg>\n<\/li><\/ul><div class=\"preview_file_file hidden\"><\/div><div class=\"dropzone-area\"><div class=\"dropzone-area__drop\"><div id=\"drop_area_message\"><div class=\"drop_area_description\"><div class=\"drop_area_preview\"><div><svg width=\"37\" height=\"37\" viewBox=\"0 0 37 37\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M16.1874 30.0624H10.7916C9.08871 30.0624 7.70825 28.682 7.70825 26.9791V10.7916C7.70825 9.08871 9.08871 7.70825 10.7916 7.70825H20.427L26.9791 14.2603V17.7291M25.052 23.1249V30.0624M28.5208 26.5937H21.5833M26.5937 14.6458H20.0416V8.09367\" stroke=\"#626F7F\" stroke-width=\"1.8\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n<\/svg>\n<\/div><\/div><span>Перенесите сюда файл или кликните, чтобы выбрать<\/span><div class=\"remove_file\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g opacity=\"0.5\">\n<path d=\"M14.2427 7.17158C14.6332 6.78106 14.6332 6.1479 14.2427 5.75737C13.8521 5.36685 13.219 5.36685 12.8284 5.75737L14.2427 7.17158ZM5.75737 12.8284C5.36685 13.219 5.36685 13.8521 5.75737 14.2427C6.1479 14.6332 6.78106 14.6332 7.17158 14.2427L5.75737 12.8284ZM12.8284 14.2427C13.219 14.6332 13.8521 14.6332 14.2427 14.2427C14.6332 13.8521 14.6332 13.219 14.2427 12.8284L12.8284 14.2427ZM7.17158 5.75737C6.78106 5.36685 6.1479 5.36685 5.75737 5.75737C5.36685 6.1479 5.36685 6.78106 5.75737 7.17158L7.17158 5.75737ZM12.8284 5.75737L9.2929 9.2929L10.7071 10.7071L14.2427 7.17158L12.8284 5.75737ZM9.2929 9.2929L5.75737 12.8284L7.17158 14.2427L10.7071 10.7071L9.2929 9.2929ZM14.2427 12.8284L10.7071 9.2929L9.2929 10.7071L12.8284 14.2427L14.2427 12.8284ZM10.7071 9.2929L7.17158 5.75737L5.75737 7.17158L9.2929 10.7071L10.7071 9.2929Z\" fill=\"#626F7F\"/>\n<\/g>\n<\/svg>\n<\/div><\/div><\/div><div class=\"hidden\"><div class=\"file-field input-field col file optional message_file s12\"><div class=\"btn\"><span tag=\"span\" text=\"label_text\" class=\"file optional\">File<\/span><input class=\"file optional\" type=\"file\" name=\"message[file]\" id=\"message_file\" /><\/div><div class=\"file-path-wrapper\"><input tag=\"input\" class=\"file-path validate file optional\" type=\"text\" placeholder=\"Browse...\"><\/input><\/div><\/div><div class=\"input-field col hidden message_attachment_type s12\"><input class=\"hidden\" autocomplete=\"off\" type=\"hidden\" name=\"message[attachment_type]\" id=\"message_attachment_type\" /><\/div><\/div><\/div><div class=\"dropzone-area__input\"><div class=\"inputs_container solid-no-icon-p16-m\"><div class=\"inputs_container--main\"><div class=\"input-field col string optional message_attachment_url s12\"><input placeholder=\"URL вложения\" class=\"string optional\" type=\"text\" name=\"message[attachment_url]\" id=\"message_attachment_url\" /><\/div><\/div><\/div><\/div><\/div><div class=\"for_shortener_link\"><div class=\"flex-box align-center\"><div class=\"check_box_width\"><div class=\"check_box\"><\/div><\/div><div class=\"check_box_title\">С уведомлением о клике<\/div><\/div><\/div><div class=\"main-switch mb-0\"><p class=\"col switch boolean optional message_enable_snippets s12\"><label class=\"boolean optional\" for=\"message_enable_snippets\">Показывать превью ссылок<\/label><label><input name=\"message[enable_snippets]\" type=\"hidden\" value=\"0\" autocomplete=\"off\" /><input class=\"boolean optional\" type=\"checkbox\" value=\"1\" checked=\"checked\" name=\"message[enable_snippets]\" id=\"message_enable_snippets\" /><span tag=\"span\" class=\"lever boolean optional\"><\/span><\/label><\/p><\/div><div class=\"main-switch mb-0 show_caption_above_media\"><p class=\"col switch boolean optional message_show_caption_above_media s12\"><label class=\"boolean optional\" for=\"message_show_caption_above_media\">Изображение ниже текста<\/label><label><input name=\"message[show_caption_above_media]\" type=\"hidden\" value=\"0\" autocomplete=\"off\" /><input class=\"boolean optional\" type=\"checkbox\" value=\"1\" name=\"message[show_caption_above_media]\" id=\"message_show_caption_above_media\" /><span tag=\"span\" class=\"lever boolean optional\"><\/span><\/label><\/p><div class=\"dt-tooltip dt-tooltip__dark\"><div class=\"dt-tooltip__icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/help square/i16\">\n<g id=\"Union\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5.62961 3.26665C4.32458 3.26665 3.26665 4.32458 3.26665 5.62961V10.3704C3.26665 11.6754 4.32458 12.7333 5.62961 12.7333H10.3704C11.6754 12.7333 12.7333 11.6754 12.7333 10.3704V5.62961C12.7333 4.32458 11.6754 3.26665 10.3704 3.26665H5.62961ZM2.06665 5.62961C2.06665 3.66184 3.66184 2.06665 5.62961 2.06665H10.3704C12.3381 2.06665 13.9333 3.66184 13.9333 5.62961V10.3704C13.9333 12.3381 12.3381 13.9333 10.3704 13.9333H5.62961C3.66184 13.9333 2.06665 12.3381 2.06665 10.3704V5.62961ZM7.98457 5.02915C9.04817 4.98576 9.95472 5.80067 10.0211 6.86664C10.0219 6.87906 10.0223 6.89149 10.0223 6.90393C10.0223 7.57076 9.66073 8.18517 9.07781 8.50898L8.29144 8.94587C8.00177 9.10681 7.63648 9.00245 7.47555 8.71278C7.31462 8.42311 7.41898 8.05783 7.70865 7.89689L8.49502 7.46C8.69164 7.35079 8.8156 7.14612 8.822 6.92219C8.78649 6.51417 8.43308 6.20595 8.02186 6.22872C8.00253 6.22979 7.98315 6.22992 7.96381 6.22912C7.5847 6.21338 7.24805 6.46965 7.16229 6.83927C7.0874 7.16206 6.765 7.36302 6.44221 7.28813C6.11941 7.21323 5.91845 6.89084 5.99335 6.56804C6.20731 5.64586 7.0409 5.0036 7.98457 5.02915Z\" fill=\"currentColor\"/>\n<path d=\"M8.65952 10.3121C8.65975 10.1369 8.59028 9.96889 8.46642 9.84504C8.34258 9.72119 8.17454 9.65171 7.99938 9.65194C7.63549 9.65241 7.3408 9.94762 7.34096 10.3115C7.34111 10.6754 7.63607 10.9703 7.99995 10.9705C8.36384 10.9707 8.65905 10.676 8.65952 10.3121Z\" fill=\"currentColor\"/>\n<\/g>\n<\/g>\n<\/svg>\n<\/div><div class=\"dt-tooltip__description--bottom dt-tooltip__description--align-end\"><span>Только для telegram. Изображение ниже текста не работает если в блоке более одного вложения.<\/span><\/div><\/div><\/div><div class=\"preview_files_container p-0 mt-12\"><\/div><\/div><div class=\"message-actions setting_buttons\"><div class=\"btn-dashed-white--m setting_buttons_item setting_buttons_item_text\" data-type=\"text\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/dialog/i24\">\n<path id=\"Union\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M3.24951 6.66681C3.24951 4.77976 4.77927 3.25 6.66632 3.25H17.3336C19.2206 3.25 20.7504 4.77976 20.7504 6.66681V14.6673C20.7504 16.5543 19.2206 18.0841 17.3336 18.0841H12.7137L9.72208 20.4773C9.34857 20.7761 8.83684 20.8344 8.40572 20.6272C7.9746 20.42 7.70042 19.984 7.70042 19.5057V18.0841H6.66632C4.77927 18.0841 3.24951 16.5543 3.24951 14.6673V6.66681ZM6.66632 4.75C5.6077 4.75 4.74951 5.60819 4.74951 6.66681V14.6673C4.74951 15.7259 5.6077 16.5841 6.66632 16.5841H8.45042C8.86464 16.5841 9.20042 16.9199 9.20042 17.3341V18.9737L11.9821 16.7484C12.1151 16.642 12.2803 16.5841 12.4506 16.5841H17.3336C18.3922 16.5841 19.2504 15.7259 19.2504 14.6673V6.66681C19.2504 5.60819 18.3922 4.75 17.3336 4.75H6.66632ZM7.6942 8.88916C7.6942 8.47494 8.02999 8.13916 8.4442 8.13916H15.5557C15.9699 8.13916 16.3057 8.47494 16.3057 8.88916C16.3057 9.30337 15.9699 9.63916 15.5557 9.63916H8.4442C8.02999 9.63916 7.6942 9.30337 7.6942 8.88916ZM7.6942 12.4449C7.6942 12.0307 8.02999 11.6949 8.4442 11.6949H13.7778C14.192 11.6949 14.5278 12.0307 14.5278 12.4449C14.5278 12.8591 14.192 13.1949 13.7778 13.1949H8.4442C8.02999 13.1949 7.6942 12.8591 7.6942 12.4449Z\" fill=\"currentColor\"/>\n<\/g>\n<\/svg>\n<span>Сообщение<\/span><\/div><div class=\"btn-dashed-white--m setting_buttons_item setting_buttons_item_attachment svg-fill-none\" data-type=\"attachment\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path d=\"M13.7778 8.44446L6.51415 15.7081C6.04265 16.1796 5.77777 16.819 5.77777 17.4858C5.77777 18.1526 6.04265 18.7921 6.51415 19.2636C6.98565 19.7351 7.62513 20 8.29193 20C8.95873 20 9.59821 19.7351 10.0697 19.2636L12.1716 17.1618M4 12.8889L11.6002 5.28866C12.4254 4.46355 13.5445 4 14.7114 4C15.8783 4 16.9974 4.46355 17.8225 5.28866C18.6476 6.11378 19.1111 7.23288 19.1111 8.39977C19.1111 9.56666 18.6476 10.6858 17.8225 11.5109L17.1619 12.1714M17.3333 16H14.6667M16 14.6667V17.3333M20 16C20 18.2091 18.2091 20 16 20C13.7909 20 12 18.2091 12 16C12 13.7909 13.7909 12 16 12C18.2091 12 20 13.7909 20 16Z\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n<\/svg>\n<span>Вложение<\/span><\/div><div class=\"btn-dashed-white--m setting_buttons_item setting_buttons_item_buttons\" data-type=\"buttons\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M4.88889 4.75C4.81244 4.75 4.75 4.81244 4.75 4.88889V6.66667C4.75 6.74312 4.81244 6.80556 4.88889 6.80556H19.1111C19.1876 6.80556 19.25 6.74312 19.25 6.66667V4.88889C19.25 4.81244 19.1876 4.75 19.1111 4.75H4.88889ZM3.25 4.88889C3.25 3.98401 3.98401 3.25 4.88889 3.25H19.1111C20.016 3.25 20.75 3.98401 20.75 4.88889V6.66667C20.75 7.57155 20.016 8.30556 19.1111 8.30556H4.88889C3.98401 8.30556 3.25 7.57155 3.25 6.66667V4.88889ZM4.88889 10.9722C4.81244 10.9722 4.75 11.0347 4.75 11.1111V12.8889C4.75 12.9653 4.81244 13.0278 4.88889 13.0278H19.1111C19.1876 13.0278 19.25 12.9653 19.25 12.8889V11.1111C19.25 11.0347 19.1876 10.9722 19.1111 10.9722H4.88889ZM3.25 11.1111C3.25 10.2062 3.98401 9.47222 4.88889 9.47222H19.1111C20.016 9.47222 20.75 10.2062 20.75 11.1111V12.8889C20.75 13.7938 20.016 14.5278 19.1111 14.5278H4.88889C3.98401 14.5278 3.25 13.7938 3.25 12.8889V11.1111ZM4.88889 17.1944C4.81244 17.1944 4.75 17.2569 4.75 17.3333V19.1111C4.75 19.1876 4.81244 19.25 4.88889 19.25H19.1111C19.1876 19.25 19.25 19.1876 19.25 19.1111V17.3333C19.25 17.2569 19.1876 17.1944 19.1111 17.1944H4.88889ZM3.25 17.3333C3.25 16.4285 3.98401 15.6944 4.88889 15.6944H19.1111C20.016 15.6944 20.75 16.4285 20.75 17.3333V19.1111C20.75 20.016 20.016 20.75 19.1111 20.75H4.88889C3.98401 20.75 3.25 20.016 3.25 19.1111V17.3333Z\" fill=\"currentColor\"/>\n<\/svg><span>Кнопки<\/span><\/div><div class=\"btn-dashed-white--m setting_buttons_item setting_buttons_item_time\" data-type=\"time\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M11.122 4C11.122 3.58579 11.4578 3.25 11.872 3.25C16.7049 3.25 20.622 7.16712 20.622 12C20.622 16.8329 16.7049 20.75 11.872 20.75C11.4578 20.75 11.122 20.4142 11.122 20C11.122 19.5858 11.4578 19.25 11.872 19.25C15.8765 19.25 19.122 16.0045 19.122 12C19.122 7.99555 15.8765 4.75 11.872 4.75C11.4578 4.75 11.122 4.41421 11.122 4ZM9.84356 4.23358C9.98505 4.62288 9.78416 5.05317 9.39486 5.19466C8.59004 5.48718 7.85282 5.91112 7.2141 6.44793C6.89701 6.71443 6.42391 6.67342 6.15741 6.35632C5.8909 6.03923 5.93192 5.56613 6.24901 5.29963C7.02541 4.6471 7.91664 4.13593 8.88248 3.78489C9.27177 3.6434 9.70206 3.84429 9.84356 4.23358ZM5.32368 7.35328C5.68232 7.56052 5.80507 8.01925 5.59783 8.3779C5.18245 9.09678 4.88774 9.89295 4.73869 10.7413C4.66701 11.1493 4.27819 11.4219 3.87022 11.3502C3.46226 11.2786 3.18964 10.8897 3.26132 10.4818C3.44115 9.45816 3.79712 8.49611 4.29906 7.62743C4.5063 7.26879 4.96503 7.14605 5.32368 7.35328ZM11.6213 7.682C12.0355 7.682 12.3713 8.01779 12.3713 8.432V12.1451L15.2615 13.9072C15.6152 14.1228 15.7271 14.5843 15.5115 14.938C15.2959 15.2916 14.8344 15.4035 14.4807 15.1879L11.2309 13.2066C11.0076 13.0704 10.8713 12.8278 10.8713 12.5662V8.432C10.8713 8.01779 11.2071 7.682 11.6213 7.682ZM3.87022 12.6489C4.27819 12.5772 4.66701 12.8498 4.73869 13.2578C4.88774 14.1062 5.18245 14.9023 5.59783 15.6212C5.80507 15.9799 5.68232 16.4386 5.32368 16.6458C4.96503 16.8531 4.5063 16.7303 4.29906 16.3717C3.79712 15.503 3.44115 14.5409 3.26132 13.5173C3.18964 13.1094 3.46226 12.7205 3.87022 12.6489ZM6.15705 17.6441C6.42332 17.3268 6.89639 17.2854 7.21368 17.5517C7.85261 18.0879 8.59018 18.5121 9.39549 18.8056C9.78466 18.9474 9.98517 19.3779 9.84333 19.767C9.70149 20.1562 9.27102 20.3567 8.88185 20.2149C7.91649 19.863 7.02562 19.3521 6.24944 18.7007C5.93214 18.4345 5.89078 17.9614 6.15705 17.6441Z\" fill=\"currentColor\"/>\n<\/svg><span>Задержка<\/span><\/div><div class=\"btn-dashed-white--m setting_buttons_item setting_buttons_item_states svg-fill-none\" data-type=\"states\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path d=\"M8.31022 11.7644C8.44 11.8942 8.44 12.1058 8.31022 12.2356C8.18044 12.3653 7.96889 12.3653 7.83911 12.2356C7.70933 12.1058 7.70933 11.8942 7.83911 11.7644C7.96889 11.6338 8.17956 11.6338 8.31022 11.7644Z\" fill=\"currentColor\"/>\n  <path d=\"M12.2356 11.7644C12.3653 11.8942 12.3653 12.1058 12.2356 12.2356C12.1058 12.3653 11.8942 12.3653 11.7644 12.2356C11.6347 12.1058 11.6347 11.8942 11.7644 11.7644C11.8942 11.6338 12.1058 11.6338 12.2356 11.7644Z\" fill=\"currentColor\"/>\n  <path d=\"M12.8889 4H13.7778C14.76 4 15.5556 4.79556 15.5556 5.77778M15.5556 5.77778C15.5556 4.79556 16.3511 4 17.3333 4H18.2222M15.5556 5.77778V18.2222M15.5556 18.2222C15.5556 19.2044 16.3511 20 17.3333 20H18.2222M15.5556 18.2222C15.5556 19.2044 14.76 20 13.7778 20H12.8889M12.8889 16.4444H5.77778C4.79556 16.4444 4 15.6489 4 14.6667V9.33333C4 8.35111 4.79556 7.55556 5.77778 7.55556H12.8889M15.5556 16.4444H18.2222C19.2044 16.4444 20 15.6489 20 14.6667V9.33333C20 8.35111 19.2044 7.55556 18.2222 7.55556H15.5556M8.31022 11.7644C8.44 11.8942 8.44 12.1058 8.31022 12.2356C8.18044 12.3653 7.96889 12.3653 7.83911 12.2356C7.70933 12.1058 7.70933 11.8942 7.83911 11.7644C7.96889 11.6338 8.17956 11.6338 8.31022 11.7644ZM12.2356 11.7644C12.3653 11.8942 12.3653 12.1058 12.2356 12.2356C12.1058 12.3653 11.8942 12.3653 11.7644 12.2356C11.6347 12.1058 11.6347 11.8942 11.7644 11.7644C11.8942 11.6338 12.1058 11.6338 12.2356 11.7644Z\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n<\/svg>\n<span>Действие<\/span><\/div><div class=\"btn-dashed-white--m setting_buttons_item setting_buttons_item_condition\" data-type=\"condition\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/if/i24\">\n<path id=\"Union\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M7.22234 4.75C6.40926 4.75 5.75012 5.40914 5.75012 6.22222C5.75012 7.03531 6.40926 7.69444 7.22234 7.69444C8.03543 7.69444 8.69457 7.03531 8.69457 6.22222C8.69457 5.40914 8.03543 4.75 7.22234 4.75ZM4.25012 6.22222C4.25012 4.58071 5.58083 3.25 7.22234 3.25C8.86386 3.25 10.1946 4.58071 10.1946 6.22222C10.1946 7.58469 9.27782 8.73304 8.02752 9.08409C8.33045 10.8196 9.84455 12.1389 11.6668 12.1389L14.1233 12.1389C14.4557 10.8605 15.6177 9.91667 17.0001 9.91667C18.6416 9.91667 19.9723 11.2474 19.9723 12.8889C19.9723 14.5304 18.6416 15.8611 17.0001 15.8611C15.6177 15.8611 14.4557 14.9173 14.1233 13.6389L11.6668 13.6389C10.2215 13.6389 8.914 13.0486 7.97234 12.0959V14.901C9.25076 15.2333 10.1946 16.3953 10.1946 17.7778C10.1946 19.4193 8.86386 20.75 7.22234 20.75C5.58083 20.75 4.25012 19.4193 4.25012 17.7778C4.25012 16.3953 5.19393 15.2333 6.47234 14.901V9.09901C5.19393 8.76665 4.25012 7.60466 4.25012 6.22222ZM17.0001 11.4167C16.187 11.4167 15.5279 12.0758 15.5279 12.8889C15.5279 13.702 16.187 14.3611 17.0001 14.3611C17.8132 14.3611 18.4723 13.702 18.4723 12.8889C18.4723 12.0758 17.8132 11.4167 17.0001 11.4167ZM7.22234 16.3056C6.40926 16.3056 5.75012 16.9647 5.75012 17.7778C5.75012 18.5909 6.40926 19.25 7.22234 19.25C8.03543 19.25 8.69457 18.5909 8.69457 17.7778C8.69457 16.9647 8.03543 16.3056 7.22234 16.3056Z\" fill=\"currentColor\"/>\n<\/g>\n<\/svg>\n<span>Условие<\/span><\/div><div class=\"btn-dashed-white--m setting_buttons_item setting_buttons_item_calculator svg-fill-none\" data-type=\"calculator\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path d=\"M8.97778 13.8133L7.16444 12L8.97778 10.1867M15.0249 13.8151L16.8391 12L15.0249 10.1849M12.8267 8.88889L11.1733 15.1111M17.3333 20H6.66667C5.19378 20 4 18.8062 4 17.3333V6.66667C4 5.19378 5.19378 4 6.66667 4H17.3333C18.8062 4 20 5.19378 20 6.66667V17.3333C20 18.8062 18.8062 20 17.3333 20Z\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n<\/svg>\n<span>Калькулятор<\/span><\/div><div class=\"btn-dashed-white--m setting_buttons_item setting_buttons_item_settings\" data-type=\"settings\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path d=\"M12 4.25C15.1626 4.25 17.7676 6.63716 18.1115 9.70791C20.1755 10.0475 21.75 11.8399 21.75 14C21.75 16.4024 19.8024 18.35 17.4 18.35H15.6C15.1858 18.35 14.85 18.0142 14.85 17.6C14.85 17.1858 15.1858 16.85 15.6 16.85H17.4C18.974 16.85 20.25 15.574 20.25 14C20.25 12.426 18.974 11.15 17.4 11.15C16.9858 11.15 16.65 10.8142 16.65 10.4C16.65 7.832 14.5683 5.7502 12.0004 5.75C10.0106 5.75113 8.24177 7.01866 7.60154 8.90268C7.50987 9.17244 7.27326 9.36696 6.99086 9.40474C5.13812 9.65259 3.75367 11.2315 3.75 13.1007C3.75036 15.1714 5.42915 16.85 7.5 16.85H8.4C8.81421 16.85 9.15 17.1858 9.15 17.6C9.15 18.0142 8.81421 18.35 8.4 18.35H7.5C4.6005 18.35 2.25 15.9995 2.25 13.1V13.0987C2.25441 10.6323 3.97416 8.52638 6.34211 7.99806C7.29841 5.74048 9.51936 4.25121 12 4.25Z\" fill=\"currentColor\"/>\n  <path d=\"M12 12.35C12.1989 12.35 12.3897 12.429 12.5303 12.5697L14.3303 14.3697C14.6232 14.6626 14.6232 15.1374 14.3303 15.4303C14.0374 15.7232 13.5626 15.7232 13.2697 15.4303L12.75 14.9107V17.6C12.75 18.0142 12.4142 18.35 12 18.35C11.5858 18.35 11.25 18.0142 11.25 17.6V14.9107L10.7303 15.4303C10.4374 15.7232 9.96256 15.7232 9.66967 15.4303C9.37678 15.1374 9.37678 14.6626 9.66967 14.3697L11.4697 12.5697C11.6103 12.429 11.8011 12.35 12 12.35Z\" fill=\"currentColor\"/>\n<\/svg>\n<span>API-запрос<\/span><\/div><div class=\"btn-dashed-white--m setting_buttons_item setting_buttons_item_analytics\" data-type=\"analytics\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/analytics 2/i24\">\n<path id=\"Union\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M18.4 5.54993C17.9302 5.54993 17.55 5.93014 17.55 6.39993V17.5999C17.55 18.0697 17.9302 18.4499 18.4 18.4499C18.8698 18.4499 19.25 18.0697 19.25 17.5999V6.39993C19.25 5.93014 18.8698 5.54993 18.4 5.54993ZM16.05 6.39993C16.05 5.10171 17.1018 4.04993 18.4 4.04993C19.6982 4.04993 20.75 5.10171 20.75 6.39993V17.5999C20.75 18.8981 19.6982 19.9499 18.4 19.9499C17.1018 19.9499 16.05 18.8981 16.05 17.5999V6.39993ZM5.6 10.0971C5.13021 10.0971 4.75 10.4773 4.75 10.9471V17.5999C4.75 18.0697 5.13021 18.4499 5.6 18.4499C6.06979 18.4499 6.45 18.0697 6.45 17.5999V10.9471C6.45 10.4773 6.06979 10.0971 5.6 10.0971ZM3.25 10.9471C3.25 9.64891 4.30179 8.59713 5.6 8.59713C6.89821 8.59713 7.95 9.64891 7.95 10.9471V17.5999C7.95 18.8981 6.89821 19.9499 5.6 19.9499C4.30179 19.9499 3.25 18.8981 3.25 17.5999V10.9471ZM12 14.6443C11.5302 14.6443 11.15 15.0245 11.15 15.4943V17.5999C11.15 18.0697 11.5302 18.4499 12 18.4499C12.4698 18.4499 12.85 18.0697 12.85 17.5999V15.4943C12.85 15.0245 12.4698 14.6443 12 14.6443ZM9.65 15.4943C9.65 14.1961 10.7018 13.1443 12 13.1443C13.2982 13.1443 14.35 14.1961 14.35 15.4943V17.5999C14.35 18.8981 13.2982 19.9499 12 19.9499C10.7018 19.9499 9.65 18.8981 9.65 17.5999V15.4943Z\" fill=\"currentColor\"/>\n<\/g>\n<\/svg>\n<span>Аналитика<\/span><\/div><\/div><div id=\"additional_functions\"><\/div><\/div><div class=\"scroll_button_helper\"><div class=\"succes_help_button_dnt_close btn-solid-brand--m\">Сохранить<\/div><div class=\"total_success_button succes_help_button btn-outline-white--m ml-10\">Сохранить и закрыть<\/div><\/div><\/form><\/div><\/div><script>\$(\'.toggle-conditions-container--js\').off(\'click\').on(\'click\', function() {\n    const conditionContainer = \$(\'.conditions-container\')\n    if (conditionContainer.hasClass(\'display-none\')) {\n        conditionContainer.removeClass(\'display-none\');\n        \$(\'.open-conditions-container_svg--js\').removeClass(\'display-none\');\n        \$(\'.close-conditions-container_svg--js\').addClass(\'display-none\');\n    } else {\n        conditionContainer.addClass(\'display-none\');\n        \$(\'.open-conditions-container_svg--js\').addClass(\'display-none\');\n        \$(\'.close-conditions-container_svg--js\').removeClass(\'display-none\');\n    }\n});\n// conditions constructor start\n\nvar callbacks = {}\nvar callbackXHR = new XMLHttpRequest();\ncallbackXHR.open(\n    \'GET\',\n    \`\${location.origin}/configs/callback.xml\`,\n    true\n);\ncallbackXHR.send();\ncallbackXHR.onload = function (e) {\n    if (callbackXHR.readyState === 4 && callbackXHR.status === 200) {\n        callbacks = new X2JS().xml_str2json(callbackXHR.responseText).root\n\n        for (let key in callbacks[\"conditionSalebot\"]) {\n            \$(\".select_salebot_conditions--js\").append(\`<option value=\"\${key}\" class=\"conditions_select_sb_item--js btn-dashed-white--xxs flex-grow\">\${callbacks[\"conditionSalebot\"][key].name}<\/option>\`)\n        }\n        for (let key in callbacks[\"messengers\"]) {\n            \$(\".container_channels--js\").append(\`<option value=\"\${key}\" class=\"select_channels_item--js btn-dashed-white--xxs flex-grow\">\${callbacks[\"messengers\"][key].name}<\/option>\`)\n        }\n        for (let key in callbacks[\"paymentSystems\"]) {\n            \$(\".container_pay_systems_select--js\").append(\`<option value=\"\${key}\" class=\"pay_systems_select_item--js btn-dashed-white--xxs flex-grow\">\${callbacks[\"paymentSystems\"][key].name}<\/option>\`)\n        }\n        for (let key in callbacks[\"telephone\"]) {\n            \$(\".container_telephone_select--js\").append(\`<option value=\"\${key}\" class=\"telephone_select_item--js btn-dashed-white--xxs flex-grow\">\${callbacks[\"telephone\"][key].name}<\/option>\`)\n        }\n        for (let key in callbacks[\"otherIntegrations\"]) {\n            \$(\".container_other_integrations_select--js\").append(\`<option value=\"\${key}\" class=\"other_integrations_select_item--js btn-dashed-white--xxs flex-grow\">\${callbacks[\"otherIntegrations\"][key].name}<\/option>\`)\n        }\n    }\n}\n\n\$(\'.copy-help_wo_btns\').off(\'click\').on(\'click\', function () {\n    let copyText = \$(\'#message_hint\')[0]\n    copyText.select()\n    document.execCommand(\'copy\')\n    M.toast({html: \'Текст поля подсказок в мессенджерах без кнопок скопирован!\'});\n})\n\$(\'.copy-pro_edits_btns\').off(\'click\').on(\'click\', function () {\n    let copyText = \$(\'#message_buttons\')[0]\n    copyText.select()\n    document.execCommand(\'copy\')\n    M.toast({html: \'Текст поля расширенных настроек кнопок скопирован!\'});\n})\n\nfunction removeConditionButtonEvent () {\n    \$(\'.conditions-container__item__delete\').off(\'click\').on(\'click\', function () {\n        if (\$(\'.conditions-container\').find(\'.conditions-container__item\').length === 1) {\n            \$(this).closest(\'.conditions-container__item\').addClass(\'hidden\')\n        } else {\n            \$(this).closest(\'.conditions-container__item\').remove()\n        }\n\n        let conditionsText = \"\"\n        let isLast = \$(\'.conditions-container\').find(\'.conditions-container__item\').first().hasClass(\'hidden\')\n        if (\$(\'.conditions-container\').find(\'.conditions-container__item\').length < 2) {\n            if (isLast) {\n                conditionsText = \'#{none}\'\n            } else {\n                \$(\'.conditions-container__item\').map((index, item) => {\n                    let text = \$(item).find(\'.conditions-container__item__name\').text()\n                    conditionsText += \`\${text};\`\n                })\n            }\n        } else {\n            \$(\'.conditions-container__item\').map((index, item) => {\n                let text = \$(item).find(\'.conditions-container__item__name\').text()\n                conditionsText += \`\${text};\`\n            })\n        }\n\n        \$(\'#message_condition\').val(conditionsText)\n    })\n}\n\n\$(\'.redactor_condition_constructor_close_condition\').off(\'click\').on(\'click\', function () {\n    \$(\'.redactor_condition_constructor_modal\').addClass(\'hidden\')\n    \$(\'.reductor-conditions-no-collbacks\').addClass(\'hidden\')\n})\n\nfunction salebotCRMFunction() {\n    let main = \$(\'.redactor_condition-crm\')\n    if (main.val() === \"crm_state_changed\") {\n        \$(\'.redactor_responsible_state_block\').removeClass(\'hidden\')\n    } else if (main.val() === \"crm_system_state_changed\") {\n        \$(\'.redactor_responsible_order_block\').removeClass(\'hidden\')\n    } else if (main.val() === \"crm_lead_removed\") {\n\n    } else if (main.val() === \"change_responsible_client\") {\n        \$(\'.redactor_responsible_select_block\').removeClass(\'hidden\')\n    }\n    main.on(\'change\', function () {\n        let state_block = \$(\'.redactor_responsible_state_block\')\n        let order_block = \$(\'.redactor_responsible_order_block\')\n        let responsible_block = \$(\'.redactor_responsible_select_block\')\n        state_block.addClass(\'hidden\')\n        order_block.addClass(\'hidden\')\n        responsible_block.addClass(\'hidden\')\n        if (\$(this).val() === \"crm_state_changed\") {\n            state_block.removeClass(\'hidden\')\n        } else if (\$(this).val() === \"crm_system_state_changed\") {\n            order_block.removeClass(\'hidden\')\n        } else if (\$(this).val() === \"crm_lead_removed\") {\n\n        } else if (\$(this).val() === \"change_responsible_client\") {\n            responsible_block.removeClass(\'hidden\')\n        }\n    })\n}\n\nfunction salebotClientsFunction () {\n    let main = \$(\'.redactor_condition-clients\')\n    if (main.val() === \"added_label_callback\") {\n        \$(\'.redactor_condition-block-mark\').removeClass(\'hidden\')\n    } else if (main.val() === \"removed_label_callback\") {\n        \$(\'.redactor_condition-block-mark\').removeClass(\'hidden\')\n    } else if (main.val() === \"added_to_list_callback\") {\n        \$(\'.redactor_condition-block-label\').removeClass(\'hidden\')\n    } else if (main.val() === \"removed_from_list_callback\") {\n        \$(\'.redactor_condition-block-label\').removeClass(\'hidden\')\n    }\n    main.on(\'change\', function () {\n        let block_mark = \$(\'.redactor_condition-block-mark\')\n        let block_label = \$(\'.redactor_condition-block-label\')\n        block_mark.addClass(\'hidden\')\n        block_label.addClass(\'hidden\')\n        if (\$(this).val() === \"added_label_callback\") {\n            block_mark.removeClass(\'hidden\')\n        } else if (\$(this).val() === \"removed_label_callback\") {\n            block_mark.removeClass(\'hidden\')\n        } else if (\$(this).val() === \"added_to_list_callback\") {\n            block_label.removeClass(\'hidden\')\n        } else if (\$(this).val() === \"removed_from_list_callback\") {\n            block_label.removeClass(\'hidden\')\n        }\n    })\n}\nfunction saveSalebotClients() {\n    let condition = \'\'\n    let match_selection = \'\'\n    let main_select = \$(\'.redactor_condition-clients\')\n    let main_select_val = main_select.val()\n    if (main_select_val === \"added_label_callback\") {\n        let mark = \$(\'.redactor_condition-select-mark\').val()\n        if (mark !== \"empty\") {\n            condition = \`added_label_callback \${mark}\`\n            match_selection = \'2\'\n        } else {\n            condition = \"added_label_callback\"\n            match_selection = \'1\'\n        }\n    } else if (main_select_val === \"removed_label_callback\") {\n        let mark = \$(\'.redactor_condition-select-mark\').val()\n        if (mark !== \"empty\") {\n            condition = \`removed_label_callback \${mark}\`\n            match_selection = \'2\'\n        } else {\n            condition = \"removed_label_callback\"\n            match_selection = \'1\'\n        }\n    } else if (main_select_val === \"added_to_list_callback\") {\n        let label = \$(\'.redactor_condition-select-label\').val()\n        if (label !== \"empty\") {\n            condition = \`added_to_list_callback \${label}\`\n            match_selection = \'2\'\n        } else {\n            condition = \"added_to_list_callback\"\n            match_selection = \'1\'\n        }\n    } else if (main_select_val === \"removed_from_list_callback\") {\n        let label = \$(\'.redactor_condition-select-label\').val()\n        if (label !== \"empty\") {\n            condition = \`removed_from_list_callback \${label}\`\n            match_selection = \'2\'\n        } else {\n            condition = \"removed_from_list_callback\"\n            match_selection = \'1\'\n        }\n    }\n    \$(\'#message_comparision_method\').val(match_selection)\n    \$(\'#message_comparision_method\').formSelect()\n    return condition\n}\nfunction saveSalebotCRM() {\n  let condition = \'\'\n  let match_selection = \'\'\n  let main_select = \$(\'.redactor_condition-crm\')\n  let main_select_val = main_select.val()\n  if (main_select_val === \"crm_state_changed\") {\n    let redactor_state_selected = \$(\'.redactor_state_select\').val()\n    if (redactor_state_selected !== \"empty\") {\n        condition = \`crm_state_changed \${redactor_state_selected}\`\n        match_selection = \'2\'\n    } else {\n        condition = \"crm_state_changed\"\n        match_selection = \'1\'\n    }\n  } else if (main_select_val === \"crm_system_state_changed\") {\n      let redactor_state_selected = \$(\'.redactor_order_end_select\').val()\n      if (redactor_state_selected !== \"empty\") {\n          condition = \`crm_system_state_changed \${redactor_state_selected}\`\n          match_selection = \'2\'\n      } else {\n          condition = \"crm_system_state_changed\"\n          match_selection = \'1\'\n      }\n  } else if (main_select_val === \"crm_lead_removed\") {\n      condition = \"crm_lead_removed\"\n      match_selection = \'1\'\n  } else if (main_select_val === \"change_responsible_client\") {\n    let redactor_responsible_selected = \$(\'.redactor_responsible_select\').val()\n      if (redactor_responsible_selected !== \"empty\") {\n          condition = \`change_responsible_client \${redactor_responsible_selected}\`\n          match_selection = \'2\'\n      } else {\n          condition = \"change_responsible_client\"\n          match_selection = \'1\'\n      }\n  }\n  \$(\'#message_comparision_method\').val(match_selection)\n  \$(\'#message_comparision_method\').formSelect()\n  return condition\n}\n\nvar python_code\n\nfunction writeCodeOnPythonOpenModal(open_file) {\n    var modal = \$(\'#modal\');\n    let modal_form = \$(\'.write_code_on_python_form\')\n    modal.html(modal_form[0]);\n    modal.modal();\n    modal.modal(\'open\');\n    modal.css(\'max-width\', \'1400px\');\n    modal.find(\'.write_code_on_python_form\').removeClass(\'hidden\')\n\n    \$(\'#createPythonCodeFile\').off(\'click\').on(\'click\', function () {\n        createPythonFile()\n    })\n\n\n    var editor = ace.edit(\"python_code_textbox\");\n    editor.setOptions({\n        enableLiveAutocompletion: true,\n        enableBasicAutocompletion: true,\n        showGutter: true,\n        fontSize: 12,\n        wrapBehavioursEnabled: true,\n        indentedSoftWrap: false,\n        wrap: \"off\",\n        scrollSpeed: 1,\n        maxLines: 500,\n        minLines: 20,\n        vScrollBarAlwaysVisible: false\n    });\n    editor.resize()\n    editor.setTheme(\"ace/theme/github\");\n    editor.session.setMode(\"ace/mode/python\");\n\n    let editorDefaultText =\n        \'import json\\n\'+\n        \'\"\"\"\\n\'+\n        \'перед выполнением скрипта происходит замена переменных\\n\'+\n        \'текст внутри  будет заменен по правилам калькулятора\\n\'+\n        \'команды внутри  будут выполнены ДО запуска кода\\n\'+\n        \'методы калькулятора не работают в python\\n\'+\n        \'\"\"\"\\n\'+\n        \'def handle(data):\\n\'+\n        \'    data = json.loads(data) # все доступные переменные\\n\'+\n        \'    # вставьте свой код сюда\\n\'+\n        \'    result = {}  # возвращаемые значения.  {\"название переменной\": \"значение\"}\\n\'+\n        \'    return result\\n\'+\n        \'\\n\'\n\n    let pythonFileURL = open_file.closest(\'.action_list\').find(\'.python_code\').text()\n\n    function loadPythonFileIntoEditor(url) {\n        fetch(url)\n            .then(response => {\n                if (!response.ok) {\n                    throw new Error(\'Network response was not ok\');\n                }\n                return response.text();\n            })\n            .then(data => {\n                editor.setValue(data)\n            })\n            .catch(error => {\n                editor.setValue(editorDefaultText)\n            });\n    }\n\n    if (pythonFileURL !== \'\') {\n        loadPythonFileIntoEditor(pythonFileURL)\n    } else {\n        editor.setValue(editorDefaultText)\n    }\n\n}\n\n\$(\'.write_code_file_pick\').off(\'click\').on(\'click\', function () {\n    python_code = \$(this).closest(\'.action_list\').find(\'.python_code\')\n    writeCodeOnPythonOpenModal(\$(this).closest(\'.write_code_file_solo\'))\n})\n\nfunction createPythonFile() {\n    let message_id = \"\";\n    const editor = ace.edit(\"python_code_textbox\");\n    const pythonCode = editor.getValue();\n    let old_name_text = python_code.text()\n    let lastSlashIndex = old_name_text.lastIndexOf(\"/\");\n    let old_name = old_name_text.substring(lastSlashIndex + 1);\n\n    let action_number = \$(\'.write_code_file_solo\').length;\n    let random_id = Math.floor(Math.random() * 1000)\n    const filename = \`python_code_\${message_id}_\${action_number}_\${random_id}.py\`;\n\n    const blob = new Blob([pythonCode], {type: \'text/x-python-script\'});\n    const file = new File([blob], filename, {type: \'text/x-python-script\'});\n\n    const formData = new FormData();\n    formData.append(\'file\', file);\n    formData.append(\"message_id\", message_id);\n    formData.append(\"python_code_file\", \"true\");\n    formData.append(\"old_name\", old_name);\n\n    \$.ajax({\n        url: \"/projects/569981/messages/upload_file\",\n        type: \'POST\',\n        data: formData,\n        contentType: false,\n        processData: false,\n        success: function (data) {\n            if (data.error) {\n                if (data.error === \"file_type_in_not_valid\") {\n                    return M.toast({html: \"Выберите файл, который соответствует типу других файлов в блоке\"});\n                } else if (data.error === \"file_limit\") {\n                    return M.toast({html: \"Вы превышаете лимит 10 файлов в одном блоке\"});\n                } else if (data.error === \"file_too_big\") {\n                    return M.toast({html: \"Размер файла слишком большой. Максимум 20 мб\"});\n                }\n            } else {\n                console.log(\"data = \", data)\n                console.log(\"file = \", file)\n                console.log(python_code)\n                python_code.text(\`\${data[\"file_url\"]}\`)\n                setActionsValue()\n            }\n        }\n    });\n}\n\nfunction adaptiveCreateButtonsField() {\n    let buttonsField = \$(\'.type-btns\')\n    let buttons = buttonsField.find(\'.type-btns__btn\')\n\n    let editor = \$(\'#editor\')\n    if (editor.length > 0) {\n        if (editor[0].offsetWidth <= 455) {\n            buttonsField.css({\n                \"flex-direction\": \"column\",\n                \"align-items\": \"center\"\n            });\n            buttons.css(\"width\", \"100%\")\n        } else {\n            buttonsField.css({\n                \"flex-direction\": \"row\",\n                \"align-items\": \"\"\n            });\n            buttons.css(\"width\", \"50%\")\n        }\n    }\n}\n\nadaptiveCreateButtonsField()\n\nsetTimeout(function () {\n    \$(\'.redactor_condition_constructor_modal_nav\').addClass(\'hidden\')\n    \$(\'.redactor_condition_constructor_modal_container\').addClass(\'hidden\')\n    \$(\'.conditions_select_sb_item--js\').off(\'click\').on(\'click\', function () {\n        \$(\'.conditions_select_sb_item--js\').removeClass(\'btn-active__blue\')\n        \$(this).addClass(\'btn-active__blue\')\n        \$(\'.select_salebot_conditions--js\').find(\'input\').val(\$(this).val())\n        \$(\'.redactor_condition-match-selection\').removeClass(\'hidden\')\n        rerenderForm(\$(\'.redactor_condition-select_salebot_conditions__input\').val(), \"conditionSalebot\")\n    })\n\n    \$(\'.select_channels_item--js\').off(\'click\').on(\'click\', function () {\n        \$(\'.select_channels_item--js\').removeClass(\'btn-active__blue\')\n        \$(this).addClass(\'btn-active__blue\')\n        \$(\'.container_channels--js\').find(\'input\').val(\$(this).val())\n        \$(\'.redactor_condition-match-selection\').removeClass(\'hidden\')\n        rerenderForm(\$(\'.redactor_condition-select_chanel__input\').val(), \"messengers\")\n\n    })\n\n    \$(\'.pay_systems_select_item--js\').off(\'click\').on(\'click\', function () {\n        \$(\'.pay_systems_select_item--js\').removeClass(\'btn-active__blue\')\n        \$(this).addClass(\'btn-active__blue\')\n        \$(\'.container_pay_systems_select--js\').find(\'input\').val(\$(this).val())\n        \$(\'.redactor_condition-match-selection\').removeClass(\'hidden\')\n        rerenderForm(\$(\'.redactor_condition-select_pay_systems__input\').val(), \"paymentSystems\")\n    })\n\n    \$(\'.telephone_select_item--js\').off(\'click\').on(\'click\', function () {\n        \$(\'.telephone_select_item--js\').removeClass(\'btn-active__blue\')\n        \$(this).addClass(\'btn-active__blue\')\n        \$(\'.container_telephone_select--js\').find(\'input\').val(\$(this).val())\n        \$(\'.redactor_condition-match-selection\').removeClass(\'hidden\')\n        rerenderForm(\$(\'.redactor_condition-select_telephone__input\').val(), \"telephone\")\n\n    })\n    \$(\'.other_integrations_select_item--js\').off(\'click\').on(\'click\', function () {\n        \$(\'.other_integrations_select_item--js\').removeClass(\'btn-active__blue\')\n        \$(this).addClass(\'btn-active__blue\')\n        \$(\'.container_other_integrations_select--js\').find(\'input\').val(\$(this).val())\n        \$(\'.redactor_condition-match-selection\').removeClass(\'hidden\')\n        rerenderForm(\$(\'.redactor_condition-select_other_integrations__input\').val(), \"otherIntegrations\")\n\n    })\n\n    let mainBlock = document.querySelector(\'.ui-resizable\');\n    let modalBlock = \$(\'.redactor_condition_constructor_modal\')[0]\n    function updatePosition() {\n        modalBlock.style.right = 10 + mainBlock.offsetWidth + \'px\';\n        adaptiveCreateButtonsField()\n    }\n    let resizeObserver = new ResizeObserver(updatePosition);\n    resizeObserver.observe(mainBlock);\n\n    if (\"5\" !== \'5\') {\n        \$(\'.select_salebot_conditions--js\').find(\'.conditions_select_sb_item--js\').map((index, item) => {\n            if (\$(item).val() === \"translations\") \$(item).remove()\n            if (\$(item).val() === \"courses\") \$(item).remove()\n        })\n        \$(\'.container_pay_systems_select--js\').find(\'.pay_systems_select_item--js\').map((index, item) => {\n            if (\$(item).val() === \"prodamus\") \$(item).remove()\n        })\n    }\n\n    \$(\'.reductor-conditions-no-collbacks\').find(\'.mass-select-checkbox\').off().on(\'input\', function () {\n        \$(\'.reductor-conditions-no-collbacks\').find(\'.mass-select-checkbox\').prop(\'checked\', \$(this).is(\':checked\'))\n    })\n\n\n    \$(\'.redactor_condition-input_select_bot\').find(\'li\').map((index, item) => {\n        let main_block = \$(item).find(\'span\');\n        let botType = \'\';\n\n        main_block.map((index, item) => {\n            \$(item).find(\'img\').remove()\n        })\n\n        \$(\'.selected_bot\').each((i, bot) => {\n            if (main_block.text() === \$(bot).text()) {\n                if (\$(bot).hasClass(\'online_chat-bot\')) {\n                    botType = \'online_chat\';\n                } else if (\$(bot).hasClass(\'whatsapp_bot-bot\')) {\n                    botType = \'whatsapp\';\n                } else if (\$(bot).hasClass(\'vk_group-bot\')) {\n                    botType = \'vk_group\';\n                } else if (\$(bot).hasClass(\'telegram_bot-bot\')) {\n                    botType = \'telegram\';\n                } else if (\$(bot).hasClass(\'fb_bot-bot\')) {\n                    botType = \'facebook\';\n                } else if (\$(bot).hasClass(\'avito_bots-bot\')) {\n                    botType = \'avito\';\n                } else if (\$(bot).hasClass(\'viber_bot-bot\')) {\n                    botType = \'viber\';\n                } else if (\$(bot).hasClass(\'ok_bot-bot\')) {\n                    botType = \'ok\';\n                } else if (\$(bot).hasClass(\'white_instagram_bot-bot\')) {\n                    botType = \'instagram\';\n                } else if (\$(bot).hasClass(\'youla_bot-bot\')) {\n                    botType = \'youla\';\n                } else if (\$(bot).hasClass(\'email_bot-bot\')) {\n                    botType = \'email\';\n                }\n            }\n        });\n\n        switch (botType) {\n            case \'online_chat\':\n                main_block.prepend(\'<img src=\"/images/icon/icon-onlinechat.svg\"/>\');\n                main_block.find(\'img\').css(\"background-color\", \"#1a53c6\");\n                break;\n            case \'whatsapp\':\n                main_block.prepend(\'<img src=\"/images/icon/icon-whatsapp.svg\"/>\');\n                main_block.find(\'img\').css(\"background-color\", \"#25d366\");\n                break;\n            case \'vk_group\':\n                main_block.prepend(\'<img src=\"/images/icon/icon_vk_group.svg\"/>\');\n                main_block.find(\'img\').css(\"background-color\", \"#4680c2\");\n                break;\n            case \'telegram\':\n                main_block.prepend(\'<img src=\"/images/icon/icon-telegram.svg\"/>\');\n                main_block.find(\'img\').css(\"background-color\", \"#2da4d7\");\n                break;\n            case \'facebook\':\n                main_block.prepend(\'<img src=\"/images/icon/icon-facebook.svg\"/>\');\n                main_block.find(\'img\').css(\"background-color\", \"#3b5998\");\n                break;\n            case \'avito\':\n                main_block.prepend(\'<img src=\"/images/icon/icon-avito.svg\"/>\');\n                main_block.find(\'img\').css(\"background-color\", \"#97cf26\");\n                break;\n            case \'viber\':\n                main_block.prepend(\'<img src=\"/images/icon/icon-viber.svg\"/>\');\n                main_block.find(\'img\').css(\"background-color\", \"#7f4da0\");\n                break;\n            case \'ok\':\n                main_block.prepend(\'<img src=\"/images/icon/icon-ok.svg\"/>\');\n                main_block.find(\'img\').css(\"background-color\", \"#f68634\");\n                break;\n            case \'instagram\':\n                main_block.prepend(\'<img src=\"/images/icon/icon-instagram.svg\"/>\');\n                main_block.find(\'img\').css(\"background-color\", \"#FC0CBC\");\n                break;\n            case \'youla\':\n                main_block.prepend(\'<img src=\"/images/icon/icon-youla.svg\"/>\');\n                main_block.find(\'img\').css(\"background-color\", \"#4680c2\");\n                break;\n            case \'email\':\n                main_block.prepend(\'<img src=\"/images/icon/email.png\"/>\');\n                main_block.find(\'img\').css(\"background-color\", \"#4680c2\");\n                break;\n\n        }\n\n        main_block.css(\"display\", \"flex\")\n        main_block.css(\"align-items\", \"center\")\n        main_block.css(\"gap\", \"6px\")\n        main_block.find(\'img\').css(\"margin\", \"0\")\n        main_block.find(\'img\').css(\"border-radius\", \"50%\")\n        main_block.find(\'img\').css(\"display\", \"flex\")\n        main_block.find(\'img\').css(\"height\", \"20px\")\n        main_block.find(\'img\').css(\"width\", \"20px\")\n    })\n    if (\$(\'.redactor_condition-input_select_bot\').find(\'li\').length === 0) {\n        \$(\'.redactor_condition-input_select_bot\').find(\'input\').attr(\'placeholder\', \"У вас нет подключенных каналов\")\n        \$(\'.redactor_condition-input_select_bot\').find(\'input\').attr(\'disabled\', true)\n        \$(\'.redactor_condition-input_select_bot\').addClass(\'main-select--disabled\')\n        \$(\'.redactor_condition-input_select_bot\').find(\'.select-wrapper\').addClass(\'no-after\')\n    }\n}, 1000)\n\n\nfunction setWhatsAppApi () {\n    let whatsapp_api_type = \$(\'.redactor_condition-whatsapp_api_type\')\n    let whatsapp_api_url = \$(\'.redactor_condition-whatsapp_api_url\')\n\n    let api_key = \"{api_key}\"\n\n    let whatsapp_api_url_value = [\n        \`https://chatter.salebot.pro/api/#\${api_key}/callback\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/vk_callback\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/whatsapp_callback\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/ok_callback\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/tg_callback\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/send_callback_by_platform_id\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/email_callback\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/message\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/whatsapp_message\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/broadcast\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/get_history?client_id=\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/clear_history?client_id=\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/assign_to_user\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/load_clients\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/add_to_list\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/remove_from_list\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/get_clients\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/subscribers\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/vk_subscribers\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/save_variables\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/get_variables?client_id=\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/find_client_id_by_platform_id\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/online_chat_client_id?recipient=\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/whatsapp_client_id?phone=\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/find_client_id_by_phone?phone=\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/find_client_id_by_email?email=\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/find_client_id_by_var?var=&val=\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/find_latest_client_id_by_var?var=&val=\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/find_all_client_id_by_var?var=&val=\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/find_all_client_id_by_several_vars?\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/find_clients\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/get_current_order_id\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/get_orders\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/move_order_to_next_state\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/get_order_vars\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/set_order_vars\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/create_order\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/set_order_state\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/get_order_state\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/check_whatsapp\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/connected_channels\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/get_messages\`\n    ];\n\n\n    let whatsapp_api_url_text = [\n        \"Запуск бота\",\n        \"Запуск бота по идентификатору пользователя ВКонтакте\",\n        \"Запуск бота по номеру WhatsApp\",\n        \"Запуск бота по идентификатору пользователя Одноклассников\",\n        \"Запуск бота по идентификатору Telegram\",\n        \"Отправка Callback-сообщений списку клиентов по platform_id\",\n        \"Отправка callback-сообщения email-клиенту\",\n        \"Отправка сообщения клиенту\",\n        \"Отправка сообщения в Whatsapp\",\n        \"Массовая отправка сообщений\",\n        \"Получение истории сообщений\",\n        \"Очистить историю сообщений\",\n        \"Определение клиента сотруднику\",\n        \"Загрузка клиентов в систему\",\n        \"Добавить клиентов в список\",\n        \"Удалить клиентов из списка\",\n        \"Получение списка клиентов\",\n        \"Получение списка подписчиков на бота в любом мессенджере\",\n        \"Получение списка подписчиков на бота Вконтакте\",\n        \"Присвоение переменных\",\n        \"Получение переменных\",\n        \"Получение client_id по значению platform_id\",\n        \"Получить id клиента из Онлайн-чата\",\n        \"Получение client_id по номеру Whatsapp\",\n        \"Получение client_id по номеру телефона\",\n        \"Получение client_id по email\",\n        \"Получение client_id по значению переменной\",\n        \"Получение id последнего созданного клиента по значению переменной\",\n        \"Получение списка client_id по значению переменной\",\n        \"Получение списка client_id по значениям нескольких переменных\",\n        \"Поиск по переменным\",\n        \"Получение идентификатора текущей сделки\",\n        \"Получение списка сделок\",\n        \"Перемещение сделки на следующее по порядку состояние воронки Salebot\",\n        \"Получение данных сделки\",\n        \"Добавление переменных сделки\",\n        \"Создание сделки\",\n        \"Перенос сделки в состояние SalebotCRM\",\n        \"Получения id состояния воронки в SalebotСRM\",\n        \"Проверка, есть ли Whatsapp на номере телефона\",\n        \"Получить список подключенных мессенджеров к проекту\",\n        \"Получение списка блоков из схемы бота\",\n    ]\n\n    whatsapp_api_type.append(\`<option value=\"0\" class=\"select_channels_item--js btn-dashed-white--xxs flex-grow\">GET<\/option>\`)\n    whatsapp_api_type.append(\`<option value=\"1\" class=\"select_channels_item--js btn-dashed-white--xxs flex-grow\">POST-data<\/option>\`)\n    whatsapp_api_type.append(\`<option value=\"2\" class=\"select_channels_item--js btn-dashed-white--xxs flex-grow\">POST-json<\/option>\`)\n    whatsapp_api_type.append(\`<option value=\"3\" class=\"select_channels_item--js btn-dashed-white--xxs flex-grow\">PATCH-json<\/option>\`)\n    whatsapp_api_type.append(\`<option value=\"4\" class=\"select_channels_item--js btn-dashed-white--xxs flex-grow\">PUT-json<\/option>\`)\n    whatsapp_api_type.append(\`<option value=\"5\" class=\"select_channels_item--js btn-dashed-white--xxs flex-grow\">DELETE-json<\/option>\`)\n\n    for (let i = 0; i < whatsapp_api_url_text.length; i++) {\n        whatsapp_api_url.append(\`<option value=\"\${whatsapp_api_url_value[i]}\" class=\"select_channels_item--js btn-dashed-white--xxs flex-grow\">\${whatsapp_api_url_text[i]} (\${whatsapp_api_url_value[i]})<\/option>\`)\n    }\n}\nsetWhatsAppApi()\n\n\n\$(\'.container-conditions-settings_vars_vals_container__add\').off(\'click\').on(\'click\', function () {\n    cloneVariables()\n})\nfunction addEventClickOnConditionVariables () {\n    \$(\'.container_salebot_conditions_variables__delete_variable\').off(\'click\').on(\'click\', function () {\n      \$(this).closest(\'.container_salebot_conditions_variables__container\').remove()\n      if (\$(\'.container_salebot_conditions_variables__container\').length === 1) {\n          \$(\'.container-conditions-settings-expressions\').css(\"margin-right\", \"52px\")\n          \$(\'.container_salebot_conditions_variables__container\').css(\"margin-right\", \"0px\")\n          \$(\'.container_salebot_conditions_variables__container\').find(\'.container-conditions-settings-expressions_2\').removeClass(\'hidden\')\n      }\n        updateVariablesPreviewInput()\n    })\n    \$(\'.container_salebot_conditions_variables__variable_sign_selected\').off(\'click\').on(\'click\', function () {\n        let main = \$(this).closest(\'.container_salebot_conditions_variables__variable_sign_input\')\n        main.find(\'.container_salebot_conditions_variables__variable_sign_collection\').removeClass(\'hidden\')\n        updateVariablesPreviewInput()\n    })\n\n    \$(\'.container_salebot_conditions_variables__variable_sign_item\').off(\'click\').on(\'click\', function () {\n        let main = \$(this).closest(\'.container_salebot_conditions_variables__variable_sign_input\')\n        main.find(\'.container_salebot_conditions_variables__variable_sign_collection\').addClass(\'hidden\')\n        main.find(\'.container_salebot_conditions_variables__variable_sign_selected\').text(\$(this).text())\n        updateVariablesPreviewInput()\n    })\n    \$(\'.container-conditions-settings-expressions__radio\').off(\'click\').on(\'click\', function () {\n        let main = \$(this).closest(\'.container-conditions-settings-expressions\')\n        main.find(\'.container-conditions-settings-expressions__radio\').removeClass(\'container-conditions-settings-expressions__radio--active\')\n        \$(this).addClass(\'container-conditions-settings-expressions__radio--active\')\n        updateVariablesPreviewInput()\n    })\n\n    \$(\'.container_salebot_conditions_variables__variable_name_input\').on(\'input\', function () {\n        updateVariablesPreviewInput()\n    })\n\n    \$(\'.container_salebot_conditions_variables__variable_value_input\').on(\'input\', function () {\n        updateVariablesPreviewInput()\n    })\n}\naddEventClickOnConditionVariables()\n\n\$(\'.selection_of_conditions_item--js\').off(\'click\').on(\'click\', function () {\n    \$(\'.selection_of_conditions_item--js\').removeClass(\'btn-active__blue\')\n    \$(\'.redactor_condition-match-selection\').addClass(\'hidden\')\n    \$(\'.reductor-conditions-no-collbacks\').addClass(\'hidden\')\n    \$(this).addClass(\'btn-active__blue\')\n    \$(\'.condition_container--js\').addClass(\'hidden\')\n    setOpenConditionsFunctions ()\n    if (\$(this).hasClass(\'condition_1--js\')) {\n      \$(\'.salebot_conditions--js\').removeClass(\'hidden\')\n      if (\$(\'.redactor_condition_constructor_modal_container\').find(\'.conditions_select_sb_item--js.btn-active__blue\').length > 0) \$(\'.redactor_condition-match-selection\').removeClass(\'hidden\')\n      \$(\'.conditions_select_sb_item--js.btn-active__blue\').map((index, item) => {\n          if (\$(item).val() === \"variables\") {\n              \$(\'.container_salebot_conditions_variables\').removeClass(\'hidden\')\n              setCurrentVariables()\n          }\n          if (\$(item).val() === \"defaultConditions\") {\n              \$(\'.reductor-conditions-no-collbacks\').removeClass(\'hidden\')\n          }\n          if (\$(item).val() === \"crm\") {\n              \$(\'.redactor_condition-match-selection\').addClass(\'hidden\')\n          }\n          if (\$(item).val() === \"clients\") {\n              \$(\'.redactor_condition-match-selection\').addClass(\'hidden\')\n          }\n          if (\$(item).val() === \"test_window\") {\n              \$(\'.redactor_condition-match-selection\').addClass(\'hidden\')\n          }\n          if (\$(item).val() === \"bot\") {\n              \$(\'.redactor_condition-match-selection\').addClass(\'hidden\')\n          }\n      })\n    } else if (\$(this).hasClass(\'condition_2--js\')) {\n        \$(\'.redactor_condition_constructor_modal_container__channels\').removeClass(\'hidden\')\n        if (\$(\'.redactor_condition_constructor_modal_container\').find(\'.select_channels_item--js.btn-active__blue\').length > 0) \$(\'.redactor_condition-match-selection\').removeClass(\'hidden\')\n        \$(\'.integrationIsNotConnected\').addClass(\'hidden\')\n        \$(\'.select_channels_item--js.btn-active__blue\').map((index, item) => {\n            checkConnectedIntegrations(\$(item).val())\n        })\n        \$(\'#redactor_condition-match-selection\').val(\'1\')\n        \$(\'#redactor_condition-match-selection\').formSelect()\n    } else if (\$(this).hasClass(\'condition_3--js\')) {\n        \$(\'.redactor_condition_constructor_modal_container__pay_systems\').removeClass(\'hidden\')\n        if (\$(\'.redactor_condition_constructor_modal_container\').find(\'.pay_systems_select_item--js.btn-active__blue\').length > 0) \$(\'.redactor_condition-match-selection\').removeClass(\'hidden\')\n        \$(\'.integrationIsNotConnected\').addClass(\'hidden\')\n        \$(\'.pay_systems_select_item--js.btn-active__blue\').map((index, item) => {\n            checkConnectedIntegrations(\$(item).val())\n        })\n    } else if (\$(this).hasClass(\'condition_5--js\')) {\n        \$(\'.redactor_condition_constructor_modal_container__telephone\').removeClass(\'hidden\')\n        if (\$(\'.redactor_condition_constructor_modal_container\').find(\'.telephone_select_item--js.btn-active__blue\').length > 0) \$(\'.redactor_condition-match-selection\').removeClass(\'hidden\')\n        \$(\'.integrationIsNotConnected\').addClass(\'hidden\')\n        \$(\'.telephone_select_item--js.btn-active__blue\').map((index, item) => {\n            checkConnectedIntegrations(\$(item).val())\n        })\n    } else if (\$(this).hasClass(\'condition_6--js\')) {\n        \$(\'.redactor_condition_constructor_modal_container__other_integrations\').removeClass(\'hidden\')\n        if (\$(\'.redactor_condition_constructor_modal_container\').find(\'.other_integrations_select_item--js.btn-active__blue\').length > 0) \$(\'.redactor_condition-match-selection\').removeClass(\'hidden\')\n        \$(\'.integrationIsNotConnected\').addClass(\'hidden\')\n        \$(\'.other_integrations_select_item--js.btn-active__blue\').map((index, item) => {\n            checkConnectedIntegrations(\$(item).val())\n        })\n    }\n})\n\$(\'.redactor_condition_constructor_modal_header__close--js\').off(\'click\').on(\'click\', function () {\n    \$(\'.redactor_condition_constructor_modal\').addClass(\'hidden\')\n    \$(\'.reductor-conditions-no-collbacks\').addClass(\'hidden\')\n})\n\nfunction getMethodHTML(label) {\n    return \`\n          <div class=\"redactor_condition-input_container redactor_condition-input_container_mathod\">\n            <div class=\"redactor_condition-label\">\${label}<\/div>\n            <input class=\"redactor_condition-input redactor_condition-method_text\"/>\n          <\/div>\n        \`\n}\n\nfunction getInputHTML(key, label, placeholder = \"\") {\n    if (placeholder !== \'\') {\n        placeholder = \'#{name}\'\n    }\n    return \`\n          <div class=\"redactor_condition-input_container redactor_condition-input_container_variable\">\n            <div class=\"redactor_condition-label\">\${label}<\/div>\n            <input value=\"\${key}\" class=\"redactor_condition-input redactor_condition-input_variable_function hidden\"/>\n            <input placeholder=\"\${placeholder}\" class=\"redactor_condition-input redactor_condition-input_variable\"/>\n          <\/div>\n        \`\n}\n\nvar connectedIntegrations = {\n    \"instagram\": false,\n    \"telegram\": false,\n    \"vk\": false,\n    \"cloudpayments\": false,\n    \"walletpay\": false,\n    \"paykeeper\": false,\n    \"mandarin\": false,\n    \"allpay\": false,\n    \"bepaid\": false,\n    \"prodamus\": false,\n    \"yandex_kassa\": false,\n    \"paypall\": false,\n    \"life_pay\": false,\n    \"paybox\": false,\n    \"sberbank\": false,\n    \"webpay\": false,\n    // \"lava\": false,\n    \"coinpayments\": false,\n    \"tinkoff_credit\": false,\n    \"tinkoff\": false,\n    \"yandex_money\": false,\n    \"payonline\": false,\n    \"wayforpay\": false,\n    \"inxy\": false,\n    // \"fondy\": false,\n    \"stripe\": false,\n    // \"paynow\": false,\n    \"payselection\": false,\n    \"amo_chat\": false,\n    \"iptelefon\": false,\n    \"zadarma\": false,\n    \"mango\": false,\n    \"zvonobot\": false,\n    \"uiscom\": false,\n    \"telhpin\": false,\n    \"onlinepbx\": false,\n    \"google_form\": false,\n    \"email_bot\": false,\n    \"bizon\": false,\n    \"sipuni\": false,\n    \"bitrix\": false,\n    \"getcourse\": false,\n}\nvar secretsKeysForPayers = {\n    \"cloudpayments\": false,\n    \"walletpay\": false,\n    \"paykeeper\": false,\n    \"mandarin\": false,\n    \"prodamus\": false,\n    \"yandex_kassa\": false,\n    \"allpay\": false,\n    \"bepaid\": false,\n    \"paypall\": false,\n    \"life_pay\": false,\n    \"paybox\": false,\n    \"sberbank\": false,\n    \"webpay\": false,\n    // \"lava\": false,\n    \"coinpayments\": false,\n    \"tinkoff_credit\": false,\n    \"tinkoff\": false,\n    \"yandex_money\": false,\n    \"payonline\": false,\n    \"wayforpay\": false,\n    \"inxy\": false,\n    // \"fondy\": false,\n    \"stripe\": false,\n    // \"paynow\": false,\n    \"payselection\": false,\n}\n\nfunction setSecretsKeysForPayers () {\n    if(\"true\" === \"false\") secretsKeysForPayers[\"cloudpayments\"] = \"\"\n    if(\"true\" === \"false\") secretsKeysForPayers[\"walletpay\"] = \"\"\n    if(\"true\" === \"false\") secretsKeysForPayers[\"paykeeper\"] = \"\"\n    if(\"true\" === \"false\") secretsKeysForPayers[\"mandarin\"] = \"\"\n    if(\"true\" === \"false\") secretsKeysForPayers[\"prodamus\"] = \"\"\n    if(\"true\" === \"false\") secretsKeysForPayers[\"yandex_kassa\"] = \"\"\n    if(\"true\" === \"false\") secretsKeysForPayers[\"allpay\"] = \"\"\n    if(\"true\" === \"false\") secretsKeysForPayers[\"bepaid_secret_key\"] = \"\"\n    if(\"true\" === \"false\") secretsKeysForPayers[\"paypall\"] = \"\"\n    if(\"true\" === \"false\") secretsKeysForPayers[\"life_pay\"] = \"\"\n    if(\"true\" === \"false\") secretsKeysForPayers[\"sberbank\"] = \"\"\n    if(\"true\" === \"false\") secretsKeysForPayers[\"coinpayments\"] = \"\"\n    if(\"true\" === \"false\") secretsKeysForPayers[\"tinkoff_credit\"] = \"\"\n    if(\"true\" === \"false\") secretsKeysForPayers[\"tinkoff\"] = \"\"\n    if(\"true\" === \"false\") secretsKeysForPayers[\"yandex_money\"] = \"\"\n    if(\"true\" === \"false\") secretsKeysForPayers[\"payonline\"] = \"\"\n    if(\"true\" === \"false\") secretsKeysForPayers[\"wayforpay\"] = \"\"\n    if(\"true\" === \"false\") secretsKeysForPayers[\"inxy\"] = \"\"\n    if(\"true\" === \"false\") secretsKeysForPayers[\"stripe\"] = \"\"\n    if(\"true\" === \"false\") secretsKeysForPayers[\"payselection\"] = \"\"\n}\nsetSecretsKeysForPayers()\nfunction checkConnectedIntegrations(integration) {\n    \$(\'.integrationIsNotConnected\').addClass(\'hidden\')\n    connectedIntegrations[\"instagram\"] = true\n    connectedIntegrations[\"telegram\"] = true\n    connectedIntegrations[\"vk\"] = true\n\n    if (\"false\" === \"true\") connectedIntegrations[\"cloudpayments\"] = true\n    if (\"false\" === \"true\") connectedIntegrations[\"walletpay\"] = true\n    if (\"false\" === \"true\") connectedIntegrations[\"paykeeper\"] = true\n    if (\"false\" === \"true\") connectedIntegrations[\"mandarin\"] = true\n    if (\"false\" === \"true\") connectedIntegrations[\"yandex_kassa\"] = true\n    if (\"false\" === \"true\") connectedIntegrations[\"prodamus\"] = true\n    if (\"false\" === \"true\") connectedIntegrations[\"allpay\"] = true\n    if (\"false\" === \"true\") connectedIntegrations[\"bepaid\"] = true\n    if (\"false\" === \"true\") connectedIntegrations[\"paypall\"] = true\n    if (\"false\" === \"true\") connectedIntegrations[\"life_pay\"] = true\n    if (\"false\" === \"true\") connectedIntegrations[\"paybox\"] = true\n    if (\"false\" === \"true\") connectedIntegrations[\"sberbank\"] = true\n    if (\"false\" === \"true\") connectedIntegrations[\"webpay\"] = true\n    if (\"false\" === \"true\") connectedIntegrations[\"coinpayments\"] = true\n    if (\"false\" === \"true\") connectedIntegrations[\"tinkoff_credit\"] = true\n    if (\"false\" === \"true\") connectedIntegrations[\"tinkoff\"] = true\n    if (\"false\" === \"true\") connectedIntegrations[\"yandex_money\"] = true\n    if (\"false\" && \"false\" === \"true\") connectedIntegrations[\"payonline\"] = true\n    if (\"false\" === \"true\") connectedIntegrations[\"wayforpay\"] = true\n    if (\"false\" === \"true\") connectedIntegrations[\"inxy\"] = true\n    // if (\"false\" === \"true\") connectedIntegrations[\"fondy\"] = true\n    if (\"false\" === \"true\") connectedIntegrations[\"stripe\"] = true\n    if (\"false\" === \"true\") connectedIntegrations[\"payselection\"] = true\n\n    if (\"false\" === \"true\") connectedIntegrations[\"amo_chat\"] = true\n\n    if (\"false\" && \"false\" === \"true\") connectedIntegrations[\"iptelefon\"] = true\n    if (\"false\" && \"false\" === \"true\") connectedIntegrations[\"zadarma\"] = true\n    if (\"false\" && \"false\" === \"true\") connectedIntegrations[\"mango\"] = true\n    if (\"false\" && \"false\" === \"true\") connectedIntegrations[\"zvonobot\"] = true\n    if (\"#{has_telephony_connect?|\" && \"false\" === \"true\") connectedIntegrations[\"uiscom\"] = true\n    if (\"#{has_telephony_connect?|\" && \"false\" === \"true\") connectedIntegrations[\"telhpin\"] = true\n    if (\"#{has_telephony_connect?|\" && \"false\" === \"true\") connectedIntegrations[\"onlinepbx\"] = true\n\n    connectedIntegrations[\"google_form\"] = true\n    connectedIntegrations[\"email_bot\"] = true\n    connectedIntegrations[\"bizon\"] = true\n    connectedIntegrations[\"sipuni\"] = true\n    connectedIntegrations[\"bitrix\"] = true\n    connectedIntegrations[\"getcourse\"] = true\n    Object.entries(connectedIntegrations).map(([key, value]) => {\n        if (key === integration) {\n            \$(\'.redactor_condition-input_container_inputs\').removeClass(\'hidden\')\n            if (value) {\n                \$(\'.integrationIsNotConnected\').addClass(\'hidden\')\n                \$(\'.redactor_condition_accept\').removeClass(\'hidden\')\n                \$(\'.redactor_condition_constructor_replace_condition\').removeClass(\'hidden\')\n                Object.keys(secretsKeysForPayers).map((key) => {\n                    if (integration === key) {\n                        setTimeout(function () {\n                            pasteSecretKey(integration)\n                        }, 0)\n\n                    }\n                })\n            } else {\n                \$(\'.integrationIsNotConnected\').removeClass(\'hidden\')\n                \$(\'.redactor_condition-input_container\').addClass(\'hidden\')\n                \$(\'.redactor_condition-input_container_inputs\').addClass(\'hidden\')\n                \$(\'.redactor_condition-match-selection\').addClass(\'hidden\')\n                \$(\'.redactor_condition_accept\').addClass(\'hidden\')\n                \$(\'.redactor_condition_constructor_replace_condition\').addClass(\'hidden\')\n                console.log(\$(\'.redactor_condition-match-selection\'))\n            }\n        }\n    })\n}\n\nfunction pasteSecretKey (integration) {\n    console.log(\"pasteSecretKey\")\n    if (integration === \"mandarin\") {\n        \$(\'.redactor_condition-input_container_variable\').find(\'input\').map((index, item) => {\n            if (\$(item).val() === \"prefix\") {\n                console.log(\$(item).next().val(secretsKeysForPayers[\`\${integration}\`]))\n            }\n        })\n    } else {\n        \$(\'.redactor_condition-input_container_variable\').find(\'input\').map((index, item) => {\n            if (\$(item).val() === \"key\") {\n                console.log(\$(item).next().val(secretsKeysForPayers[\`\${integration}\`]))\n            }\n        })\n    }\n\n}\n\nfunction updateVariablesPreviewInput () {\n    let textarea = \$(\'.container_salebot_conditions_variables__textarea\')\n    let full_variables = \`\`\n    \$(\'.container_salebot_conditions_variables__container\').map((index, item) => {\n        let name = \$(item).find(\'.container_salebot_conditions_variables__variable_name_input\').val()\n        let sign = \$(item).find(\'.container_salebot_conditions_variables__variable_sign_selected\').text()\n        let value = \$(item).find(\'.container_salebot_conditions_variables__variable_value_input\').val()\n        let varOrVal = \$(item).find(\'.select-wrapper\').find(\'input\').last().val()\n        if (isNaN(value)) {\n            if (varOrVal === \'Значение\') {\n                value = \'\"\' + value + \'\"\';\n            }\n        }\n        if (\$(item).find(\'.container-conditions-settings-expressions__or_and_and\').hasClass(\'hidden\')) {\n            full_variables += \`\${name} \${sign} \${value}\`\n        } else {\n            let expression\n            let expression_input = \$(item).find(\'.container-conditions-settings-expressions__radio--active\').find(\'input\').val()\n            if (expression_input === \"AND\") {\n                expression = \"&&\"\n            } else {\n                expression = \"||\"\n            }\n            full_variables += \` \${expression} \${name} \${sign} \${value}\`\n        }\n\n    })\n    let group_variables = \`\`\n    \$(\'.container-conditions-group__item\').map((index, item) => {\n      let name = \$(item).find(\'.container-conditions-group__title_input\').val()\n      let sign = \$(item).find(\'.container-conditions-group__sign\').text()\n      let value = \$(item).find(\'.container-conditions-group__value_input\').val()\n      if (index > 0) {\n          group_variables += \` or \${name} \${sign} \${value}\`\n      } else {\n          group_variables += \`\${name} \${sign} \${value}\`\n      }\n\n    })\n    let previewText = \'\'\n    if (group_variables === \'\' || group_variables.length < 5) {\n        if (full_variables.length < 5) {\n            previewText = \'\'\n        } else {\n            previewText = full_variables\n        }\n    } else {\n        previewText = \`(\${full_variables}) and (\${group_variables})\`\n    }\n\n    textarea.val(previewText)\n}\n\n\n\$(\'.redactor_condition-input_select_bot\').on(\"change\", function () {\n    let checkbox_list = \$(\'.selected_bot__checkbox-list\')\n    if (checkbox_list.hasClass(\'hidden\')) {\n          checkbox_list.removeClass(\'hidden\')\n    } else {\n        let main = checkbox_list.find(\'.selected_bot__checkbox-list__item\').first()\n        let paste = checkbox_list.find(\'.selected_bot__checkbox-list__item\').last()\n        let clone = main.clone(true)\n        paste.after(clone)\n    }\n    \$(\'.selected_bot__checkbox-list__item_delete\').off(\'click\').on(\'click\', function () {\n        if (\$(\'.selected_bot__checkbox-list__item\').length > 1) {\n            \$(this).closest(\'.selected_bot__checkbox-list__item\').remove()\n        } else {\n            \$(this).closest(\'.selected_bot__checkbox-list\').addClass(\'hidden\')\n        }\n    })\n    \$(\'.selected_bot__checkbox-list__item\').last().find(\'.selected_bot__checkbox-list__item_text\').text(\$(this).find(\'input\').val())\n    \$(this).find(\'input\').val(\'\')\n})\n\nfunction setCurrentVariables () {\n    let currentVariables = \$(\'#message_compare_variable\').val();\n    let variablesContent = \$(\'.container_salebot_conditions_variables\');\n    let conditionSelection = \$(\'.redactor_condition-match-selection\');\n\n    variablesContent.find(\'.container_salebot_conditions_variables__container\').map((index, item) => {\n        if (index > 0) {\n            \$(item).remove();\n        }\n    });\n    \$(\'.container-conditions-group__item\').map((index, item) => {\n        if (index > 0) {\n            \$(item).remove()\n        }\n    })\n    conditionSelection.addClass(\'hidden\');\n    console.log(\"currentVariables - \", currentVariables);\n\n    if (currentVariables !== \"\") {\n        let tokens = currentVariables.match(/\\(|\\)|[\\wа-я]+|==|!=|>=?|<=?|\\|\\||&&|\"[^\"]*\"|\\d+/gi);\n        console.log(\"tokens = \", tokens);\n\n        let currentVariablesArray = [];\n        let currentGroupsArray = [];\n\n        let groupFlag = false\n        let groupFlagCounter = 0\n        let deleteGroupAnd = false\n        for (let i = 0; i < tokens.length; i++) {\n            if (tokens[i] === \"group\"  || tokens[i] === \"online_chat_id\") {\n                if (!deleteGroupAnd) {\n                    deleteGroupAnd = true\n                    currentVariablesArray.pop()\n                }\n                groupFlag = true\n            }\n            if (groupFlag) {\n                currentGroupsArray.push(tokens[i]);\n                groupFlagCounter++\n                if (groupFlagCounter > 3) {\n                    groupFlag = false\n                    groupFlagCounter = 0\n                }\n            } else {\n                if (tokens[i] !== \"(\" && tokens[i] !== \")\") {\n                    currentVariablesArray.push(tokens[i]);\n                }\n            }\n        }\n\n        if (currentGroupsArray[currentGroupsArray.length - 1] === \")\") currentGroupsArray.pop()\n        console.log(\"currentVariablesArray - \", currentVariablesArray);\n\n        for (let i = 0; i < currentVariablesArray.length; i++) {\n            console.log(\"!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! - \", currentVariablesArray[i])\n            let currentContent = variablesContent.find(\'.container_salebot_conditions_variables__container\').last()\n            let andValue\n            let orValue\n            let varOrValue = currentContent.find(\'.select-wrapper\').find(\'input\').last()\n            let nameValue = currentContent.find(\'.container_salebot_conditions_variables__variable_name_input\')\n            let valValue = currentContent.find(\'.container_salebot_conditions_variables__variable_value_input\')\n            let signValue = currentContent.find(\'.container_salebot_conditions_variables__variable_sign_selected\')\n            let signs = [\'==\',\'!=\',\'>\',\'>=\',\'<\',\'<=\']\n            signs.map((item) => {\n                if (currentVariablesArray[i] === item) {\n                    nameValue.val(currentVariablesArray[i-1])\n                    signValue.text(currentVariablesArray[i])\n                    if (currentVariablesArray[i+1].includes(\"\\\"\")) {\n                        varOrValue.val(\"Значение\")\n                        valValue.val(currentVariablesArray[i+1].slice(1,-1))\n                    } else {\n                        varOrValue.val(\"Переменная\")\n                        valValue.val(currentVariablesArray[i+1])\n                    }\n                }\n            })\n            if (currentVariablesArray[i] === \'&&\' || currentVariablesArray[i] === \'and\' || currentVariablesArray[i] === \'AND\') {\n                cloneVariables()\n                let newContent = variablesContent.find(\'.container_salebot_conditions_variables__container\').last()\n                newContent.find(\'.container-conditions-settings-expressions__radio\').removeClass(\'container-conditions-settings-expressions__radio--active\')\n                newContent.find(\'.container-conditions-settings-expressions__radio\').map((index, item) => {\n                    if (\$(item).find(\'input\').val() === \"AND\") {\n                        andValue = \$(item)\n                    }\n                })\n                andValue.addClass(\'container-conditions-settings-expressions__radio--active\')\n            }\n            if (currentVariablesArray[i] === \'||\' || currentVariablesArray[i] === \'or\' || currentVariablesArray[i] === \'OR\') {\n                cloneVariables()\n                let newContent = variablesContent.find(\'.container_salebot_conditions_variables__container\').last()\n                newContent.find(\'.container-conditions-settings-expressions__radio\').removeClass(\'container-conditions-settings-expressions__radio--active\')\n                newContent.find(\'.container-conditions-settings-expressions__radio\').map((index, item) => {\n                    if (\$(item).find(\'input\').val() === \"OR\") {\n                        orValue = \$(item)\n                    }\n                })\n                orValue.addClass(\'container-conditions-settings-expressions__radio--active\')\n            }\n        }\n        console.log(\"currentGroupsArray = \", currentGroupsArray)\n        if (currentGroupsArray.length > 0) {\n            let main = \$(\'.container-conditions-group-container\')\n            main.removeClass(\'hidden\')\n            for (let i = 0; i < currentGroupsArray.length; i++) {\n                let item = main.find(\'.container-conditions-group__item\').last()\n                if (currentGroupsArray[i] === \"group\") {\n                    item.find(\'.container-conditions-group__title_input\').val(\"group\")\n                } else if (currentGroupsArray[i] === \"online_chat_id\") {\n                    item.find(\'.container-conditions-group__title_input\').val(\"online_chat_id\")\n                } else {\n                    if (currentGroupsArray[i] !== \"==\" && currentGroupsArray[i] !== \'or\' && currentGroupsArray[i] !== \'||\') {\n                        item.find(\'.container-conditions-group__value_input\').val(currentGroupsArray[i])\n                        cloneGroupVariables()\n                    }\n                }\n            }\n            \$(\'.container-conditions-group__item\').last().remove()\n        }\n    }\n    checkCurrentVariablesPosition()\n    updateVariablesPreviewInput()\n}\n\nfunction cloneVariables() {\n    let main = \$(\'.container_salebot_conditions_variables__container\').first()\n    let paste = \$(\'.container_salebot_conditions_variables__container\').last()\n    main.find(\'.container_salebot_conditions_variables__container__component\').css(\"margin-right\", \"0px\")\n    main.css(\"margin-right\", \"0px\")\n    let clone = main.clone(true)\n    if (main.find(\'.container-conditions-settings-expressions__or_and_and\').hasClass(\'hidden\')) {\n        main.css(\"margin-right\", \"52px\")\n    } else {\n        main.find(\'.container_salebot_conditions_variables__container__component\').css(\"margin-right\", \"52px\")\n    }\n    main.find(\'.container-conditions-settings-expressions\').css(\"margin-right\", \"0px\")\n    main.find(\'.container-conditions-settings-expressions_2\').addClass(\'hidden\')\n    paste.find(\'.container-conditions-settings-expressions_2\').addClass(\'hidden\')\n    clone.find(\'.container-conditions-settings-expressions_2\').removeClass(\'hidden\')\n    clone.find(\'.container-conditions-settings-expressions\').css(\"margin-right\", \"52px\")\n\n    clone.css(\"margin-right\", \"0px\")\n    clone.find(\'.container_salebot_conditions_variables__delete_variable\').removeClass(\'hidden\')\n    clone.find(\'.container_salebot_conditions_variables__variable_name_input\').val(\'\')\n    clone.find(\'.container_salebot_conditions_variables__variable_value_input\').val(\'\')\n    clone.find(\'.container_salebot_conditions_variables__variable_sign_selected\').text(\'==\')\n    clone.find(\'.container-conditions-settings-expressions__or_and_and\').removeClass(\'hidden\')\n    clone.find(\'.select-wrapper\').find(\'input\').val(\'\')\n    paste.after(clone)\n    clone.find(\'select\').formSelect();\n    addEventClickOnConditionVariables()\n    updateVariablesPreviewInput()\n}\n\nfunction cloneGroupVariables () {\n    let main = \$(\'.container-conditions-group__item\').first()\n    let paste = \$(\'.container-conditions-group__item\').last()\n    let clone = main.clone(true)\n    paste.after(clone)\n    deleteGroupVariable()\n    updateVariablesPreviewInput()\n}\n\nfunction deleteGroupVariable () {\n    \$(\'.container-conditions-group__delete\').off(\'click\').on(\'click\', function () {\n        \$(this).closest(\'.container-conditions-group__item\').remove()\n        updateVariablesPreviewInput()\n    })\n}\n\n\n\$(\".redactor_condition_button--js\").click(function () {\n    let redactorConditionConstructorModal = \$(\'.redactor_condition_constructor_modal\')\n    redactorConditionConstructorModal.removeClass(\'hidden\')\n\n    redactorConditionConstructorModal.find(\'.redactor_condition_constructor_modal_nav\').removeClass(\'hidden\')\n    redactorConditionConstructorModal.find(\'.redactor_condition_constructor_modal_container\').removeClass(\'hidden\')\n\n    let mainContainer = \$(\'.redactor_condition_constructor_modal_container\')\n    mainContainer.find(\'.conditions_select_sb_item--js\').removeClass(\'btn-active__blue\')\n    mainContainer.find(\'.select_channels_item--js\').removeClass(\'btn-active__blue\')\n    mainContainer.find(\'.pay_systems_select_item--js\').removeClass(\'btn-active__blue\')\n    mainContainer.find(\'.telephone_select_item--js\').removeClass(\'btn-active__blue\')\n    mainContainer.find(\'.other_integrations_select_item--js\').removeClass(\'btn-active__blue\')\n    mainContainer.find(\".redactor_condition-input_container_inputs\").html(\"\")\n    mainContainer.find(\".redactor_condition-input_container_methods\").addClass(\'hidden\')\n    mainContainer.find(\".redactor_condition-input_container_mathod\").remove()\n    mainContainer.find(\".redactor_condition-match-selection\").addClass(\'hidden\')\n    mainContainer.find(\".redactor_condition-input_crm\").addClass(\'hidden\')\n    mainContainer.find(\".redactor_condition-input_clients-container\").addClass(\'hidden\')\n    mainContainer.find(\'.redactor_condition-input_whatsapp_api_url\').addClass(\'hidden\')\n    mainContainer.find(\'.redactor_condition-input_whatsapp_api_type\').addClass(\'hidden\')\n    mainContainer.find(\".redactor_condition-match-selection-select\").val(\$(\'#message_comparision_method\').val())\n    mainContainer.find(\'.redactor_condition-match-selection-select\').formSelect()\n    mainContainer.find(\".container_salebot_conditions_variables__container\").map((index, item) => {\n        if (index > 0) {\n            \$(item).remove()\n        } else {\n            \$(item).css(\"margin-right\", \"0px\")\n        }\n    })\n    if (\$(\'#message_compare_variable\').val() !== \"\") {\n        mainContainer.find(\".container_salebot_conditions_variables\").removeClass(\'hidden\')\n        \$(\'.conditions_select_sb_item--js\').map((index,item) => {\n            if (\$(item).val() === \"variables\") {\n                \$(item).addClass(\'btn-active__blue\')\n                setCurrentVariables()\n            }\n        })\n    } else {\n        mainContainer.find(\".container_salebot_conditions_variables\").addClass(\'hidden\')\n    }\n\n    \$(\'.redactor_condition-input_default-container\').addClass(\'hidden\')\n    \$(\'.redactor_condition-input_test_window-container\').addClass(\'hidden\')\n    \$(\'.redactor_condition-input_default\').val(\'\')\n\n    createCurrentConditions()\n    removeConditionButtonEvent()\n    rerenderForm()\n    setOpenConditionsFunctions ()\n\n    let conditions_container = redactorConditionConstructorModal.find(\'.conditions-container\')\n\n    if (conditions_container.find(\'.conditions-container__item\').length === 1) {\n        if (conditions_container.find(\'.conditions-container__item\').hasClass(\'hidden\')) {\n            conditions_container.addClass(\'hidden\')\n            \$(\'.toggle-conditions-container--js\').addClass(\'display-none\')\n        } else {\n            conditions_container.removeClass(\'hidden\')\n            \$(\'.toggle-conditions-container--js\').removeClass(\'display-none\')\n        }\n    }\n\n    if ((\$(document).width() - \$(\"#editor\").width()) < 960) {\n        redactorConditionConstructorModal.css(\"width\", \"100%\")\n        redactorConditionConstructorModal.css(\"max-width\", \"90%\")\n        redactorConditionConstructorModal.css(\"z-index\", \"15\")\n        redactorConditionConstructorModal.css(\"left\", \"5%\")\n    } else {\n        redactorConditionConstructorModal.css(\"width\", \"650px\")\n        redactorConditionConstructorModal.css(\"max-width\", \"unset\")\n        redactorConditionConstructorModal.css(\"z-index\", \"15\")\n        redactorConditionConstructorModal.css(\"left\", \"unset\")\n    }\n})\n\nfunction createCurrentConditions () {\n    let currentConditionsText = \$(\'#message_condition\').val()\n    let currentConditions = []\n    let conditions_container = \$(\'.conditions-container\')\n\n    if (currentConditionsText.includes(\';\')) {\n        currentConditions = currentConditionsText.split(\';\');\n    } else {\n        currentConditions = [currentConditionsText]\n    }\n\n    conditions_container.find(\'.conditions-container__item\').map((index, item) => {\n        if (index > 0) {\n            \$(item).remove()\n        } else {\n            \$(item).addClass(\'hidden\')\n        }\n    })\n\n    if (currentConditions[0] !== \'\') {\n        for (let i = 0; i < currentConditions.length; i++) {\n            let current_condition = conditions_container.find(\'.conditions-container__item\').last()\n            current_condition.removeClass(\'hidden\')\n            current_condition.addClass(\'conditions-container__item--true\')\n            current_condition.find(\'.conditions-container__item__name\').text(currentConditions[i])\n            let clone = current_condition.clone(true)\n            current_condition.after(clone)\n        }\n        conditions_container.find(\'.conditions-container__item\').last().remove()\n    }\n}\n\nfunction setOpenConditionsFunctions () {\n    let mainContainer = \$(\'.redactor_condition_constructor_modal_container\')\n    let countOpen = 0\n    \$(\'.redactor_condition_accept\').removeClass(\'hidden\')\n    \$(\'.redactor_condition_constructor_replace_condition\').removeClass(\'hidden\')\n    \$(\'.selection_of_conditions_item--js\').map((index, item) => {\n        if (\$(item).hasClass(\'btn-active__blue\')) {\n            if (\$(item).hasClass(\'condition_1--js\')) {\n                countOpen = mainContainer.find(\'.conditions_select_sb_item--js.btn-active__blue\').length\n            } else if (\$(item).hasClass(\'condition_2--js\')) {\n                countOpen = mainContainer.find(\'.select_channels_item--js.btn-active__blue\').length\n            } else if (\$(item).hasClass(\'condition_3--js\')) {\n                countOpen = mainContainer.find(\'.pay_systems_select_item--js.btn-active__blue\').length\n            } else if (\$(item).hasClass(\'condition_5--js\')) {\n                countOpen = mainContainer.find(\'.telephone_select_item--js.btn-active__blue\').length\n            } else if (\$(item).hasClass(\'condition_6--js\')) {\n                countOpen = mainContainer.find(\'.other_integrations_select_item--js.btn-active__blue\').length\n            }\n            if (countOpen === 0) {\n                \$(\'.redactor_condition_accept\').addClass(\'hidden\')\n                \$(\'.redactor_condition_constructor_replace_condition\').addClass(\'hidden\')\n            }\n        }\n    })\n\n}\n//vrode norm\n\nfunction getWhatsAppApi () {\n    console.log(\"getWhatsAppApi\")\n    \$(\'.setting_buttons_item_settings\').addClass(\'btn-active__blue\')\n    \$(\'#settings_part\').css(\"display\", \"block\")\n    \$(\'#url_part\').css(\"display\", \"block\")\n    m_request_type.val(\$(\'.redactor_condition-whatsapp_api_type\').val())\n    m_request_type.formSelect()\n    let message_action_url = \$(\'#message_action_url\')\n    message_action_url.val(\$(\'.redactor_condition-whatsapp_api_url\').val())\n}\n\nfunction saveSelectedBot() {\n    console.log(\$(\'.redactor_condition-input_select_bot\').find(\'input\').val())\n\n    let bot_selected = []\n\n    \$(\'.selected_bot__checkbox-list__item\').map((index, item) => {\n        bot_selected[index] = \$(item).find(\'.selected_bot__checkbox-list__item_text\').text()\n    })\n\n    let botText = \`\`\n\n    for (let i = 0; i < bot_selected.length; i++) {\n        let isOnlineChat = false;\n        \$(\'.selected_bot\').map((index, item) => {\n            if (bot_selected[i] === \$(item).text()) {\n                if (\$(item).hasClass(\'online_chat-bot\')) isOnlineChat = true;\n            }\n        });\n        if (i > 0) botText += \` or \`\n        if (isOnlineChat) {\n            botText += \`online_chat_id == \"\${bot_selected[i]}\"\`;\n        } else {\n            botText += \`group == \"\${bot_selected[i]}\"\`;\n        }\n    }\n\n    if (botText !== \'\') {\n        let vars_input = \$(\'#message_compare_variable\');\n        let current_vars = vars_input.val();\n        if (current_vars === \'\') {\n            vars_input.val(botText);\n        } else {\n            let current_vars_text = vars_input.val();\n            let final_vars_text = \`\${current_vars_text} or \${botText}\`;\n            vars_input.val(final_vars_text);\n        }\n    }\n    checkCurrentVariablesPosition();\n}\n\nfunction checkCurrentVariablesPosition() {\n    let vars_input = \$(\'#message_compare_variable\');\n    let current_vars_text = vars_input.val();\n\n    let normalConditions = [];\n    let specialConditions = [];\n\n    if (current_vars_text === \'\') return\n    console.log(current_vars_text)\n    let flagIsGroup = false\n    let groupCounter = 0\n    let specialConditionsCount = 0\n\n    const regExp = /[\\(\\)]/g;\n\n    function removeBrackets(match) {\n        return match.replace(/\\s*\\(\\s*/g, \'\').replace(/\\s*\\)\\s*/g, \'\');\n    }\n\n    let new_current_vars_text = current_vars_text.replace(regExp, removeBrackets);\n\n\n    new_current_vars_text.split(\' \').forEach(condition => {\n        condition = condition.trim();\n\n        if (condition !== \' \' && condition !== \"\") {\n            if (condition.includes(\'group\') || condition.includes(\'online_chat_id\') || condition.includes(\'platform_id\')) {\n                flagIsGroup = true\n                specialConditionsCount++\n            }\n\n            if (flagIsGroup) {\n                specialConditions.push(condition);\n                groupCounter++\n            } else {\n                normalConditions.push(condition);\n            }\n\n            if (groupCounter >= 3) {\n                flagIsGroup = false\n                groupCounter = 0\n            }\n        }\n     });\n\n    for (let i = specialConditionsCount; i > 0; i--) {\n        normalConditions.pop()\n    }\n\n    let final_vars_text = \`\`\n    if (normalConditions.length === 0) {\n        for (let i = 0; i < specialConditions.length; i++) {\n            final_vars_text += \`\${specialConditions[i]} \`\n            if ((i + 1) % 3 === 0 && (specialConditions.length - i) > 2) {\n                final_vars_text += \' or \'\n            }\n        }\n    } else {\n        final_vars_text = \`(\`;\n\n        for (let i = 0; i < normalConditions.length; i++) {\n            final_vars_text += \`\${normalConditions[i]} \`\n        }\n\n        final_vars_text += \') and (\'\n\n        for (let i = 0; i < specialConditions.length; i++) {\n            final_vars_text += \`\${specialConditions[i]} \`\n            if ((i + 1) % 3 === 0 && (specialConditions.length - i) > 2) {\n                final_vars_text += \' or \'\n            }\n        }\n\n        final_vars_text += \')\'\n    }\n\n    vars_input.val(final_vars_text);\n}\n\nfunction setCurrentTaskMatchSelection () {\n    let match_selection = \'1\'\n    if (\$(\'.redactor_condition-input_variable\').val() !== \'\') {\n        match_selection = \'2\'\n    }\n    \$(\'#message_comparision_method\').val(match_selection)\n    \$(\'#message_comparision_method\').formSelect()\n}\n\n\n\$(\".redactor_condition_accept\").click(function () {\n    let container\n    let variables_container = \$(\'.container_salebot_conditions_variables\')\n    \$(\'.condition_container--js\').map((index, item) => {\n        if (!\$(item).hasClass(\'hidden\')) {\n            container = \$(item)\n        }\n    })\n    if (variables_container.hasClass(\'hidden\')) {\n        let variables = container.find(\".redactor_condition-input_container_variable\")\n        if (variables.length > 0) {\n            let text = container.find(\".redactor_condition-select_action\").val()\n            variables.each(function () {\n                let variable = \$(this).find(\".redactor_condition-input_variable_function\").val()\n                let value = \$(this).find(\".redactor_condition-input_variable\").val()\n                text = text.replace(\`{\${variable}}\`, value)\n            })\n            console.log(\"text 1 - \", text)\n            let current_text = \$(\"#message_condition\").val()\n            if (current_text === \"#{none}\") current_text = \"\"\n            let final_text = text\n            if (current_text !== \'\') {\n                final_text = \`\${current_text};\${text}\`\n            }\n            if (text === null) {\n                final_text = \"#{none}\"\n            }\n            \$(\"#message_condition\").val(final_text)\n        } else {\n            let final_text = \"\"\n            let salebotConditions = \$(\'.conditions_select_sb_item--js.btn-active__blue\')\n            if (salebotConditions.length > 0 && salebotConditions.val() === \"defaultConditions\") {\n                let no_callback = \$(\'.reductor-conditions-no-collbacks\')\n                let text_no_callback = \"\"\n                if (no_callback.find(\'.mass-select-checkbox\').prop(\'checked\') === true) {\n                    text_no_callback = \"message_from_outside != 3\"\n                }\n                let defaultText = \$(\'.redactor_condition-input_default\').val()\n                let current_text = \$(\"#message_condition\").val()\n                if (current_text === \"#{none}\") current_text = \"\"\n                final_text = defaultText\n                if (current_text !== \'\') {\n                    final_text = \`\${current_text};\${defaultText}\`\n                }\n                if (defaultText === null) {\n                    final_text = \"#{none}\"\n                }\n                if (text_no_callback !== \'\') {\n                    if (final_text !== \'\') {\n                        final_text = \`\${final_text}; \${text_no_callback}\`\n                    } else {\n                        final_text = \`\${text_no_callback}\`\n                    }\n\n                }\n                console.log(\"final_text - \", final_text)\n            } else if (salebotConditions.length > 0 && salebotConditions.val() === \"bot\") {\n                saveSelectedBot()\n                final_text = \$(\"#message_condition\").val()\n            } else if (salebotConditions.length > 0 && salebotConditions.val() === \"crm\") {\n                let defaultText = saveSalebotCRM()\n                let current_text = \$(\"#message_condition\").val()\n                if (current_text === \"#{none}\") current_text = \"\"\n                final_text = defaultText\n                if (current_text !== \'\') {\n                    final_text = \`\${current_text};\${defaultText}\`\n                }\n                if (defaultText === null) {\n                    final_text = \"#{none}\"\n                }\n            } else if (salebotConditions.length > 0 && salebotConditions.val() === \"clients\") {\n                let defaultText = saveSalebotClients()\n                let current_text = \$(\"#message_condition\").val()\n                if (current_text === \"#{none}\") current_text = \"\"\n                final_text = defaultText\n                if (current_text !== \'\') {\n                    final_text = \`\${current_text};\${defaultText}\`\n                }\n                if (defaultText === null) {\n                    final_text = \"#{none}\"\n                }\n            } else if (salebotConditions.length > 0 && salebotConditions.val() === \"test_window\") {\n                let defaultText = \`platform_id == \"test_client_online\"\`\n                let vars_input = \$(\'#message_compare_variable\')\n                let current_vars = vars_input.val()\n                console.log(\"current_vars - \", current_vars)\n                if (current_vars === \'\') {\n                    vars_input.val(defaultText)\n                } else {\n                    let current_vars_text = vars_input.val()\n                    let final_vars_text = \`\${current_vars_text} or \${defaultText}\`\n                    vars_input.val(final_vars_text)\n                }\n                checkCurrentVariablesPosition()\n                final_text = \$(\"#message_condition\").val()\n            } else {\n                if (\$(\'.select_channels_item--jss.btn-active__blue\').val() === \"whatsapp\") {\n                    getWhatsAppApi ()\n                } else {\n                    console.log(\"text 2 - \", container.find(\".redactor_condition-select_action\").val())\n                    let current_text = \$(\"#message_condition\").val()\n                    if (current_text === \"#{none}\") current_text = \"\"\n                    final_text = container.find(\".redactor_condition-select_action\").val()\n                    if (current_text !== \'\') {\n                        final_text = \`\${current_text};\${container.find(\".redactor_condition-select_action\").val()}\`\n                    }\n                    if (container.find(\".redactor_condition-select_action\").val() === null) {\n                        final_text = \"#{none}\"\n                    }\n                    console.log(\"final_text - \", final_text)\n                }\n            }\n\n            console.log(final_text)\n            \$(\"#message_condition\").val(final_text)\n        }\n\n        if (!container.find(\".redactor_condition-input_container_methods_select\").hasClass(\"hidden\")) {\n            let method = container.find(\".redactor_condition-input_container_methods_select\").val()\n            let value = \'\'\n            container.find(\".redactor_condition-method_text\").each(function () {\n                value += \`, \"\${\$(this).val()}\"\`\n            })\n            value = value.replace(\", \", \'\')\n            if (method) {\n                if (calculate_editor.getValue() === \'\') {\n                    calculate_editor.setValue(\`\${method}(\${value})\`)\n                } else {\n                    calculate_editor.setValue(\`\${calculate_editor.getValue()}\\n\${method}(\${value})\`)\n                }\n                \$(\'.setting_buttons_item_calculator\').addClass(\'btn-active__blue\')\n                \$(\'#calculator_part\').css(\"display\", \"block\")\n            }\n\n        }\n    } else {\n        let final_text = \$(\'.container_salebot_conditions_variables__textarea\').val()\n        console.log(\"final_text - \", final_text)\n        \$(\'#message_compare_variable\').val(final_text)\n    }\n\n    if (\$(\'.conditions_select_sb_item--js.btn-active__blue\').val() === \"tasks\") {\n        setCurrentTaskMatchSelection()\n    }\n\n    if (!\$(\'.redactor_condition-match-selection\').hasClass(\'hidden\')) {\n        \$(\'#message_comparision_method\').val(\$(\".redactor_condition-match-selection-select\").val())\n        \$(\'#message_comparision_method\').formSelect()\n    }\n\n    \$(\'.conditions-container\').removeClass(\'hidden\')\n    createCurrentConditions()\n})\n\n\$(\".redactor_condition_constructor_replace_condition\").click(function () {\n    let container\n    let variables_container = \$(\'.container_salebot_conditions_variables\')\n    \$(\'.condition_container--js\').map((index, item) => {\n        if (!\$(item).hasClass(\'hidden\')) {\n            container = \$(item)\n        }\n    })\n    if (variables_container.hasClass(\'hidden\')) {\n\n\n        let variables = container.find(\".redactor_condition-input_container_variable\")\n        if (variables.length > 0) {\n            let text = container.find(\".redactor_condition-select_action\").val()\n            variables.each(function () {\n                let variable = \$(this).find(\".redactor_condition-input_variable_function\").val()\n                let value = \$(this).find(\".redactor_condition-input_variable\").val()\n                text = text.replace(\`{\${variable}}\`, value)\n            })\n            console.log(\"text 1 - \", text)\n            let final_text = text\n            if (text === null) {\n                final_text = \"#{none}\"\n            }\n            \$(\"#message_condition\").val(final_text)\n        } else {\n            if (\$(\'.conditions_select_sb_item--js.btn-active__blue\').val() === \"whatsapp\") {\n                getWhatsAppApi()\n            } else {\n                console.log(\"text 2 - \", container.find(\".redactor_condition-select_action\").val())\n                let final_text = \"\"\n                let salebotConditions = \$(\'.conditions_select_sb_item--js.btn-active__blue\')\n                if (salebotConditions.length > 0 && salebotConditions.val() === \"defaultConditions\") {\n                    let no_callback = \$(\'.reductor-conditions-no-collbacks\')\n                    let text_no_callback = \"\"\n                    if (no_callback.find(\'.mass-select-checkbox\').prop(\'checked\') === true) {\n                        text_no_callback = \"message_from_outside != 3\"\n                    }\n                    let defaultText = \$(\'.redactor_condition-input_default\').val()\n                    final_text = defaultText\n                    if (defaultText === null) {\n                        final_text = \"#{none}\"\n                    }\n                    if (text_no_callback !== \'\') {\n                        if (final_text !== \'\') {\n                            final_text = \`\${final_text}; \${text_no_callback}\`\n                        } else {\n                            final_text = \`\${text_no_callback}\`\n                        }\n\n                    }\n                } else if (salebotConditions.length > 0 && salebotConditions.val() === \"bot\") {\n                    saveSelectedBot()\n                    final_text = \$(\"#message_condition\").val()\n                } else if (salebotConditions.length > 0 && salebotConditions.val() === \"crm\") {\n                    let defaultText = saveSalebotCRM()\n                    final_text = defaultText\n                    if (defaultText === null) {\n                        final_text = \"#{none}\"\n                    }\n                } else if (salebotConditions.length > 0 && salebotConditions.val() === \"clients\") {\n                    let defaultText = saveSalebotClients()\n                    final_text = defaultText\n                    if (defaultText === null) {\n                        final_text = \"#{none}\"\n                    }\n                } else if (salebotConditions.length > 0 && salebotConditions.val() === \"test_window\") {\n                    let defaultText = \`platform_id == \"test_client_online\"\`\n                    let vars_input = \$(\'#message_compare_variable\')\n                    let current_vars = vars_input.val()\n                    console.log(\"current_vars - \", current_vars)\n                    if (current_vars === \'\') {\n                        vars_input.val(defaultText)\n                    } else {\n                        let current_vars_text = vars_input.val()\n                        let final_vars_text = \`\${current_vars_text} or \${defaultText}\`\n                        vars_input.val(final_vars_text)\n                    }\n                    checkCurrentVariablesPosition()\n                    final_text = \$(\"#message_condition\").val()\n                } else {\n                    final_text = container.find(\".redactor_condition-select_action\").val()\n                    if (container.find(\".redactor_condition-select_action\").val() === null) {\n                        final_text = \"#{none}\"\n                    }\n                }\n\n                \$(\"#message_condition\").val(final_text)\n            }\n        }\n\n        if (!container.find(\".redactor_condition-input_container_methods_select\").hasClass(\"hidden\")) {\n            let method = container.find(\".redactor_condition-input_container_methods_select\").val()\n            let value = \'\'\n            container.find(\".redactor_condition-method_text\").each(function () {\n                value += \`, \"\${\$(this).val()}\"\`\n            })\n            value = value.replace(\", \", \'\')\n            if (method) {\n                calculate_editor.setValue(\`\${method}(\${value})\`)\n                \$(\'.setting_buttons_item_calculator\').addClass(\'btn-active__blue\')\n                \$(\'#calculator_part\').css(\"display\", \"block\")\n            }\n        }\n    } else {\n        let final_text = \$(\'.container_salebot_conditions_variables__textarea\').val()\n        console.log(\"final_text - \", final_text)\n        \$(\'#message_compare_variable\').val(final_text)\n        \$(\"#message_condition\").val(\'\')\n    }\n\n    if (\$(\'.conditions_select_sb_item--js.btn-active__blue\').val() === \"tasks\") {\n        setCurrentTaskMatchSelection()\n    }\n\n    if (!\$(\'.redactor_condition-match-selection\').hasClass(\'hidden\')) {\n        \$(\'#message_comparision_method\').val(\$(\".redactor_condition-match-selection-select\").val())\n        \$(\'#message_comparision_method\').formSelect()\n    }\n    \$(\'.conditions-container\').removeClass(\'hidden\')\n    createCurrentConditions()\n})\n\nfunction calculatorRender() {\n    let container\n    \$(\'.condition_container--js\').map((index, item) => {\n        if (!\$(item).hasClass(\'hidden\')) {\n            container = \$(item)\n        }\n    })\n\n    let calculator = container.find(\".redactor_condition-select_action\").find(\`option[value=\"\${container.find(\".redactor_condition-select_action\").val()}\"]\`).attr(\"data-calculatorMethod\")\n    let variables = container.find(\".redactor_condition-select_action\").find(\`option[value=\"\${container.find(\".redactor_condition-select_action\").val()}\"]\`).attr(\"data-variables\")\n    container.find(\".redactor_condition-input_container_methods_select\").html(\'\')\n    container.find(\".redactor_condition-input_container_methods\").addClass(\"hidden\")\n    container.find(\".redactor_condition-input_container_inputs\").html(\"\")\n    if (calculator) {\n        container.find(\".redactor_condition-input_container_methods\").removeClass(\"hidden\")\n        container.find(\'.redactor_condition-input_container_mathod\').remove()\n        calculator = JSON.parse(calculator.replaceAll(\'\\\'\', \'\\\"\'))\n        container.find(\".redactor_condition-input_container_methods_select\").append(\`\n          <option value=\"\"><\/option>\n        \`)\n        if(!Array.isArray(calculator)){\n            let inputLabel = calculator.inputLabel\n            let method = calculator.method\n            let label = calculator.label\n            container.find(\".redactor_condition-input_container_methods_select\").append(\`\n              <option data-inputLabel=\"\${inputLabel ? JSON.stringify(inputLabel).replaceAll(\'\\\"\', \'\\\'\') : \'\'}\" value=\"\${method}\">\${label} (\${method})<\/option>\n            \`)\n        } else {\n            calculator.forEach(function(item){\n                let type = item.type\n                let method = item.method\n                let label = item.label\n                container.find(\".redactor_condition-input_container_methods_select\").append(\`\n                  <option data-type=\"\${type}\" value=\"\${method}\">\${label} (\${method})<\/option>\n                \`)\n            })\n        }\n        container.find(\".redactor_condition-input_container_methods_select\").formSelect()\n        container.find(\".redactor_condition-input_container_methods_select\").on(\"change\", function () {\n            container.find(\'.redactor_condition-input_container_mathod\').remove()\n            let value = \$(this).val()\n            if(value){\n                let inputLabel = container.find(\".redactor_condition-input_container_methods_select\").find(\`option[value=\${value}]\`).attr(\"data-inputLabel\")\n                if (inputLabel) {\n                    inputLabel = JSON.parse(inputLabel.replaceAll(\'\\\'\', \'\\\"\'))\n                    console.log(inputLabel)\n                    if (Array.isArray(inputLabel)) {\n                        inputLabel.forEach(function(elem){\n                            container.find(\".redactor_condition-input_container_methods\").after(getMethodHTML(elem))\n                        })\n                    } else {\n                        container.find(\".redactor_condition-input_container_methods\").after(getMethodHTML(inputLabel))\n                    }\n                }\n            }\n        })\n    }\n    if (variables) {\n        variables = JSON.parse(variables.replaceAll(\'\\\'\', \'\\\"\'))\n        if (!Array.isArray(variables)) {\n            console.log(\"1 - \", variables)\n            let variable_placeholder = \'\'\n            if (variables.placeholder !== undefined) {\n                variable_placeholder = variables.placeholder\n            }\n            let variable_key = variables.key\n            let variable_label = variables.label\n            if (variable_key) {\n                container.find(\".redactor_condition-input_container_inputs\").append(getInputHTML(variable_key, variable_label, variable_placeholder))\n            }\n        } else {\n            variables.forEach(function (item) {\n                let variable_key = item.key\n                let variable_label = item.label\n                if (variable_key) {\n                    container.find(\".redactor_condition-input_container_inputs\").append(getInputHTML(variable_key, variable_label))\n                }\n            })\n        }\n    }\n}\n\nfunction rerenderForm(value = undefined, condition_type = undefined) {\n    console.log(\"rerenderForm rerenderForm rerenderForm rerenderForm rerenderFormrerenderForm \")\n    setOpenConditionsFunctions ()\n    console.log(value)\n    console.log(condition_type)\n    console.log(\"callbacks[condition_type] - \", callbacks[condition_type])\n    if (value === undefined && condition_type === undefined) console.log(\"ERROR\")\n    if(value){\n        let container\n        \$(\'.condition_container--js\').map((index, item) => {\n            if (!\$(item).hasClass(\'hidden\')) {\n                container = \$(item)\n            }\n        })\n        let condition_value = value.toLowerCase()\n        container.find(\".redactor_condition-input_container_chanel\").removeClass(\"hidden\")\n        container.find(\".redactor_condition-select_action\").html(\"\")\n        container.find(\".redactor_condition-input_container_variable\").remove()\n        container.find(\".redactor_condition-input_default-container\").addClass(\'hidden\')\n        container.find(\".redactor_condition-input_test_window-container\").addClass(\'hidden\')\n        container.find(\".redactor_condition-input_select_bot\").addClass(\'hidden\')\n        container.find(\".redactor_condition-input_crm\").addClass(\'hidden\')\n        container.find(\".redactor_condition-input_clients-container\").addClass(\'hidden\')\n        \$(\'.redactor_condition-input_whatsapp_api_url\').addClass(\'hidden\')\n        \$(\'.redactor_condition-input_whatsapp_api_type\').addClass(\'hidden\')\n        \$(\'.container_salebot_conditions_variables\').removeClass(\'hidden\')\n        \$(\'.reductor-conditions-no-collbacks\').addClass(\'hidden\')\n        if (callbacks[condition_type][condition_value] === undefined) {\n            if (value === \"variables\") {\n                \$(\".redactor_condition-input_container_chanel\").addClass(\"hidden\")\n                \$(\'.redactor_condition-input_container_inputs\').html(\'\')\n                container.find(\".redactor_condition-input_container_chanel\").addClass(\"hidden\")\n                \$(\'.container_salebot_conditions_variables__variable_name_input\').val(\'\')\n                \$(\'.container_salebot_conditions_variables__variable_value_input\').val(\'\')\n                \$(\'.container_salebot_conditions_variables__variable_sign_selected\').text(\'==\')\n                \$(\'.redactor_condition-match-selection\').addClass(\'hidden\')\n                setCurrentVariables()\n            }\n            if (value === \"whatsapp\") {\n              \$(\'.redactor_condition-input_whatsapp_api_url\').removeClass(\'hidden\')\n              \$(\'.redactor_condition-input_whatsapp_api_type\').removeClass(\'hidden\')\n              \$(\'.redactor_condition-input_container_chanel\').addClass(\'hidden\')\n              \$(\'.redactor_condition-input_container_inputs\').html(\'\')\n              \$(\'.redactor_condition-input_container_methods\').addClass(\'hidden\')\n              \$(\'.redactor_condition-match-selection\').addClass(\'hidden\')\n              \$(\'.container_salebot_conditions_variables\').addClass(\'hidden\')\n            }\n\n            if (value === \"defaultConditions\") {\n                \$(\'.container_salebot_conditions_variables\').addClass(\'hidden\')\n                container.find(\".redactor_condition-input_container_chanel\").addClass(\'hidden\')\n                container.find(\".redactor_condition-input_default-container\").removeClass(\'hidden\')\n                \$(\'.reductor-conditions-no-collbacks\').removeClass(\'hidden\')\n            }\n            if (value === \"crm\") {\n                \$(\'.container_salebot_conditions_variables\').addClass(\'hidden\')\n                container.find(\".redactor_condition-input_container_chanel\").addClass(\'hidden\')\n                container.find(\".redactor_condition-input_crm\").removeClass(\'hidden\')\n                \$(\'.reductor-conditions-no-collbacks\').addClass(\'hidden\')\n                \$(\'.redactor_condition-match-selection\').addClass(\'hidden\')\n                salebotCRMFunction()\n            }\n            if (value === \"clients\") {\n                \$(\'.container_salebot_conditions_variables\').addClass(\'hidden\')\n                container.find(\".redactor_condition-input_container_chanel\").addClass(\'hidden\')\n                container.find(\'.redactor_condition-input_clients-container\').removeClass(\'hidden\')\n                \$(\'.reductor-conditions-no-collbacks\').addClass(\'hidden\')\n                \$(\'.redactor_condition-match-selection\').addClass(\'hidden\')\n                salebotClientsFunction()\n            }\n            if (value === \"bot\") {\n                \$(\'.container_salebot_conditions_variables\').addClass(\'hidden\')\n                container.find(\".redactor_condition-input_container_chanel\").addClass(\'hidden\')\n                container.find(\".redactor_condition-input_select_bot\").removeClass(\'hidden\')\n                \$(\'.reductor-conditions-no-collbacks\').addClass(\'hidden\')\n                \$(\'.redactor_condition-match-selection\').addClass(\'hidden\')\n            }\n            if (value === \"test_window\") {\n                \$(\".redactor_condition-input_container_chanel\").addClass(\"hidden\")\n                \$(\'.container_salebot_conditions_variables\').addClass(\'hidden\')\n                container.find(\".redactor_condition-input_container_chanel\").addClass(\'hidden\')\n                container.find(\".redactor_condition-input_test_window-container\").removeClass(\'hidden\')\n                \$(\'.redactor_condition-match-selection\').addClass(\'hidden\')\n                \$(\'.reductor-conditions-no-collbacks\').addClass(\'hidden\')\n            }\n        } else {\n            checkConnectedIntegrations(value)\n            \$(\'.redactor_condition-match-selection\').find(\'input\').attr(\'disabled\', false)\n            \$(\'.redactor_condition-match-selection\').removeClass(\'main-select--disabled\')\n            \$(\'.container_salebot_conditions_variables\').addClass(\'hidden\')\n            let actions = callbacks[condition_type][condition_value].actions.action\n            if (!Array.isArray(callbacks[condition_type][condition_value].actions.action)) {\n                actions = [callbacks[condition_type][condition_value].actions.action]\n            }\n            actions.forEach(function (item) {\n                container.find(\".redactor_condition-select_action\").append(\`<option data-variables=\"\${item.variable ? JSON.stringify(item.variable).replaceAll(\'\\\"\', \'\\\'\') : \'\'}\" data-calculatorMethod=\"\${item.calculatorMethod ? JSON.stringify(item.calculatorMethod).replaceAll(\'\\\"\', \'\\\'\') : \'\'}\" value=\"\${item.callback}\">\${item.label} (\${item.callback})<\/option>\`)\n            })\n            container.find(\".redactor_condition-select_action\").formSelect()\n            container.find(\".redactor_condition-select_action\").on(\"change\", calculatorRender)\n            calculatorRender()\n\n            \$(\'.redactor_condition_constructor_modal_container__pay_systems\').find(\'.redactor_condition-input_container_chanel\').find(\'li\').off(\'click\').on(\'click\', function () {\n                Object.keys(secretsKeysForPayers).map((key) => {\n                    if (key === \$(\'.pay_systems_select_item--js.btn-active__blue\').val()) {\n                        pasteSecretKey(key)\n                    }\n                })\n            })\n            if (value === \"tasks\") {\n                \$(\'.redactor_condition-match-selection\').addClass(\'hidden\')\n            }\n        }\n    } else {\n        \$(\".redactor_condition-input_container_chanel\").addClass(\"hidden\")\n        \$(\".redactor_condition-input_container_actions\").addClass(\"hidden\")\n    }\n}\n\n\$(\".redactor_condition-select_chanel\").on(\"change\", rerenderForm)\n\n\n\$(\".redactor_condition_header-destroy\").click(function(){\n    \$(\".redactor_condition_popup\").addClass(\"hidden\")\n})\n\$(\".redactor_condition_popup\").click(function(e){\n    if(!\$(e.target).parents(\".redactor_condition_main\").length && !\$(e.target).hasClass(\"redactor_condition_main\")){\n        \$(\".redactor_condition_popup\").addClass(\"hidden\")\n    }\n})\n\n///////////////////////////////////////////////////////////////////////////////////////// END\nform_change_trigger = false\nvar fileSVG = \`<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M18.25 9.5H14V5.25M8 19.5H16.5C17.6046 19.5 18.5 18.6046 18.5 17.5V9.25L14.25 5H8C6.89543 5 6 5.89543 6 7V17.5C6 18.6046 6.89543 19.5 8 19.5Z\" stroke=\"#626F7F\" stroke-width=\"1.8\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><\/path><\/svg>\`\nvar audioSVG = \`<svg width=\"25\" height=\"24\" viewBox=\"0 0 25 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M10.3 17.25C10.3 18.4926 9.29269 19.5 8.05005 19.5C6.80741 19.5 5.80005 18.4926 5.80005 17.25C5.80005 16.0074 6.80741 15 8.05005 15C9.29269 15 10.3 16.0074 10.3 17.25ZM10.3 17.25V7C10.3 5.89543 11.1954 5 12.3 5H18.3C19.4046 5 20.3 5.89543 20.3 7V14.25M20.3 14.25C20.3 15.4926 19.2927 16.5 18.05 16.5C16.8074 16.5 15.8 15.4926 15.8 14.25C15.8 13.0074 16.8074 12 18.05 12C19.2927 12 20.3 13.0074 20.3 14.25Z\" stroke=\"#626F7F\" stroke-width=\"1.8\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><\/path><\/svg>\`\nvar buttonSpinnerSVG = \`<svg id=\"button_spinner\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.9459 8C15.5281 8 16.0071 7.52605 15.9307 6.94896C15.7751 5.77515 15.3602 4.64591 14.7109 3.64529C13.8696 2.34872 12.6707 1.32364 11.2591 0.693967C9.84758 0.0642966 8.28385 -0.142995 6.75701 0.0971545C5.23016 0.337304 3.80557 1.01461 2.65547 2.04719C1.50537 3.07976 0.679016 4.42339 0.27631 5.91563C-0.126396 7.40786 -0.0882074 8.9848 0.386258 10.4558C0.860724 11.9268 1.75115 13.2288 2.94988 14.2045C3.875 14.9575 4.95316 15.4913 6.10348 15.772C6.66903 15.91 7.19168 15.4846 7.25418 14.9058C7.31669 14.327 6.89347 13.8162 6.33505 13.6517C5.58858 13.4318 4.88961 13.0652 4.28067 12.5695C3.39783 11.851 2.74204 10.892 2.39261 9.80865C2.04317 8.72529 2.01504 7.5639 2.31163 6.46489C2.60822 5.36589 3.21681 4.37633 4.06384 3.61585C4.91087 2.85538 5.96006 2.35655 7.08456 2.17969C8.20905 2.00282 9.36071 2.15549 10.4003 2.61923C11.4399 3.08297 12.3229 3.83793 12.9425 4.79283C13.3699 5.45146 13.6593 6.18576 13.7978 6.95153C13.9014 7.52438 14.3638 8 14.9459 8Z\" fill=\"white\"/><\/svg>\`\nvar part_placeholder = \"<div class=\'part_placeholder\'><\/div>\"\nvar file_selected = false;\n\nvar move_el = false\nvar reg_exp_escaping = new RegExp(/([_\\]\`~>#=()!\\-[{}*+.\$^\\\\|?])/g);\nvar regexp_clear_escaping = new RegExp(/\\\\([_\\]\`~>#=()!\\-[{}*+.\$^\\\\|?])/g);\nvar dropArea = document.getElementById(\"drop_area_message\")\nvar blob_file_list = []\nvar default_value = undefined\nvar emoji_regexp = new RegExp(/<img.+?class=\"emoji-sprite emoji-\\S*\".+?alt=\"(\\S*)\".+?>/g)\nvar div_br_regexp = new RegExp(/<div><br><\\/div>/g)\nvar br_regexp = new RegExp(/<br>/g)\nvar div_regexp = new RegExp(/<div.*?>/g)\nvar font_regexp = new RegExp(/<font.*?>/g)\nvar font_c_regexp = new RegExp(/<\\/font>/g)\nvar div_c_regexp = new RegExp(/<\\/div>/g)\nvar space_regexp = new RegExp(/&nbsp;/g)\nvar span_regexp = new RegExp(/<span.*?>(\\s|.+?)<\\/span>/g)\nvar pre_regexp = new RegExp(/<pre.*?>(.+?)<\\/pre>/g)\nvar reg_paragraph = new RegExp(/¶/g)\nvar form_message = \$(\".simple_form\").find(\'#textbox\');\nvar textbox_placeholder = \$(\".textbox_placeholder\")\nvar m_type = \$(\'#message_message_type\');\nvar m_request_type = \$(\'#message_request_type\');\nvar mc = \$(\'#condition_part\');\nvar mt = \$(\'#time_part\');\nvar mu = \$(\'#url_part\');\nvar m_post_params = \$(\'#message_post_params\');\nvar attachment_type_new_style = \"\"\nvar arr = [\'video\', \'image\', \'audio\'];\nvar messages_types = [\n    \"Состояние диалога\",\n    \"Начало диалога\",\n    \"Передача данных\",\n    \"Конец сбора данных\",\n    \"Первостепенная проверка условия\",\n    \"Напоминание\",\n    \"Не состояние с условием\",\n    \"Не состояние\",\n    \"Комментарий\",\n    \"Описание\"\n]\n\nfunction htmlDecode(input) {\n    var doc = new DOMParser().parseFromString(input, \"text/html\");\n    return doc.documentElement.textContent;\n}\n\nvar timeObj = {\n    \"1\": \"Секунд\",\n    \"60\": \"Минут\",\n    \"3600\": \"Часов\",\n    \"86400\": \"Дней\",\n    \"-1\": \"Месяцев\"\n}\n\n\$(\".help_trigger\").mouseenter(function(){\n    let container = \$(this).parent().find(\".html_help_text\")\n    let text = \$(this).find(\".html_help_text_inner\").html()\n    container.html(text)\n    container.removeClass(\"hidden\")\n    // container.css(\"left\", )\n})\n\$(\".help_trigger\").mouseleave(function(){\n    \$(this).parent().find(\".html_help_text\").addClass(\"hidden\")\n})\n\n\$(\".add_new_list_action\").on(\"click\", function(){\n    \$(this).before(\`<div class=\"action_list\"><div class=\"python_code hidden\"><\/div><div class=\"list_action hidden\"><\/div><div class=\"state_id hidden\"><\/div><div class=\"list_id hidden\"><\/div><div class=\"crm_action hidden\"><\/div><div class=\"budget_val hidden\"><\/div><div class=\"user_id hidden\"><\/div><div class=\"task_name hidden\"><\/div><div class=\"task_description hidden\"><\/div><div class=\"task_priority hidden\"><\/div><div class=\"task_deadline hidden\"><\/div><div class=\"remove_action--js btn-ghost-grey-square--xs ml-a mb--20 pos-relative\" style=\"z-index: 2;\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M7.30298 7.30292C7.59588 7.01003 8.07075 7.01003 8.36364 7.30292L12 10.9393L15.6363 7.30292C15.9292 7.01003 16.4041 7.01003 16.697 7.30292C16.9899 7.59582 16.9899 8.07069 16.697 8.36358L13.0606 11.9999L16.697 15.6363C16.9899 15.9291 16.9899 16.404 16.697 16.6969C16.4041 16.9898 15.9292 16.9898 15.6363 16.6969L12 13.0606L8.36364 16.6969C8.07075 16.9898 7.59588 16.9898 7.30298 16.6969C7.01009 16.404 7.01009 15.9291 7.30298 15.6363L10.9393 11.9999L7.30298 8.36358C7.01009 8.07069 7.01009 7.59582 7.30298 7.30292Z\" fill=\"currentColor\"/>\n<\/svg>\n<\/div><div class=\"label-wrapper mb-8\"><div class=\"new_label\">Действия<\/div><div class=\"dt-tooltip dt-tooltip__dark\"><div class=\"dt-tooltip__icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/help square/i16\">\n<g id=\"Union\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5.62961 3.26665C4.32458 3.26665 3.26665 4.32458 3.26665 5.62961V10.3704C3.26665 11.6754 4.32458 12.7333 5.62961 12.7333H10.3704C11.6754 12.7333 12.7333 11.6754 12.7333 10.3704V5.62961C12.7333 4.32458 11.6754 3.26665 10.3704 3.26665H5.62961ZM2.06665 5.62961C2.06665 3.66184 3.66184 2.06665 5.62961 2.06665H10.3704C12.3381 2.06665 13.9333 3.66184 13.9333 5.62961V10.3704C13.9333 12.3381 12.3381 13.9333 10.3704 13.9333H5.62961C3.66184 13.9333 2.06665 12.3381 2.06665 10.3704V5.62961ZM7.98457 5.02915C9.04817 4.98576 9.95472 5.80067 10.0211 6.86664C10.0219 6.87906 10.0223 6.89149 10.0223 6.90393C10.0223 7.57076 9.66073 8.18517 9.07781 8.50898L8.29144 8.94587C8.00177 9.10681 7.63648 9.00245 7.47555 8.71278C7.31462 8.42311 7.41898 8.05783 7.70865 7.89689L8.49502 7.46C8.69164 7.35079 8.8156 7.14612 8.822 6.92219C8.78649 6.51417 8.43308 6.20595 8.02186 6.22872C8.00253 6.22979 7.98315 6.22992 7.96381 6.22912C7.5847 6.21338 7.24805 6.46965 7.16229 6.83927C7.0874 7.16206 6.765 7.36302 6.44221 7.28813C6.11941 7.21323 5.91845 6.89084 5.99335 6.56804C6.20731 5.64586 7.0409 5.0036 7.98457 5.02915Z\" fill=\"currentColor\"/>\n<path d=\"M8.65952 10.3121C8.65975 10.1369 8.59028 9.96889 8.46642 9.84504C8.34258 9.72119 8.17454 9.65171 7.99938 9.65194C7.63549 9.65241 7.3408 9.94762 7.34096 10.3115C7.34111 10.6754 7.63607 10.9703 7.99995 10.9705C8.36384 10.9707 8.65905 10.676 8.65952 10.3121Z\" fill=\"currentColor\"/>\n<\/g>\n<\/g>\n<\/svg>\n<\/div><div class=\"dt-tooltip__description--bottom\" style=\"transform: translateX(-35%);\"><span>При переходе в блок изменится состояние во внутренней crm-системе<\/span><\/div><\/div><\/div><div class=\"main-select mb-8\"><select class=\"actions_select\"><option value=\"action\">Действие<\/option><option value=\"0\">Переместить по воронке<\/option><option value=\"1\">Добавить в список<\/option><option value=\"2\">Удалить из списка<\/option><option value=\"3\">Переместить в список<\/option><option value=\"4\">Добавить метку<\/option><option value=\"5\">Убрать метку<\/option><option value=\"6\">Выполнить код на Python<\/option><option value=\"7\">Поменять ответственного<\/option><option value=\"8\">Изменить стоимость сделки<\/option><option value=\"9\">Завершить сделку<\/option><option value=\"10\">Создать задачу<\/option><\/select><\/div><div class=\"label-wrapper label_select_main\" style=\"display: none\"><div class=\"new_label\">Выберите метку<\/div><\/div><div class=\"main-select label_select_main label_select_main_ident\" style=\"display: none\"><select class=\"label_select\"><\/select><\/div><div class=\"label-wrapper list_select_main\" style=\"display: none\"><div class=\"new_label\">Выберите список<\/div><\/div><div class=\"main-select list_select_main list_select_main_ident\" style=\"display: none\"><select class=\"list_select\"><\/select><\/div><div class=\"label-wrapper state_select_main\" style=\"display: none\"><div class=\"new_label\">Состояние воронки<\/div><div class=\"dt-tooltip dt-tooltip__dark\"><div class=\"dt-tooltip__icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/help square/i16\">\n<g id=\"Union\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5.62961 3.26665C4.32458 3.26665 3.26665 4.32458 3.26665 5.62961V10.3704C3.26665 11.6754 4.32458 12.7333 5.62961 12.7333H10.3704C11.6754 12.7333 12.7333 11.6754 12.7333 10.3704V5.62961C12.7333 4.32458 11.6754 3.26665 10.3704 3.26665H5.62961ZM2.06665 5.62961C2.06665 3.66184 3.66184 2.06665 5.62961 2.06665H10.3704C12.3381 2.06665 13.9333 3.66184 13.9333 5.62961V10.3704C13.9333 12.3381 12.3381 13.9333 10.3704 13.9333H5.62961C3.66184 13.9333 2.06665 12.3381 2.06665 10.3704V5.62961ZM7.98457 5.02915C9.04817 4.98576 9.95472 5.80067 10.0211 6.86664C10.0219 6.87906 10.0223 6.89149 10.0223 6.90393C10.0223 7.57076 9.66073 8.18517 9.07781 8.50898L8.29144 8.94587C8.00177 9.10681 7.63648 9.00245 7.47555 8.71278C7.31462 8.42311 7.41898 8.05783 7.70865 7.89689L8.49502 7.46C8.69164 7.35079 8.8156 7.14612 8.822 6.92219C8.78649 6.51417 8.43308 6.20595 8.02186 6.22872C8.00253 6.22979 7.98315 6.22992 7.96381 6.22912C7.5847 6.21338 7.24805 6.46965 7.16229 6.83927C7.0874 7.16206 6.765 7.36302 6.44221 7.28813C6.11941 7.21323 5.91845 6.89084 5.99335 6.56804C6.20731 5.64586 7.0409 5.0036 7.98457 5.02915Z\" fill=\"currentColor\"/>\n<path d=\"M8.65952 10.3121C8.65975 10.1369 8.59028 9.96889 8.46642 9.84504C8.34258 9.72119 8.17454 9.65171 7.99938 9.65194C7.63549 9.65241 7.3408 9.94762 7.34096 10.3115C7.34111 10.6754 7.63607 10.9703 7.99995 10.9705C8.36384 10.9707 8.65905 10.676 8.65952 10.3121Z\" fill=\"currentColor\"/>\n<\/g>\n<\/g>\n<\/svg>\n<\/div><div class=\"dt-tooltip__description--bottom\" style=\"transform: translateX(-55%);\"><span>При переходе в блок изменится состояние во внутренней crm-системе<\/span><\/div><\/div><\/div><div class=\"main-select state_select_main state_select_main_ident\" style=\"display: none\"><select class=\"state_select\"><option value=\"65842797\">Ваша первая воронка: Заинтересовались<\/option><option value=\"65842798\">Ваша первая воронка: Стадия переговоров<\/option><option value=\"65842799\">Ваша первая воронка: Коммерческое предложение<\/option><option value=\"65842800\">Ваша первая воронка: Договор/Счет<\/option><option value=\"65842801\">Ваша первая воронка: В работе<\/option><\/select><\/div><div class=\"label-wrapper write_code_select_main\" style=\"display: none\"><\/div><div class=\"main-select write_code_select_main write_cod_select_main_ident\" style=\"display: none\"><div class=\"write_code_file_container\"><div class=\"write_code_file_solo\"><div class=\"btn-outline-white--m write_code_file_pick\"><div class=\"write_code_file_pick__img\"><svg width=\"18\" height=\"16\" viewBox=\"0 0 18 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M10.5869 0.867917C10.9912 0.95788 11.2461 1.35858 11.1561 1.76291L8.3081 14.5629C8.21813 14.9672 7.81743 15.2221 7.41311 15.1321C7.00878 15.0421 6.75394 14.6414 6.8439 14.2371L9.6919 1.43712C9.78187 1.0328 10.1826 0.777955 10.5869 0.867917ZM4.73033 4.26968C5.02322 4.56258 5.02322 5.03745 4.73033 5.33034L2.06066 8.00001L4.73033 10.6697C5.02322 10.9626 5.02322 11.4375 4.73033 11.7303C4.43744 12.0232 3.96256 12.0232 3.66967 11.7303L0.46967 8.53034C0.176777 8.23745 0.176777 7.76258 0.46967 7.46968L3.66967 4.26968C3.96256 3.97679 4.43744 3.97679 4.73033 4.26968ZM13.2697 4.26968C13.5626 3.97679 14.0374 3.97679 14.3303 4.26968L17.5303 7.46968C17.8232 7.76258 17.8232 8.23745 17.5303 8.53034L14.3303 11.7303C14.0374 12.0232 13.5626 12.0232 13.2697 11.7303C12.9768 11.4375 12.9768 10.9626 13.2697 10.6697L15.9393 8.00001L13.2697 5.33034C12.9768 5.03745 12.9768 4.56258 13.2697 4.26968Z\" fill=\"black\"/>\n<\/svg>\n<\/div><div class=\"write_code_file_pick__text\">Редактировать код<\/div><\/div><\/div><\/div><\/div><div class=\"label-wrapper change_responsible_select_main\" style=\"display: none\"><div class=\"new_label\">Выберите ответственного<\/div><\/div><div class=\"main-select change_responsible_select_main\" style=\"display: none\"><select class=\"responsible_select\"><option value=\"357198\"><div class=\"client-responsible__item-avatar\"><img src=\"/no-avatar.png\" /><\/div><div class=\"client-responsible__item-name\">gorseninaolesa920@gmail.com<\/div><\/option><\/select><\/div><div class=\"label-wrapper change_order_cost_select_main\" style=\"display: none\"><div class=\"new_label\">Напишите стоимость сделки<\/div><\/div><div class=\"inputs_container solid-no-icon-p16-m\"><div class=\"inputs_container--main\"><input class=\"change_order_cost_select_main change_order_cost_input no-spinner\" placeholder=\"Стоимость сделки\" style=\"display: none\" type=\"number\" /><\/div><\/div><div class=\"label-wrapper finish_order_select_main\" style=\"display: none\"><div class=\"new_label\">Метод завершения сделки<\/div><\/div><div class=\"main-select finish_order_select_main\" style=\"display: none\"><select class=\"finish_order_select\"><option value=\"delete\">Удалить сделку<\/option><option value=\"failed\">Сделка провалена<\/option><option value=\"success\">Сделка успешна<\/option><option value=\"archive\">Добавить сделку в архив<\/option><\/select><\/div><div class=\"label-wrapper create_task_select_main\" style=\"display: none\"><div class=\"new_label\">Введите название задачи<\/div><\/div><div class=\"inputs_container solid-no-icon-p16-m\"><div class=\"inputs_container--main\"><input class=\"create_task_select_main create_task_name mb-8\" placeholder=\"Название задачи\" style=\"display: none\" /><\/div><\/div><div class=\"label-wrapper create_task_select_main\" style=\"display: none\"><div class=\"new_label\">Укажите приоритет<\/div><\/div><div class=\"main-select mb-8 create_task_select_main\" style=\"display: none\"><select class=\"create_task_priority\"><option value=\"0\">Низкий<\/option><option value=\"1\">Средний<\/option><option value=\"2\">Высокий<\/option><\/select><\/div><div class=\"label-wrapper create_task_select_main\" style=\"display: none\"><div class=\"new_label\">Укажите предельную дату выполнения задачи<\/div><\/div><input autocomplete=\"off\" class=\"create_task_select_main mb-8\" id=\"deadline_date_input\" placeholder=\"Дата выполнения задачи\" style=\"display: none\" type=\"text\" /><div class=\"label-wrapper create_task_select_main\" style=\"display: none\"><div class=\"new_label\">Укажите предельное время выполнения задачи<\/div><\/div><input autocomplete=\"off\" class=\"create_task_select_main mb-8\" id=\"deadline_time_input\" placeholder=\"Время выполнения задачи\" style=\"display: none\" type=\"text\" /><div class=\"label-wrapper create_task_select_main\" style=\"display: none\"><div class=\"new_label\">Напиши описание к задаче<\/div><\/div><div class=\"inputs_container solid-no-icon-p16-m\"><div class=\"inputs_container--main\"><input class=\"create_task_select_main create_task_description mb-8\" placeholder=\"Описание задачи\" style=\"display: none\" /><\/div><\/div><div class=\"label-wrapper create_task_select_main\" style=\"display: none\"><div class=\"new_label\">Выберите ответственного<\/div><\/div><div class=\"main-select create_task_select_main\" style=\"display: none\"><select class=\"responsible_task_select\"><option value=\"357198\"><div class=\"client-responsible__item-avatar\"><img src=\"/no-avatar.png\" /><\/div><div class=\"client-responsible__item-name\">gorseninaolesa920@gmail.com<\/div><\/option><\/select><\/div><\/div>\`)\n    \$(\".main-select select\").formSelect()\n    actionEvents()\n    \$(\'.state_select_main_ident\').searchableFormSelect();\n    \$(\'.list_select_main_ident\').searchableFormSelect();\n    \$(\'.label_select_main_ident\').searchableFormSelect();\n})\n\$(\".action_list\").each(function(){\n    let action_list = \$(this)\n    let arr_each = [\"actions\", \"state\", \"list\", \"label\"]\n    arr_each.forEach(function(item){\n        action_list.find(\`.\${item}_select option\`).each(function () {\n            let findClass = \".\" +(item == \"state\" ? \"state\" : \"list\") + \"_\" + (item == \"actions\" ? \"action\" : \"id\")\n            if (action_list.find(findClass).text() === \$(this).attr(\"value\")) {\n                \$(this).attr(\"selected\", \"true\")\n            }\n        })\n    })\n})\n\nfunction setCrmActions () {\n    let main = \$(\'.action_list\')\n    if (main.length !== 0) {\n        main.map((index, item) => {\n            let action = \$(item).find(\'.list_action\').text()\n            if (action == 7) {\n                \$(item).find(\'.responsible_select\').val(\$(item).find(\'.user_id\').text())\n            } else if (action == 8) {\n                \$(item).find(\'.change_order_cost_input\').val(\$(item).find(\'.budget_val\').text())\n            } else if (action == 9) {\n                \$(item).find(\'.finish_order_select\').val(\$(item).find(\'.crm_action\').text())\n            } else if (action == 10) {\n                setCreateTaskData()\n                \$(item).find(\'.responsible_task_select\').val(\$(item).find(\'.user_id\').text())\n                \$(item).find(\'.create_task_name\').val(\$(item).find(\'.task_name\').text())\n                \$(item).find(\'.create_task_description\').val(\$(item).find(\'.task_description\').text())\n                \$(item).find(\'.create_task_priority\').val(\$(item).find(\'.task_priority\').text())\n                let datePart = \$(\"#deadline_date_input\").val();\n                let timePart = \$(\"#deadline_time_input\").val();\n                let [hours, minutes] = timePart.split(\':\');\n                \$(item).find(\'.deadline_date\').val(datePart);\n                \$(item).find(\'.new-window-task__hour-select\').val(hours);\n                \$(item).find(\'.new-window-task__minutes-select\').val(minutes);\n            }\n        })\n    }\n}\nsetCrmActions()\n\nfunction setCreateTaskData () {\n    \$(\"#deadline_date_input\").date_picker();\n    \$(\"#deadline_time_input\").time_picker();\n    \$(\'select\').formSelect();\n}\n\nfunction set_full_time(date = new Date()) {\n    let date_for_input = String(date.getDate()).padStart(2, \'0\') + \'.\' + String(date.getMonth() + 1).padStart(2, \'0\') + \'.\' + date.getFullYear();\n    let hours = date.getHours() < 10 ? \"0\" + date.getHours() : date.getHours()\n    let minutes = date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes()\n    \$(\'.deadline_date\').val(date_for_input);\n    \$(\'.new-window-task__hour-select\').val(hours);\n    \$(\'.new-window-task__minutes-select\').val(minutes);\n    \$(\'select\').formSelect();\n}\n\n\nvar setActionsValue = function () {\n    if (\$(this).hasClass(\"actions_select\")) {\n        let list_el = \$(this).parents(\".action_list\").find(\".list_select_main\")\n        let state_el = \$(this).parents(\".action_list\").find(\".state_select_main\")\n        let label_el = \$(this).parents(\".action_list\").find(\".label_select_main\")\n        let write_code_el = \$(this).parents(\".action_list\").find(\".write_code_select_main\")\n        let change_responsible_el = \$(this).parents(\".action_list\").find(\'.change_responsible_select_main\')\n        let finish_order_el = \$(this).parents(\".action_list\").find(\'.finish_order_select_main\')\n        let change_order_cost_el = \$(this).parents(\".action_list\").find(\'.change_order_cost_select_main\')\n        let create_task_el = \$(this).parents(\".action_list\").find(\'.create_task_select_main\')\n        if (\$(this).val() != \"action\") {\n            list_el.hide()\n            state_el.hide()\n            label_el.hide()\n            write_code_el.hide()\n            change_responsible_el.hide()\n            finish_order_el.hide()\n            change_order_cost_el.hide()\n            create_task_el.hide()\n            if (\$(this).val() == 0) {\n                state_el.show()\n            } else if (\$(this).val() == 4 || \$(this).val() == 5) {\n                label_el.show()\n            } else if (\$(this).val() == 1 || \$(this).val() == 2 || \$(this).val() == 3) {\n                list_el.show()\n            } else if (\$(this).val() == 6) {\n                write_code_el.show()\n                \$(\'.write_code_file_pick\').off(\'click\').on(\'click\', function () {\n                    python_code = \$(this).closest(\'.action_list\').find(\'.python_code\')\n                    writeCodeOnPythonOpenModal(\$(this).closest(\'.write_code_file_solo\'))\n                })\n            } else if (\$(this).val() == 7) {\n                change_responsible_el.show()\n            } else if (\$(this).val() == 8) {\n                change_order_cost_el.show()\n            } else if (\$(this).val() == 9) {\n                finish_order_el.show()\n            } else if (\$(this).val() == 10) {\n                create_task_el.show()\n                setCreateTaskData()\n            }\n        } else {\n            list_el.hide()\n            state_el.hide()\n            label_el.hide()\n            write_code_el.hide()\n            finish_order_el.hide()\n            change_responsible_el.hide()\n            change_order_cost_el.hide()\n            create_task_el.hide()\n        }\n    }\n    let res = {}\n    let list_actions = []\n    let is_state = false\n    \$(\".action_list\").each(function () {\n        let item = {}\n        let action = \$(this).find(\".actions_select\").val()\n        let state_trigger = false\n        console.log(\" action => \", action)\n        if (action && action != \"action\") {\n          item[\"list_action\"] = action\n          let trigger = true\n          if (action == 0 && \$(this).find(\".state_select\").val()) {\n              \$(\"#message_list_action\").val(null)\n              \$(\"#message_state_id\").val(\$(this).find(\".state_select\").val())\n              is_state = true\n              trigger = false\n              state_trigger = true\n          } else if ((action == 1 || action == 2 || action == 3) && \$(this).find(\".list_select\").val()) {\n              item[\"list_id\"] = \$(this).find(\".list_select\").val()\n          } else if ((action == 4 || action == 5) && \$(this).find(\".label_select\").val()) {\n              item[\"list_id\"] = \$(this).find(\".label_select\").val()\n          } else if (action == 6) {\n              item[\"python_code\"] = \$(this).find(\'.python_code\').text()\n          } else if (action == 7) {\n              item[\"crm_action\"] = \"1\"\n              item[\"user_id\"] = \$(this).find(\'.responsible_select\').val()\n          } else if (action == 8) {\n              item[\"crm_action\"] = \"2\"\n              item[\"budget\"] = \$(this).find(\'.change_order_cost_input\').val()\n          } else if (action == 9) {\n              item[\"crm_action\"] = \"3\"\n              item[\"action\"] = \$(this).find(\".finish_order_select\").val()\n          } else if (action == 10) {\n              item[\"crm_action\"] = \"4\"\n              item[\"user_id\"] = \$(this).find(\'.responsible_task_select\').val()\n              item[\"name\"] = \$(this).find(\'.create_task_name\').val()\n              item[\"description\"] = \$(this).find(\'.create_task_description\').val()\n              item[\"priority\"] = \$(this).find(\'.create_task_priority\').val()\n              item[\"deadline_date\"] = \$(this).find(\'#deadline_date_input\').val()\n              item[\"deadline_time\"] = \$(this).find(\'#deadline_time_input\').val()\n          } else {\n              trigger = false\n          }\n          if (trigger) {\n              list_actions.push(item)\n              res.list_actions = list_actions\n          }\n        }\n        if (!state_trigger) {\n            \$(\"#message_list_action\").val(\"\")\n        }\n    })\n    console.log(\"res - \", JSON.stringify(res))\n    if (!is_state) {\n        \$(\"#message_state_id\").val(\"\")\n    }\n    \$(\"#message_actions_settings\").val(JSON.stringify(res))\n}\n\nvar actionEvents = function(){\n\n    \$(\".label-help-icon\").off(\"mouseenter\")\n    \$(\".label-help-icon\").off(\"mouseleave\")\n    \$(\".label-help-icon\").on(\"mouseenter\", function () {\n        \$(this).find(\'.label-help-description\').show()\n    }).on(\"mouseleave\", function () {\n        \$(this).find(\'.label-help-description\').hide()\n    });\n    \$(\".label-help-description\").on(\"mouseenter\", function () {\n        \$(this).hide()\n    })\n    \$(\".remove_action--js\").off(\"click\")\n    \$(\".remove_action--js\").on(\"click\", function () {\n        \$(this).parent().remove()\n        setActionsValue()\n    })\n    \$(\".actions_select, .list_select, .state_select, .label_select, .responsible_select, .finish_order_select, .change_order_cost_select_main, .create_task_select_main\").off(\"change\")\n    \$(\".actions_select, .list_select, .state_select, .label_select, .responsible_select, .finish_order_select, .change_order_cost_select_main, .create_task_select_main\").on(\"change\", setActionsValue)\n}\nactionEvents()\n\n\n\n\n\ndrawEmojis(\$(\".for_emojis--js\"))\n\n\$(\'.btn_vars_modal\').on(\'mousedown\', function (e) {\n    e.stopPropagation()\n    e.preventDefault()\n})\n\$(\'.btn_vars_modal\').on(\'click\', function (e) {\n    e.stopPropagation()\n    e.preventDefault()\n    let html = \"<div class=\\\"salebot-modal\\\"><div class=\\\"salebot-modal__container\\\"><div class=\\\"modal_header\\\"><div class=\\\"modal_header_title\\\">Вставить переменную<\\/div><div class=\\\"modal_header_close\\\"><\\/div><div class=\\\"close_modal_vars_built_in modal-close btn-ghost-grey-square--m\\\"><svg width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n  <path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M7.30298 7.30292C7.59588 7.01003 8.07075 7.01003 8.36364 7.30292L12 10.9393L15.6363 7.30292C15.9292 7.01003 16.4041 7.01003 16.697 7.30292C16.9899 7.59582 16.9899 8.07069 16.697 8.36358L13.0606 11.9999L16.697 15.6363C16.9899 15.9291 16.9899 16.404 16.697 16.6969C16.4041 16.9898 15.9292 16.9898 15.6363 16.6969L12 13.0606L8.36364 16.6969C8.07075 16.9898 7.59588 16.9898 7.30298 16.6969C7.01009 16.404 7.01009 15.9291 7.30298 15.6363L10.9393 11.9999L7.30298 8.36358C7.01009 8.07069 7.01009 7.59582 7.30298 7.30292Z\\\" fill=\\\"currentColor\\\"/>\\n<\\/svg>\\n<\\/div><\\/div><div class=\\\"modal_body\\\"><div class=\\\"modal_form_box\\\"><div class=\\\"users-vars\\\"><div class=\\\"users-vars__title\\\">Встроенные переменные<\\/div><div class=\\\"users-vars__list users-vars__list--messages\\\"><div class=\\\"users-vars__item users-vars__item--messages\\\"><div class=\\\"users-vars__item-descr users-vars__item-descr--messages\\\"> - внутрь скобок вы можете указать название поля ввода из соединения<\\/div><div class=\\\"users-vars__item-name users-vars__item-name--messages\\\"> #{}<\\/div><\\/div><div class=\\\"users-vars__item users-vars__item--messages\\\"><div class=\\\"users-vars__item-descr users-vars__item-descr--messages\\\"> - токен API. Он передается в вызовах API Salebot<\\/div><div class=\\\"users-vars__item-name users-vars__item-name--messages\\\"> #{api_key}<\\/div><\\/div><div class=\\\"users-vars__item users-vars__item--messages\\\"><div class=\\\"users-vars__item-descr users-vars__item-descr--messages\\\"> - в этой переменной содержится ссылка на вложение<\\/div><div class=\\\"users-vars__item-name users-vars__item-name--messages\\\"> #{attachment_url}<\\/div><\\/div><div class=\\\"users-vars__item users-vars__item--messages\\\"><div class=\\\"users-vars__item-descr users-vars__item-descr--messages\\\"> - url вложений к сообщению пользователя в формате JSON массива<\\/div><div class=\\\"users-vars__item-name users-vars__item-name--messages\\\"> #{attachments}<\\/div><\\/div><div class=\\\"users-vars__item users-vars__item--messages\\\"><div class=\\\"users-vars__item-descr users-vars__item-descr--messages\\\"> - ссылка на аватар пользователя (которая отображается в разделе Клиенты)<\\/div><div class=\\\"users-vars__item-name users-vars__item-name--messages\\\"> #{avatar}<\\/div><\\/div><div class=\\\"users-vars__item users-vars__item--messages\\\"><div class=\\\"users-vars__item-descr users-vars__item-descr--messages\\\"> - id клиента в конструкторе. Он передается в вызовы API.<\\/div><div class=\\\"users-vars__item-name users-vars__item-name--messages\\\"> #{client_id}<\\/div><\\/div><div class=\\\"users-vars__item users-vars__item--messages\\\"><div class=\\\"users-vars__item-descr users-vars__item-descr--messages\\\"> - тип мессенджера, откуда пришел клиент. В переменной просто число.<\\/div><div class=\\\"users-vars__item-name users-vars__item-name--messages\\\"> #{client_type}<\\/div><\\/div><div class=\\\"users-vars__item users-vars__item--messages\\\"><div class=\\\"users-vars__item-descr users-vars__item-descr--messages\\\"> - текущая дата в формате dd.mm.yyyy по часовому поясу проекта<\\/div><div class=\\\"users-vars__item-name users-vars__item-name--messages\\\"> #{current_date}<\\/div><\\/div><div class=\\\"users-vars__item users-vars__item--messages\\\"><div class=\\\"users-vars__item-descr users-vars__item-descr--messages\\\"> - время проекта в формате hh:mm<\\/div><div class=\\\"users-vars__item-name users-vars__item-name--messages\\\"> #{current_time}<\\/div><\\/div><div class=\\\"users-vars__item users-vars__item--messages\\\"><div class=\\\"users-vars__item-descr users-vars__item-descr--messages\\\"> - ответ, полученный с сервера, указанного в поле &quot;URL для ответа с сервера&quot;<\\/div><div class=\\\"users-vars__item-name users-vars__item-name--messages\\\"> #{custom_answer}<\\/div><\\/div><div class=\\\"users-vars__item users-vars__item--messages\\\"><div class=\\\"users-vars__item-descr users-vars__item-descr--messages\\\"> - дата, когда человек был добавлен в бота или написал ему первый раз<\\/div><div class=\\\"users-vars__item-name users-vars__item-name--messages\\\"> #{date_of_creation}<\\/div><\\/div><div class=\\\"users-vars__item users-vars__item--messages\\\"><div class=\\\"users-vars__item-descr users-vars__item-descr--messages\\\"> - имя и фамилия собеседника<\\/div><div class=\\\"users-vars__item-name users-vars__item-name--messages\\\"> #{full_name}<\\/div><\\/div><div class=\\\"users-vars__item users-vars__item--messages\\\"><div class=\\\"users-vars__item-descr users-vars__item-descr--messages\\\"> - бот, к которому привязан клиент (В карточке клиента называется &quot;Привязан к боту&quot;)<\\/div><div class=\\\"users-vars__item-name users-vars__item-name--messages\\\"> #{group}<\\/div><\\/div><div class=\\\"users-vars__item users-vars__item--messages\\\"><div class=\\\"users-vars__item-descr users-vars__item-descr--messages\\\"> - ID основного клиента<\\/div><div class=\\\"users-vars__item-name users-vars__item-name--messages\\\"> #{main_client_id}<\\/div><\\/div><div class=\\\"users-vars__item users-vars__item--messages\\\"><div class=\\\"users-vars__item-descr users-vars__item-descr--messages\\\">- тип входящего сообщения (простое: 0б  API: 1, сторонняя CRM: 2, Callback: 3, телефония: 5)<\\/div><div class=\\\"users-vars__item-name users-vars__item-name--messages\\\"> #{message_from_outside}<\\/div><\\/div><div class=\\\"users-vars__item users-vars__item--messages\\\"><div class=\\\"users-vars__item-descr users-vars__item-descr--messages\\\"> - текущее состояние диалога с клиентом. Идентификатор состояния. По умолчанию NONE.<\\/div><div class=\\\"users-vars__item-name users-vars__item-name--messages\\\"> #{message_id}<\\/div><\\/div><div class=\\\"users-vars__item users-vars__item--messages\\\"><div class=\\\"users-vars__item-descr users-vars__item-descr--messages\\\"> - название мессенджера, откуда пришел клиент<\\/div><div class=\\\"users-vars__item-name users-vars__item-name--messages\\\"> #{messenger}<\\/div><\\/div><div class=\\\"users-vars__item users-vars__item--messages\\\"><div class=\\\"users-vars__item-descr users-vars__item-descr--messages\\\"> - имя собеседника<\\/div><div class=\\\"users-vars__item-name users-vars__item-name--messages\\\"> #{name}<\\/div><\\/div><div class=\\\"users-vars__item users-vars__item--messages\\\"><div class=\\\"users-vars__item-descr users-vars__item-descr--messages\\\"> - завтрашняя дата в формате dd.mm.yyyy. Удобно для отправки сообщения завтра.<\\/div><div class=\\\"users-vars__item-name users-vars__item-name--messages\\\"> #{next_day}<\\/div><\\/div><div class=\\\"users-vars__item users-vars__item--messages\\\"><div class=\\\"users-vars__item-descr users-vars__item-descr--messages\\\"> - проигнорировать сообщение<\\/div><div class=\\\"users-vars__item-name users-vars__item-name--messages\\\"> #{none}<\\/div><\\/div><div class=\\\"users-vars__item users-vars__item--messages\\\"><div class=\\\"users-vars__item-descr users-vars__item-descr--messages\\\"> - содержимое заявки, созданной пользователем<\\/div><div class=\\\"users-vars__item-name users-vars__item-name--messages\\\"> #{order}<\\/div><\\/div><div class=\\\"users-vars__item users-vars__item--messages\\\"><div class=\\\"users-vars__item-descr users-vars__item-descr--messages\\\"> - идентификатор заявки(идентификатор клиента и внутренний идентификатор заявки через дефис)<\\/div><div class=\\\"users-vars__item-name users-vars__item-name--messages\\\"> #{order_id}<\\/div><\\/div><div class=\\\"users-vars__item users-vars__item--messages\\\"><div class=\\\"users-vars__item-descr users-vars__item-descr--messages\\\"> - id клиента в мессенджере.<\\/div><div class=\\\"users-vars__item-name users-vars__item-name--messages\\\"> #{platform_id}<\\/div><\\/div><div class=\\\"users-vars__item users-vars__item--messages\\\"><div class=\\\"users-vars__item-descr users-vars__item-descr--messages\\\"> - сообщение пользователя<\\/div><div class=\\\"users-vars__item-name users-vars__item-name--messages\\\"> #{question}<\\/div><\\/div><div class=\\\"users-vars__item users-vars__item--messages\\\"><div class=\\\"users-vars__item-descr users-vars__item-descr--messages\\\"> - текущий timestamp c учетом милисекунд<\\/div><div class=\\\"users-vars__item-name users-vars__item-name--messages\\\"> #{timestamp}<\\/div><\\/div><div class=\\\"users-vars__item users-vars__item--messages\\\"><div class=\\\"users-vars__item-descr users-vars__item-descr--messages\\\"> - номер Whatsapp, на который написал пользователь (удобно передавать его в поля СРМ, чтобы распределять заявки между менеджерами)<\\/div><div class=\\\"users-vars__item-name users-vars__item-name--messages\\\"> #{wa_bot}<\\/div><\\/div><div class=\\\"users-vars__item users-vars__item--messages\\\"><div class=\\\"users-vars__item-descr users-vars__item-descr--messages\\\"> - день недели в виде числа, понедельник - 1, воскресенье - 7<\\/div><div class=\\\"users-vars__item-name users-vars__item-name--messages\\\"> #{weekday}<\\/div><\\/div><\\/div><\\/div><\\/div><\\/div><\\/div><\\/div><script>\\\$(\\\".users-vars__item\\\").on(\\\"mousedown\\\", function (e) {\\n        e.stopPropagation()\\n        e.preventDefault()\\n    })\\n\\\$(\\\".users-vars__item\\\").on(\\\"click\\\", function (e) {\\n        e.stopPropagation()\\n        e.preventDefault()\\n        insertTextAtCursor(\\\$(this).find(\\\".users-vars__item-name\\\").html())\\n        \\\$(\\\".us_modal\\\").remove()\\n})\\n\\n\\\$(\\\'.close_modal_vars_built_in\\\').on(\\\'click\\\', function (){\\n    \\\$(\\\".us_modal\\\").remove()\\n})<\\/script>\"\n    \$(\"body\").prepend(\`<div class=\"us_modal\">\${html}<\/div>\`)\n})\n\$(\".title_to_change\").click(function(){\n    \$(\".title_to_change\").hide()\n    \$(\".message_description_input\").removeClass(\"hidden\")\n    let text = \"\"\n    if(messages_types.includes(\$(this).text())){\n        text = \$(\"#message_description\").val() || \$(this).text()\n    } else {\n        text = \$(this).text()\n    }\n    \$(\"#message_description\").val(text)\n    document.getElementById(\"message_description\").focus()\n    \$(\"#message_description\").select()\n    // \$(\"#message_description\").\n})\n\$(\"#message_description\").on(\"blur keydown\", function(e){\n    if(e.type === \"blur\" || e.keyCode === 13) {\n        let value = \$(this).val()\n        \$(\".title_to_change\").text(value)\n        \$(\".title_to_change\").show()\n\n        \$(\".message_description_input\").addClass(\"hidden\")\n        if (messages_types.includes(value) || !value) {\n            \$(\".title_to_change\").text(messages_types[parseInt(\$(\"#message_message_type\").val())])\n            \$(this).val(\"\")\n        }\n    }\n})\nvar elToAutoResize = [\n    \$(\'#message_variables\'),\n    \$(\'#body-field\'),\n    \$(\'#message_hint\'),\n    \$(\'#message_buttons\'),\n    \$(\'#message_saved_variables\'),\n    \$(\'#message_headers\')\n]\nelToAutoResize.forEach(function(item){\n    if(item.length){\n        M.textareaAutoResize(item)\n    }\n})\nace.config.set(\'basePath\', \'/js\')\nvar calculate_editor = ace.edit(\"redactor_calculate\");\ncalculate_editor.setOptions({\n    enableLiveAutocompletion: true,\n    enableBasicAutocompletion: true,\n    showGutter: true,\n    fontSize: 15,\n    wrapBehavioursEnabled: true,\n    indentedSoftWrap: false,\n    wrap: \"free\",\n    scrollSpeed: 1,\n    maxLines: 50,\n    minLines: 6,\n    vScrollBarAlwaysVisible: false\n});\n\n\$(\"#time_part\").on(\'click\', function(){\n    \$(\".change_time_container\").show()\n})\n\n\n\$(\"#message_timeout\").on(\"input\", function(){\n    let duration = \$(this).val()\n    let type = timeObj[\$(\"#message_timeout_type\").val().toLocaleString()]\n    \$(\".time_duration\").text(\"Задержка\").append(\`\n         <span> \${duration} <\/span>\n    \`)\n    \$(\".time_type\").text(type)\n    if (duration.length == 0) {\n      \$(\".time_duration\").text(\"translation missing: ru.missing_delay\")\n      \$(\".time_type\").text(\"\")\n    }\n})\n\$(\"#message_timeout_type\").on(\"change\", function(){\n    let duration = \$(\"#message_timeout\").val()\n    let type = timeObj[\$(\"#message_timeout_type\").val().toLocaleString()]\n    \$(\".time_type\").text(type)\n    if (duration.length == 0){\n      \$(\".time_type\").text(\"\")\n    }\n})\n\n\$(\'.header_messages_form_action\').on(\'click\', function () {\n    \$(this).find(\'.header_messages_form_action_container\').toggleClass(\'header_messages_form_action_container--active\')\n})\n\n\$(\'.header_messages_form_action_item--mailing\').on(\'click\', function () {\n    \$(this).find(\'.create_mailing_container\').toggleClass(\'create_mailing_container--active\')\n})\n\n\$(document).off(\'.headerMessages\').on(\'mouseup.headerMessages\', function (e) {\n  var clickTarget = \$(\".header_messages_form_action\");\n  var hideList = \$(\".header_messages_form_action_container\")\n  if (\$(e.target).parents(\".header_messages_form_action_container\").length > 0) {\n    hideList.removeClass(\'header_messages_form_action_container--active\');\n  }\n  if (!clickTarget.is(e.target) && clickTarget.has(e.target).length === 0) {\n    hideList.removeClass(\'header_messages_form_action_container--active\');\n  }\n});\n\n\$(\".hide_part_move\").on(\"mousedown\", function(e){\n    e.stopPropagation()\n    e.preventDefault()\n    move_el = \$(this).parents(\".part_new\")\n    move_el.width(move_el.width())\n    move_el.before(part_placeholder)\n    move_el.css(\"z-index\", \"999999999999999999999999999999\")\n    move_el.css(\"position\", \"fixed\")\n    let part_placeholder_el = \$(\".part_placeholder\")\n    part_placeholder_el.width(move_el.width())\n    part_placeholder_el.height(move_el.height())\n    part_placeholder_el.css(\"margin\", move_el.css(\"margin\"))\n    let left = e.clientX - move_el.width() - 35\n    let top = e.clientY - 35\n    move_el.css(\"left\", left)\n    move_el.css(\"top\", top)\n})\n\$(document).off(\".placeholderMove\").on(\"mousemove.placeholderMove\", function(e){\n    if(move_el){\n        let part_placeholder_el = \$(\".part_placeholder\")\n        let left = e.clientX - move_el.width() - 35\n        let top = e.clientY - 35\n        move_el.css(\"left\", left)\n        move_el.css(\"top\", top)\n        if((move_el[0].offsetTop > (part_placeholder_el[0].offsetTop + part_placeholder_el.height() + 10)) && part_placeholder_el.next().next().hasClass(\"part_new\")){\n            part_placeholder_el.next().next().before(part_placeholder)\n            part_placeholder_el.remove()\n            \$(\".part_placeholder\").width(move_el.width())\n            \$(\".part_placeholder\").height(move_el.height())\n            \$(\".part_placeholder\").css(\"margin\", move_el.css(\"margin\"))\n        } else if ((move_el[0].offsetTop < part_placeholder_el[0].offsetTop - 10) && part_placeholder_el.prev().hasClass(\"part_new\")) {\n            part_placeholder_el.prev().before(part_placeholder)\n            part_placeholder_el.remove()\n            \$(\".part_placeholder\").width(move_el.width())\n            \$(\".part_placeholder\").height(move_el.height())\n            \$(\".part_placeholder\").css(\"margin\", move_el.css(\"margin\"))\n        }\n    }\n})\n\$(document).off(\'.moveElement\').on(\"mouseup.moveElement\", function(e) {\n    if(move_el){\n        move_el.css(\"left\", \"inherit\")\n        move_el.css(\"top\", \"inherit\")\n        move_el.css(\"position\", \"relative\")\n        move_el.css(\"z-index\", \"inherit\")\n        move_el.css(\"width\", \"100%\")\n        let part_placeholder_el = \$(\".part_placeholder\")\n        part_placeholder_el.after(move_el)\n        part_placeholder_el.remove()\n        move_el = false\n    }\n})\nvar clearCalculator = function(){\n    calculate_editor.setValue(\"\")\n}\nvar clearEditors = function(){\n    editor_headers.setValue(\"\")\n    editor_post_params.setValue(\"\")\n}\n\$(\".hide_part_remove\").click(function(){\n    let el = \$(this).parents(\".part_new\")\n    dialogContext({\n        message: \"Вы уверены, содержимое будет удалено\",\n        func_action: function(){\n            el.find(\"input, textarea\").each(function () {\n                \$(this).val(\"\")\n            })\n            if (el.find(\".preview_file_file\").length > 0) {\n                el.find(\".remove_file\")[0].click()\n            }\n            if (el.find(\"#textbox\").length > 0) {\n                el.find(\"#textbox\").html(\"\")\n            }\n            if (el.find(\"#message_request_type\").length > 0){\n                clearEditors()\n            }\n            if (el.find(\"#message_variables\").length > 0){\n              clearCalculator()\n            }\n            el.hide()\n            checkActiveParts()\n            toggleplaceholder()\n            if (\$(\"#message_buttons\").length > 0) {\n                \$(\"#message_buttons\").val(\"\")\n                initFormButton()\n            }\n        },\n        yes_button: \"Да\",\n        no_button: \"Нет\",\n        close_func: function () {}\n    })\n})\n\$(\".header_messages_form_id\").click(function(){\n    copyToClipboard(\$(this).text().split(\"#\")[1])\n    M.toast({html:\"ID блока успешно скопирован\"})\n})\n\$(\".setting_buttons_item\").click(function(){\n    let id = \$(this).attr(\"data-type\")\n    if (\$(this).hasClass(\"btn-active__blue\")) {\n        let el = \$(\`#\${id}_part\`)\n        el.hide()\n    } else {\n        \$(\`#\${id}_part\`).show()\n    }\n    checkActiveParts()\n})\nfunction checkActiveParts() {\n    \$(\".part_new\").each(function(){\n        let part = \$(this).attr(\"id\").split(\"_part\")[0]\n        if(\$(this).css(\"display\") != \"none\"){\n            \$(\`.setting_buttons_item_\${part}\`).addClass(\"btn-active__blue\")\n        } else {\n            \$(\`.setting_buttons_item_\${part}\`).removeClass(\"btn-active__blue\")\n        }\n    })\n}\nvar calculatorClicked = false;\n\$(\".header_messages_form_type_container_item\").on(\'click\',function(e){\n  e.stopPropagation()\n  e.preventDefault()\n  let new_desc = \$(this).find(\'.header_messages_form_type_container_item_text\').text()\n  \$(\"#message_message_type\").val(\$(this).find(\".header_messages_form_type_container_item_ident\").text())\n\n  \$(\".header_messages_form_type\").html(\$(this).find(\".header_messages_form_type_container_item_icon\").html())\n  \$(\".title_to_change\").text(new_desc)\n  \$(\".type_text\").text(new_desc)\n  \$(\".header_messages_form_type_container\").hide()\n  if (new_desc === \'Комментарий\' && !calculatorClicked) {\n      \$(\'.setting_buttons_item[data-type=\"text\"]\').click();\n      calculatorClicked = true;\n  }\n  toggleBigButtons()\n})\n\$(\".header_messages_form_type\").click(function(){\n    \$(\".header_messages_form_type_container\").toggle()\n})\n\$(\".addition_settings_trigger\").click(function(){\n    \$(this).parent().find(\".addition_settings\").toggle()\n    \$(this).parent().find(\".addition_settings_trigger\").hide()\n})\n\$(\".addition_settings_trigger_hidden\").click(function () {\n    \$(this).parent(\'.addition_settings\').hide()\n    \$(this).parent().parent().find(\".addition_settings_trigger\").show()\n})\n\nvar editorMaxWidth = \$(document).width() - 300\n\$(\"#editor\").resizable({\n    minWidth: 300,\n    maxWidth: editorMaxWidth,\n    resize: function () {\n        calculate_editor.resize();\n    },\n    stop: function () {\n        const width = \$(\"#editor\").width()\n        \$(\"#editor\").css(\"left\", \"auto\")\n        if (\$(\".project-alert__mail-confirm\").length) {\n            \$(\".project-alert__mail-confirm\").css(\'width\', \`calc(100% - \${width}px)\`)\n        }\n        let redactorConditionConstructorModal = \$(\'.redactor_condition_constructor_modal\')\n        if ((\$(document).width() - width) < 960) {\n            redactorConditionConstructorModal.css(\"width\", \"100%\")\n            redactorConditionConstructorModal.css(\"max-width\", \"90%\")\n            redactorConditionConstructorModal.css(\"z-index\", \"15\")\n            redactorConditionConstructorModal.css(\"left\", \"5%\")\n        } else {\n            redactorConditionConstructorModal.css(\"width\", \"650px\")\n            redactorConditionConstructorModal.css(\"max-width\", \"unset\")\n            redactorConditionConstructorModal.css(\"z-index\", \"15\")\n            redactorConditionConstructorModal.css(\"left\", \"unset\")\n        }\n    }\n});\ncalculate_editor.on(\"change\", function(){\n    let value = calculate_editor.getValue()\n    \$(\"#message_variables\").val(value)\n})\n\$(document).ready(function () {\n\n    if(\$(\"#message_variables\").val()){\n        calculate_editor.setValue(\$(\"#message_variables\").val())\n    }\n})\n\n// editor for headers\nvar editor_headers = ace.edit(\"headers\");\neditor_headers.setOptions({\n    enableLiveAutocompletion: true,\n    enableBasicAutocompletion: true,\n    showGutter: false,\n    fontSize: 15,\n    wrapBehavioursEnabled: true,\n    indentedSoftWrap: false,\n    wrap: \"free\",\n    scrollSpeed: 1,\n    maxLines: 50,\n    minLines: 6,\n    vScrollBarAlwaysVisible: false\n});\n\$(\"#editor\").resizable({\n    resize: function () {\n        editor_headers.resize();\n    }\n});\neditor_headers.on(\"change\", function () {\n    let value = editor_headers.getValue()\n    \$(\"#message_headers\").val(value)\n})\n\$(document).ready(function () {\n\n    if (\$(\"#message_headers\").val()) {\n        editor_headers.setValue(\$(\"#message_headers\").val())\n    }\n})\n//editor for post_params\nif(editor_post_params) {\n    editor_post_params.destroy\n}\nvar editor_post_params = ace.edit(\"post_params\");\neditor_post_params.setOptions({\n    enableLiveAutocompletion: true,\n    enableBasicAutocompletion: true,\n    showGutter: false,\n    fontSize: 15,\n    wrapBehavioursEnabled: true,\n    indentedSoftWrap: false,\n    wrap: \"free\",\n    scrollSpeed: 1,\n    maxLines: 50,\n    minLines: 6,\n    vScrollBarAlwaysVisible: false\n});\n\$(\"#editor\").resizable({\n    resize: function () {\n        editor_post_params.resize();\n        calculate_editor.resize()\n    }\n});\neditor_post_params.on(\"change\", function () {\n    let value = editor_post_params.getValue()\n    \$(\"#message_post_params\").val(value)\n})\ncalculate_editor.resize()\ncalculate_editor.setTheme(\"ace/theme/github\");\ncalculate_editor.session.setMode(\"ace/mode/python\");\ncalculate_editor.setShowPrintMargin(false);\neditor_post_params.resize()\neditor_post_params.setTheme(\"ace/theme/github\");\neditor_post_params.session.setMode(\"ace/mode/python\");\neditor_post_params.setShowPrintMargin(false);\neditor_headers.resize()\neditor_headers.setTheme(\"ace/theme/github\");\neditor_headers.session.setMode(\"ace/mode/python\");\neditor_headers.setShowPrintMargin(false);\n\$(document).ready(function () {\n\n    if (\$(\"#message_post_params\").val()) {\n        editor_post_params.setValue(\$(\"#message_post_params\").val())\n    }\n})\n\n\nfunction save_replace_markdown(text, clear_escaping){\n    let tempLine = text.replace(new RegExp(/<div>/g), str => \"§divOpen§\")\n        .replace(new RegExp(/<br>/g), str => \"§break§\")\n        .replace(new RegExp(/<\\/div>/g), str => \"§divClose§\")\n    if (clear_escaping)\n        tempLine = tempLine.replace(regexp_clear_escaping, str => str[1])\n    else\n        tempLine = tempLine.replace(reg_exp_escaping, str => \"\\\\\" + str)\n    return tempLine.replace(new RegExp(/§break§/g), str => \"<br>\")\n        .replace(new RegExp(/§divOpen§/g), str => \"<div>\")\n        .replace(new RegExp(/§divClose§/g), str => \"<\/div>\");\n}\n\nfunction save_replace_html(text, clear_escaping) {\n    let tempLine = text.replace(new RegExp(/<div>/g), str => \"§divOpen§\")\n        .replace(new RegExp(/<br>/g), str => \"§break§\")\n        .replace(new RegExp(/<\\/div>/g), str => \"§divClose§\")\n    if (clear_escaping)\n        tempLine = tempLine.replace(regexp_clear_escaping, str => str[1])\n    else\n        tempLine = tempLine.replace(reg_exp_escaping, str => \"\\\\\" + str)\n    return tempLine.replace(new RegExp(/§break§/g), str => \"<br>\")\n        .replace(new RegExp(/§divOpen§/g), str => \"<div>\")\n        .replace(new RegExp(/§divClose§/g), str => \"<\/div>\");\n}\n\nfunction toggleMarkdownBlock(){\n    if (\$(\".preview_file_solo\").length >= 2) {\n      \$(\'.markdown_block_label\').show()\n      \$(\".actions-toggles__item_enable_markdown\").addClass(\"btn-block__red\")\n      \$(\".setting_buttons_item_buttons\").addClass(\"btn-block__red\")\n    } else {\n      \$(\".actions-toggles__item_enable_markdown\").removeClass(\"btn-block__red\")\n      \$(\".setting_buttons_item_buttons\").removeClass(\"btn-block__red\")\n      \$(\'.markdown_block_label\').hide()\n    }\n}\n\n\$(\'#message_enable_markdown\').change(function(){\n    let text = \$(\'#textbox\').html();\n    let result = \'\'\n    toggleMarkdownBlock()\n    if(this.checked){\n      \$(\'#message_enable_html\').prop(\"checked\", false)\n        \$(\".actions-toggles__item_enable_html\").removeClass(\"btn-active__blue\")\n      \$(\".actions-toggles__item_enable_markdown\").addClass(\"btn-active__blue\")\n      result = save_replace_markdown(text, false)\n    } else {\n      \$(\".actions-toggles__item_enable_markdown\").removeClass(\"btn-active__blue\")\n      result = save_replace_markdown(text, true)\n    }\n    \$(\'#textbox\').html(result);\n    setWordsLenght();\n})\n\$(\'#message_enable_html\').change(function(){\n    let text = \$(\'#textbox\').html();\n    let result = text\n    if(this.checked){\n      \$(\'#message_enable_markdown\').prop(\"checked\", false)\n      \$(\".actions-toggles__item_enable_markdown\").removeClass(\"btn-active__blue\")\n      \$(\".actions-toggles__item_enable_html\").addClass(\"btn-active__blue\")\n      result = save_replace_html(text, true)\n    } else {\n      \$(\".actions-toggles__item_enable_html\").removeClass(\"btn-active__blue\")\n      result = save_replace_html(text, false)\n    }\n    \$(\'#textbox\').html(result);\n    setWordsLenght();\n})\nif(\"false\" == \"true\"){\n    \$(\".actions-toggles__item_enable_markdown\").addClass(\"btn-active__blue\")\n}\nif(\"false\" == \"true\"){\n    \$(\".actions-toggles__item_enable_html\").addClass(\"btn-active__blue\")\n}\n\$(\'#message_protected_content\').change(function(){\n    if(this.checked){\n        \$(\".actions-toggles__item_protected_content\").addClass(\"btn-active__blue\")\n    } else {\n        \$(\".actions-toggles__item_protected_content\").removeClass(\"btn-active__blue\")\n    }\n})\nif(\$(\'#message_protected_content\').is(\':checked\')){\n  \$(\".actions-toggles__item_protected_content\").addClass(\"btn-active__blue\")\n}\n\nif (\$(\'#message_disable_notification\').is(\':checked\')) {\n    \$(\".actions-toggles__item_disable_notification\").addClass(\"btn-active__blue\")\n}\n\$(\'#message_disable_notification\').change(function () {\n    if (this.checked) {\n        \$(\".actions-toggles__item_disable_notification\").addClass(\"btn-active__blue\")\n    } else {\n        \$(\".actions-toggles__item_disable_notification\").removeClass(\"btn-active__blue\")\n    }\n})\n\nif (\$(\'#message_callback_if_seen\').is(\':checked\')) {\n    \$(\".actions-toggles__item_callback_if_seen\").addClass(\"btn-active__blue\")\n}\n\$(\'#message_callback_if_seen\').change(function () {\n    if (this.checked) {\n        \$(\".actions-toggles__item_callback_if_seen\").addClass(\"btn-active__blue\")\n    } else {\n        \$(\".actions-toggles__item_callback_if_seen\").removeClass(\"btn-active__blue\")\n    }\n})\n\n\$(\'#message_save_to_log\').change(function(){\n    if(this.checked){\n        \$(\".actions-toggles__item_message_save_to_log\").addClass(\"btn-active__blue\")\n    } else {\n        \$(\".actions-toggles__item_message_save_to_log\").removeClass(\"btn-active__blue\")\n    }\n})\nif(\$(\'#message_save_to_log\').is(\':checked\')){\n    \$(\".actions-toggles__item_message_save_to_log\").addClass(\"btn-active__blue\")\n}\n\n\$(\'#clear_escaping\').on(\'click\', function(){\n    let text = \$(\'#body-field\').val();\n    let result = text.replace(regexp_clear_escaping, str => str[1]);\n    \$(\'#body-field\').val(result)\n});\n\nfunction save_message(close = false, change= false){\n  needToClose = close\n  form_change_trigger = change\n  \$(\".simple_form\").submit()\n}\n\n\$(\".total_success_button\").click(function(e){\n    \$(\".total_success_button\").css(\"background\", \"#82858A\")\n    \$(\".total_success_button\").html(buttonSpinnerSVG)\n    save_message(true)\n})\n\$(\".succes_help_button_dnt_close\").click(function(){\n    \$(this).html(buttonSpinnerSVG)\n    save_message()\n})\n\$(\"#editor\").on(\"resize\", function(){\n    localStorage.setItem(\"salebot_editor_width\", \$(\"#editor\").width())\n})\nif(localStorage.getItem(\"salebot_editor_width\")){\n    let width = localStorage.getItem(\"salebot_editor_width\")\n    \$(\".scroll_button_helper\").width(width)\n    \$(\"#editor\").width(width)\n}\n\$(\"#text_part\").append(\`\n  <div class=\"super_ident_class\" id=\"body_count\">\${\'true\' ? \'0\' : \$(\"#body-field\").text().length}/4000<\/div>\n\`)\nvar insertTextAtCursorMessages = function (html, is_text = false) {\n    var sel, range;\n    if (window.getSelection) {\n        sel = window.getSelection();\n        if (sel.anchorNode != document.querySelector(\"#textbox\")) {\n            form_message.focus()\n        }\n        if (sel.getRangeAt && sel.rangeCount) {\n            range = sel.getRangeAt(0);\n            range.deleteContents();\n            var el = document.createElement(\"div\");\n            if (is_text) {\n                el.innerText = html;\n            } else {\n                el.innerHTML = html;\n            }\n            var frag = document.createDocumentFragment(), node, lastNode;\n            while ((node = el.firstChild)) {\n                lastNode = frag.appendChild(node);\n            }\n            range.insertNode(frag);\n            if (lastNode) {\n                range = range.cloneRange();\n                range.setStartAfter(lastNode);\n                range.collapse(false);\n                sel.removeAllRanges();\n                sel.addRange(range);\n            }\n        }\n    } else if (document.selection && document.selection.type != \"Control\") {\n        document.selection.createRange().pasteHTML(html);\n    }\n    form_message.focus()\n};\nif (dropArea) {\n    ;[\'dragenter\', \'dragover\', \'dragleave\', \'drop\'].forEach(eventName => {\n        dropArea.addEventListener(eventName, function(e){\n            e.preventDefault()\n            e.stopPropagation()\n        }, false)\n    })\n    dropArea.addEventListener(\"click\", function () {\n        \$(\"#message_file\").click()\n    })\n    ;[\'dragenter\', \'dragover\'].forEach(eventName => {\n        dropArea.addEventListener(eventName, highlight, false)\n    })\n    ;[\'dragleave\', \'drop\'].forEach(eventName => {\n        dropArea.addEventListener(eventName, unhighlight, false)\n    })\n\n    function highlight(e) {\n        dropArea.classList.add(\'highlight\')\n    }\n\n    function unhighlight(e) {\n        dropArea.classList.remove(\'highlight\')\n    }\n\n    dropArea.addEventListener(\'drop\', function(e){\n        \$(\"#message_file\").prop(\"files\", e.dataTransfer.files)\n        addFileFunction(e)\n    }, false)\n}\n\nfunction mark_error(file_id){\n    \$(\".ident_file_\" + file_id).parent().remove()\n}\n\nfunction destroy_file_by_id(file_id, parent = null){\n    \$.ajax({\n        url: \`/projects/569981/messages//destroy_file/\${file_id}\`,\n        type: \"DELETE\",\n        success: function () {\n            if(parent){\n                parent.remove()\n                toggleMarkdownBlock()\n            } else {\n                \$(\".ident_file_\" + file_id).parent().remove()\n            }\n        }\n    })\n}\nfunction destroy_file_func(e){\n    e.stopPropagation()\n    e.preventDefault()\n    let parent = \$(this).parents(\".preview_file_solo\")\n    let file_id = parent.find(\".ident_id\").text()\n    if(file_id && file_id !==\"undefined\"){\n        destroy_file_by_id(file_id, parent)\n    } else {\n        console.log(\"removing file\")\n        \$.ajax({\n            url: \`/projects/569981/messages//destroy_link_file\`,\n            type: \"DELETE\",\n            data: {\n                link: parent.find(\".url_ident\").text() || parent.find(\'a\').eq(0).attr(\'href\')\n            },\n            success: function () {\n                parent.remove()\n            }\n        })\n    }\n}\n\$(\'.remove_file\').off(\"click\")\n\$(\'.remove_file\').click(destroy_file_func)\nfunction addLinkToFileList(){\n    let link = \$(\"#message_attachment_url\").val()\n    \$(\"#message_attachment_url\").val(\"\")\n    \$.ajax({\n        url:\'/projects/569981/messages/upload_link_file\',\n        type:\"POST\",\n        data: {\n            message_id: \"\",\n            link: link,\n            type: \$(\"#message_attachment_type\").val()\n        },\n        success: function(data){\n            if(data.error){\n                return M.toast({html: \"Вы превышаете лимит 10 файлов в одном блоке\"})\n            }\n            success_add_func(data)\n        }\n    })\n}\nfunction success_add_func(data, file = null){\n    \$(\".preview_file_file\").removeClass(\"hidden\")\n\n\n    let fileItem = file\n    let blobURL = \"\"\n    let blobType = \"\"\n    let fileSize = \"\"\n    let name = \"\"\n    if(fileItem){\n        blobURL = fileItem.url\n        blobType = fileItem.type\n        fileSize = (parseFloat(fileItem.size)/1048576).toPrecision(3) + \" mb\"\n        name = fileItem.name\n    } else {\n        blobURL = data.url\n        blobType = data.type\n        fileSize = \"\"\n        name = data.url\n    }\n    if (!blobURL) {\n        blobURL = window.URL.createObjectURL(fileItem);\n    }\n    let typeHTML\n    if (blobType.startsWith(\"image\")) {\n        typeHTML = \`<img src=\"\${blobURL}\"/>\`\n    } else if (blobType.startsWith(\"audio\")) {\n        typeHTML = audioSVG\n    } else if (blobType.startsWith(\"video\")) {\n        typeHTML = \`<video src=\"\${blobURL}\"/>\`\n    } else {\n        typeHTML = fileSVG\n    }\n    \$(\".preview_files_container\").append(identFileHTML({\n        identId: data.file_id,\n        blobURL,\n        typeHTML,\n        name,\n        fileSize\n    }))\n    toggleMarkdownBlock()\n    \$(\".file_preview_pick\").off(\"click\")\n    \$(\".file_preview_pick\").on(\"click\", function (e) {\n        e.stopPropagation()\n    })\n    \$(\'.remove_file\').off(\"click\")\n    \$(\'.remove_file\').click(destroy_file_func)\n}\n\$(\"#message_attachment_url\").on(\"keypress\", function(e){\n    if(e.keyCode === 13){\n        addLinkToFileList()\n    }\n})\n\nfunction identFileHTML (obj) {\n    return \`<div class=\"ident_file_\${obj.identId} preview_file_solo\">\n                        <a class=\"file_preview_pick\" href=\"\${obj.blobURL}\" target=\"_blank\">\${obj.typeHTML}\n                            <div class=\"remove_file\">\n                                <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                                  <path d=\"M0 0H16V16H4C1.79086 16 0 14.2091 0 12V0Z\" fill=\"#1F2937\" fill-opacity=\"0.9\"/>\n                                  <path d=\"M5.19683 4.1363C4.90394 3.8434 4.42907 3.8434 4.13617 4.1363C3.84328 4.42919 3.84328 4.90406 4.13617 5.19696L5.19683 4.1363ZM10.8028 11.8636C11.0957 12.1565 11.5706 12.1565 11.8635 11.8636C12.1564 11.5707 12.1564 11.0959 11.8635 10.803L10.8028 11.8636ZM11.8635 5.19696C12.1564 4.90406 12.1564 4.42919 11.8635 4.1363C11.5706 3.8434 11.0957 3.8434 10.8028 4.1363L11.8635 5.19696ZM4.13617 10.803C3.84328 11.0959 3.84328 11.5707 4.13617 11.8636C4.42907 12.1565 4.90394 12.1565 5.19683 11.8636L4.13617 10.803ZM4.13617 5.19696L10.8028 11.8636L11.8635 10.803L5.19683 4.1363L4.13617 5.19696ZM10.8028 4.1363L4.13617 10.803L5.19683 11.8636L11.8635 5.19696L10.8028 4.1363Z\" fill=\"white\"/>\n                                 <\/svg>\n                            <\/div>\n                            <div class=\"hidden ident_id\">\${obj.identId}<\/div>\n                        <\/a>\n                        <div class=\"file_information\">\n                            <div class=\"file_preview_pick_name\">\${obj.name}<\/div>\n                            <div class=\"file_preview_size\">\${obj.fileSize}<\/div>\n                        <\/div>\n                      <\/div>\`\n}\n\nfunction addFileFunction (e) {\n    e.preventDefault()\n    e.stopPropagation()\n    let message_id = \"\"\n    let file = \$(\"#message_file\").prop(\"files\")[\$(\"#message_file\").prop(\"files\").length - 1]\n    if (message_id != \'\') {\n        let formData = new FormData()\n        formData.append(\"file\", file)\n        formData.append(\"attachments_type\", \$(\"#message_attachment_type\").val())\n        formData.append(\"message_id\", message_id)\n        \$(\".preview_files_container\").append(\`<div class=\"file_loading\"><div class=\"load_screen_page\"><div class=\"windows8\"><div class=\"wBall\" id=\"wBall_1\"><div class=\"wInnerBall\"><\/div><\/div><div class=\"wBall\" id=\"wBall_2\"><div class=\"wInnerBall\"><\/div><\/div><div class=\"wBall\" id=\"wBall_3\"><div class=\"wInnerBall\"><\/div><\/div><div class=\"wBall\" id=\"wBall_4\"><div class=\"wInnerBall\"><\/div><\/div><div class=\"wBall\" id=\"wBall_5\"><div class=\"wInnerBall\"><\/div><\/div><\/div><div class=\"preloader_text\"><\/div><\/div><\/div>\`)\n        \$(\'.load_screen_page .windows8\').css(\'transform\', \'translateX(0)\')\n        \$(\'.load_screen_page .windows8\').css(\'transform\', \'translateY(10%)\')\n        \$(\'.load_screen_page .windows8\').css(\'scale\', \'0.7\')\n        \$(\'.load_screen_page .windows8\').css(\'margin\', \'20px auto\')\n        \$.ajax({\n            url: \"/projects/569981/messages/upload_file\",\n            type: \"POST\",\n            data: formData,\n            contentType: false,\n            processData: false,\n            success: function (data) {\n                \$(\".file_loading\").remove()\n                if (data.error === \"file_type_in_not_valid\") {\n                    return M.toast({html: \"Выберите файл, которые соответсвет типу других файлов в блоке\"})\n                } else if (data.error === \"file_limit\") {\n                    return M.toast({html: \"Вы превышаете лимит 10 файлов в одном блоке\"})\n                } else if (data.error === \"file_too_big\") {\n                    return M.toast({html: \"Размер файла слишком большой. Максимум 20 мб\"})\n                }\n                success_add_func(data, file)\n            }\n        })\n    } else {\n        if (blob_file_list.length >= 10) {\n            return M.toast({html: \"Вы превышаете лимит 10 файлов в одном блоке\"})\n        }\n        blob_file_list.push({file: file, ident_id: Math.random().toString(36).slice(2)})\n        \$(\".preview_file_file\").html(\"\")\n        blob_file_list.forEach(function (item) {\n            if (!item) {\n                return\n            }\n            \$(\".preview_file_file\").removeClass(\"hidden\")\n            // \$(\".dropzone-area\").addClass(\"hidden\")\n            let fileItem = item.file\n            let blobURL = fileItem.url\n            let blobType = fileItem.type\n            let fileSize = (parseFloat(fileItem.size) / 1048576).toPrecision(3) + \" mb\"\n            let name = fileItem.name\n            if (!blobURL) {\n                blobURL = window.URL.createObjectURL(fileItem);\n            }\n            let typeHTML\n            if (blobType.startsWith(\"image\")) {\n                typeHTML = \`<img src=\"\${blobURL}\"/>\`\n            } else if (blobType.startsWith(\"audio\")) {\n                typeHTML = audioSVG\n            } else if (blobType.startsWith(\"video\")) {\n                typeHTML = \`<video src=\"\${blobURL}\"/>\`\n            } else {\n                typeHTML = fileSVG\n            }\n            \$(\".preview_files_container\").append(identFileHTML({\n                identId: item.ident_id,\n                typeHTML,\n                blobURL,\n                fileSize,\n                name,\n            }))\n            toggleMarkdownBlock()\n            \$(\".file_preview_pick\").off(\"click\")\n            \$(\".file_preview_pick\").on(\"click\", function (e) {\n                e.stopPropagation()\n            })\n            \$(\'.remove_file\').off(\"click\")\n            \$(\'.remove_file\').click(function (e) {\n                e.stopPropagation()\n                e.preventDefault()\n                let id = \$(this).parent().find(\".ident_id\").text()\n                blob_file_list = blob_file_list.map(function (item) {\n                    return item.ident_id != id ? item : false\n                })\n                \$(\`.ident_file_\${id}\`).remove()\n            })\n        })\n    }\n    \$(\"#message_file\").val(null)\n    \$(\"#message_file\").prop(\"files\", null)\n}\n\$(\"#message_file\").on(\"change\", addFileFunction)\n\$(\".attachment-list__btn--js\").click(function () {\n    if (\$(this).hasClass(\"btn-active__blue\")) {\n        \$(\".attachment-list__btn--js\").removeClass(\"btn-active__blue\")\n        \$(\"#message_attachment_type\").val(\"\")\n        \$(\".dropzone-area\").slideUp()\n        \$(\".for_shortener_link\").slideUp()\n    } else {\n        \$(\".attachment-list__btn--js\").removeClass(\"btn-active__blue\")\n        \$(this).addClass(\"btn-active__blue\")\n        let type = \$(this).attr(\"data-type\")\n        if (type == \"link\") {\n            \$(\".for_shortener_link\").slideDown()\n        } else {\n            \$(\".for_shortener_link\").slideUp()\n        }\n        \$(\"#message_attachment_type\").val(type)\n        \$(\".dropzone-area\").slideDown()\n\n        if (type == \"image\") {\n            \$(\"#message_file\").attr(\"accept\", \".jpg, .png, .jpeg, .gif, .svg, .jpe, .webp\")\n        } else if (type == \"video\") {\n            \$(\"#message_file\").attr(\"accept\", \".mp4, .flv, .mov\")\n        } else if (type == \"audio\") {\n            \$(\"#message_file\").attr(\"accept\", \".ogg, .midi, .mp3, .wav, .oga, .mpeg, .m4a\")\n        } else {\n            \$(\"#message_file\").attr(\"accept\", \"\")\n        }\n    }\n})\n\n\$(\".for_shortener_link\").click(function () {\n    \$(this).find(\".check_box\").toggleClass(\"check_box_checked\")\n    if (\$(this).find(\".check_box\").hasClass(\"check_box_checked\")) {\n        \$(\"#message_attachment_type\").val(\"link_shortener\")\n    } else {\n        \$(\"#message_attachment_type\").val(\"link\")\n    }\n})\n\$(\".num-message\").click(function(){\n    copyToClipboard(\$(this).text().substring(1))\n    closeRappidPopups()\n    new joint.ui.FlashMessage({\n        title: \"Уведомление\",\n        type: \'info\',\n        content: \"ID блока успешно скопирован\",\n        closeAnimation: {delay: 4000}\n    }).open();\n})\n\$(\".message_timeout_type\").on(\"click\", function(){\n    setTimeout(function(){\n        \$(\".message_timeout_type\").find(\"ul\").css(\"opacity\", \"1\")\n    }, 100)\n})\nif (!\$(\"#message_show_answers\").is(\":checked\")){\n    \$(\".if_show_buttons\").hide()\n}\n\$(\"#message_show_answers\").on(\"change\", function(){\n    if (\$(\"#message_show_answers\").is(\":checked\")) {\n        \$(\".if_show_buttons\").slideDown()\n    } else {\n        \$(\".if_show_buttons\").slideUp()\n    }\n})\nfunction initFormButton(){\n    if (\$(\"#message_buttons\").val()) {\n        if (\$(\"#message_buttons\").val().trim().startsWith(\"#{\")) {\n            \$(\`.form_button_new\`).html(\"\")\n            \$(\`.form_button_new\`).append(\`\n                  <div class=\"form_button_new-row form_button_new-row_bottom\">\n                      <div class=\"btn-dashed-white--m w-100\">Кнопки указаны в переменной<\/div>\n                  <\/div>\n            \`)\n        } else {\n            if (isJSON(\$(\"#message_buttons\").val())) {\n                drawButtons(JSON.parse(\$(\"#message_buttons\").val()))\n            } else {\n                let buttons = []\n                \$(\"#message_buttons\").val().split(\'\\n\').forEach(function(button, line){\n                    let btn_obj   = {line, index_in_line: 0, type: \"reply\"}\n                    let color     = \'\'\n                    if(button.split(\"#\").length > 1){\n                        color = \"#\" + button.split(\"#\")[1]\n                    }\n                    if(color){\n                        btn_obj[\'color\'] = color\n                    }\n                    btn_obj.text = button.split(\"#\")[0].trim()\n                    buttons.push(btn_obj)\n                })\n                console.log(\'11---------1111\')\n                drawButtons(buttons)\n            }\n        }\n    } else {\n        \$(\`.form_button_new\`).html(\"\")\n        \$(\`.form_button_new\`).append(\`\n                        <div class=\"form_button_new-row form_button_new-row_bottom\">\n                            <a style=\"width:100%\" data-remote=\"true\" href=\"/projects/569981/buttons_form/new?line=\${\$(\".form_button_new-row\").length + 1}\">\n                                <div class=\"form_button_new-add-big--js\">\n                                    <div class=\"btn-dashed-white--m w-100\">\n                                        <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                                            <path d=\"M12.75 6C12.75 5.58579 12.4142 5.25 12 5.25C11.5858 5.25 11.25 5.58579 11.25 6H12.75ZM11.25 18C11.25 18.4142 11.5858 18.75 12 18.75C12.4142 18.75 12.75 18.4142 12.75 18H11.25ZM18 12.75C18.4142 12.75 18.75 12.4142 18.75 12C18.75 11.5858 18.4142 11.25 18 11.25V12.75ZM6 11.25C5.58579 11.25 5.25 11.5858 5.25 12C5.25 12.4142 5.58579 12.75 6 12.75V11.25ZM11.25 6V18H12.75V6H11.25ZM18 11.25H6V12.75H18V11.25Z\" fill=\"#95A3BA\"/>\n                                        <\/svg>\n                                        <span>Добавить кнопку<\/span>\n                                    <\/div>\n                                <\/div>\n                            <\/a>\n                        <\/div>\n                    \`)\n    }\n}\ninitFormButton()\nfunction normalizeIndexInLine(current){\n    let res = []\n    let current_line = 0\n    let lines = {}\n    current.sort(function (a, b) {\n        if (a.line >  b.line) return 1\n        if (a.line == b.line) return 0\n        if (a.line <  b.line) return -1\n    })\n    current.forEach(function(button, index, arr){\n        let line = button.line || button.line == 0 ? button.line : current_line\n        let index_in_line = button.index_in_line ? button.index_in_line : 0\n        if((button.type == \"reply\" || button.type == \"inline\" || button.type == \"auto\") && !default_value){\n            default_value = button.type\n            document.getElementById(default_value + \"_button\").click()\n        }\n        if((button.type == \"reply\" || button.type == \"inline\" || button.type == \"auto\") && default_value && button.type != default_value){\n            button.type = default_value\n        }\n        if(!lines[\"line_\"+line]){\n            lines[\"line_\"+line] = []\n        }\n        lines[\"line_\"+line].push({button, index_in_line, line})\n        current_line++\n    })\n    let line_index = 0\n    for(let key in lines){\n        lines[key].sort(function (a, b) {\n            if (a.index_in_line > b.index_in_line) return 1\n            if (a.index_in_line == b.index_in_line) return 0\n            if (a.index_in_line < b.index_in_line) return -1\n        })\n        lines[key].forEach(function(obj, index){\n            obj.button.index_in_line = index\n            obj.button.line = line_index\n            res.push(obj.button)\n        })\n        line_index++\n    }\n    \$(\"#message_buttons\").val(JSON.stringify(res))\n    return res\n}\nfunction removeButton(button){\n  let current = JSON.parse(\$(\"#message_buttons\").val())\n  current = current.filter(function(button_loop, index, arr){\n    if (button.vk_pay || button.login_tg) {\n      return button_loop.id !== button.id\n    } else {\n      return !haveSameData(button, button_loop)\n    }\n  })\n\n  \$(\"#message_buttons\").val(JSON.stringify(current))\n  form_change_trigger = true\n  drawButtons(JSON.parse(\$(\"#message_buttons\").val()))\n}\nfunction drawButtons(current_buttons) {\n    current_buttons = normalizeIndexInLine(current_buttons)\n    \$(\".form_button_type\").show()\n    let current_line = 0\n    let buttons_obj = {}\n    let placeholder_button = \`<div class=\"placeholder_button\"><\/div>\`\n    \$(\`.form_button_new\`).html(\"\")\n    let btns = current_buttons.sort(function (a, b) {\n        if (a.line > b.line) return 1\n        if (a.line == b.line) return 0\n        if (a.line < b.line) return -1\n    })\n    btns.forEach(function (button, index, buttons) {\n        let line = button.line || button.line == 0 ? button.line : current_line\n        let index_in_line = button.index_in_line ? button.index_in_line : 0\n        if (\$(\`.form_button_new-row_\${line}\`).length === 0) {\n            \$(\`.form_button_new\`).append(\`\n                <div class=\"form_button_new-row form_button_new-row_\${line}\">\n                    <div class=\"form_button_new-buttons form_button_new-buttons_\${line}\">\n                    <\/div>\n                    <a data-remote=\"true\" href=\"/projects/569981/buttons_form/new?line=\${line}\">\n                        <div class=\"form_button_new-add--js\">\n                            <div class=\"btn-ghost-grey-square--m\">\n                                <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                                    <path d=\"M12.75 6C12.75 5.58579 12.4142 5.25 12 5.25C11.5858 5.25 11.25 5.58579 11.25 6H12.75ZM11.25 18C11.25 18.4142 11.5858 18.75 12 18.75C12.4142 18.75 12.75 18.4142 12.75 18H11.25ZM18 12.75C18.4142 12.75 18.75 12.4142 18.75 12C18.75 11.5858 18.4142 11.25 18 11.25V12.75ZM6 11.25C5.58579 11.25 5.25 11.5858 5.25 12C5.25 12.4142 5.58579 12.75 6 12.75V11.25ZM11.25 6V18H12.75V6H11.25ZM18 11.25H6V12.75H18V11.25Z\" fill=\"#95A3BA\"/>\n                                <\/svg>\n                            <\/div>\n                        <\/div>\n                    <\/a>\n                <\/div>\n            \`)\n        }\n        if (!buttons_obj[\`line_\${line}\`]) {\n            buttons_obj[\`line_\${line}\`] = []\n        }\n        buttons_obj[\`line_\${line}\`].push({button, index_in_line, line})\n        current_line += 1\n    })\n    let button_index = 0\n    let button_translate = false\n    let button_first_move = false\n    for (let key in buttons_obj) {\n        let arr = buttons_obj[key]\n        let line = key.split(\"line_\")[1]\n        arr.sort(function (a, b) {\n            if (a.index_in_line > b.index_in_line) return 1\n            if (a.index_in_line == b.index_in_line) return 0\n            if (a.index_in_line < b.index_in_line) return -1\n        })\n        arr.forEach(function (button, index, buttons) {\n            let addition_type = \`\`\n            if (button.button.type == \'phone\') {\n                addition_type = \`<div class=\"addition_type\">\n                                    <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                                        <path d=\"M14.25 5.27936C16.6812 5.97562 18.5896 7.90944 19.25 10.3556M9.14286 5H6.31818C5.59017 5 5 5.59017 5 6.31818C5 13.5983 10.9017 19.5 18.1818 19.5C18.9098 19.5 19.5 18.9098 19.5 18.1818V15.3571L16.3929 13.2857L14.7817 14.8968C14.5019 15.1767 14.0837 15.2637 13.7321 15.0821C13.1358 14.774 12.1681 14.1952 11.2143 13.2857C10.2377 12.3545 9.66548 11.3511 9.37829 10.744C9.21734 10.4037 9.31052 10.0109 9.57669 9.74474L11.2143 8.10714L9.14286 5Z\"\n                                              stroke=\"#111827\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n                                    <\/svg>\n                                 <\/div>\`\n            } else if (button.button.type == \'location\') {\n                addition_type = \`<div class=\"addition_type\">\n                                    <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                                        <path d=\"M18.5 11.25C18.5 15.25 12.25 19.5 12.25 19.5C12.25 19.5 6 15.25 6 11.25C6 7.75 8.93629 5 12.25 5C15.5637 5 18.5 7.75 18.5 11.25Z\" stroke=\"#111827\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n                                        <path d=\"M12.25 13.5C13.4926 13.5 14.5 12.4926 14.5 11.25C14.5 10.0074 13.4926 9 12.25 9C11.0074 9 10 10.0074 10 11.25C10 12.4926 11.0074 13.5 12.25 13.5Z\" stroke=\"#111827\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n                                    <\/svg>\n                                 <\/div>\`\n            } else if (button.button.url) {\n                addition_type = \`<div class=\"addition_type\">\n                                    <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                                        <path d=\"M18.5018 5.49564C16.5077 3.50145 13.2629 3.50145 11.2685 5.49564L5.0682 11.6959C3.64386 13.1204 3.64395 15.4382 5.06839 16.8626C5.78067 17.5748 6.71598 17.931 7.65167 17.9309C8.58711 17.9308 9.52292 17.5748 10.2351 16.8626L15.9185 11.179C16.3325 10.765 16.5606 10.2146 16.5607 9.62905C16.5607 9.04352 16.3327 8.49308 15.9186 8.07896C15.0638 7.2243 13.6731 7.22433 12.8185 8.07911L9.10177 11.7957C8.81642 12.0811 8.81642 12.5437 9.10171 12.8291C9.38702 13.1145 9.84968 13.1144 10.1351 12.8291L13.8518 9.11243C14.1367 8.82752 14.6002 8.82746 14.8852 9.11237C15.0232 9.25037 15.0992 9.43387 15.0992 9.62902C15.0992 9.82418 15.0232 10.0076 14.8852 10.1457L9.20174 15.8292C8.34702 16.6838 6.95639 16.6839 6.10173 15.8292C5.24708 14.9745 5.24701 13.5838 6.10158 12.7291L12.3018 6.52899C13.7264 5.10449 16.0442 5.10449 17.4685 6.52899C18.1586 7.21899 18.5387 8.13646 18.5387 9.1123C18.5387 10.0881 18.1586 11.0056 17.4685 11.6957L11.2684 17.896C10.9831 18.1813 10.9831 18.644 11.2684 18.9293C11.4111 19.0721 11.5981 19.1433 11.7851 19.1433C11.9721 19.1433 12.1591 19.072 12.3018 18.9293L18.5018 12.7291C19.4679 11.763 20 10.4786 20 9.11233C20 7.74611 19.4679 6.46167 18.5018 5.49564Z\" fill=\"#111827\"/>\n                                    <\/svg>\n                                 <\/div>\`\n            }\n            let bg_color = button.button.color && !button.button.color.startsWith(\"#{\") ? button.button.color : false\n            let variable_color = button.button.color && button.button.color.startsWith(\"#{\")\n            let ident = Math.random().toString(36).slice(2)\n            let second_ident = Math.random().toString(36).slice(2)\n            \$(\`.form_button_new-buttons_\${line}\`).append(\`\n              <div class=\"form_button_new-button form_button_new-button_\${button_index}\" style=\"\${bg_color ? \'border-color:\' + bg_color + \';color:\' + bg_color : \'\'}\">\n                <div class=\"remove_button_click remove_button_\${button_index}\">+<\/div>\n                <div class=\"is_variable_color\">\${variable_color ? \"Цвет указан переменной\" : \"\"}<\/div>\n                <div class=\"hidden button_json \${second_ident}\"><\/div>\n                <span class=\"\${ident}\"><\/span>\n                \${addition_type ? addition_type : \'\'}\n              <\/div>\n            \`)\n            \$(\`.\${second_ident}\`).text(JSON.stringify(button.button))\n            \$(\`.\${ident}\`).text(button.button.text ? button.button.text : \'\')\n            \$(\".remove_button_\" + button_index).click(function () {\n                removeButton(button.button)\n            })\n            \$(\".remove_button_\" + button_index).on(\"pointerdown\", function (e) {\n                e.preventDefault()\n                e.stopPropagation()\n            })\n            \$(\".form_button_new-button_\" + button_index).on(\"pointerdown\", function (e) {\n                button_translate = \$(this)\n                button_first_move = true\n            })\n            if(\$(\".form_button_new .form_button_new-button\").length > 1) {\n                \$(\".form_button_new-button_\" + button_index).on(\"pointermove\", function (e) {\n                    if (button_translate && \$(this)[0].classList[1] != button_translate[0].classList[1]) {\n                        if (\$(this).next().hasClass(\'placeholder_button\')) {\n                            \$(\".placeholder_button\").remove()\n                            \$(this).before(placeholder_button)\n                        } else {\n                            \$(\".placeholder_button\").remove()\n                            \$(this).after(placeholder_button)\n                        }\n                        \$(\".form_button_new-buttons\").each(function () {\n                            if (\$(this).find(\".form_button_new-button\").length == 0 && \$(this).find(\".placeholder_button\").length == 0) {\n                                console.log(\'p3p3p3pp3p3p3p3p3\')\n                                \$(this).parent().remove()\n                            }\n                        })\n                    }\n                })\n            }\n            \$(\".form_button_new\").off(\"pointermove\")\n            \$(\"body\").off(\"pointerup\")\n            if(\$(\".form_button_new .form_button_new-button\").length > 1) {\n                \$(\".form_button_new\").on(\"pointermove\", function (e) {\n                    if (button_translate && \$(this).find(\".form_button_new-button\").length == 1 && \$(this).find(\".form_button_new-button\")[0].classList[1] == button_translate[0].classList[1]) {\n                        \$(\".placeholder_button\").remove()\n                        \$(this).append(placeholder_button)\n                    }\n                    if (button_translate) {\n                        if (button_first_move) {\n                            button_translate.css(\"width\", button_translate[0].offsetWidth)\n                            button_translate.after(placeholder_button)\n                            button_translate.css(\"position\", \"fixed\")\n                            button_translate.parent().css(\"z-index\", \"999999999\")\n                            button_translate.css(\"z-index\", \"999999999\")\n                            button_first_move = false\n                        }\n                        button_translate.css(\"left\", e.pageX)\n                        button_translate.css(\"top\", e.pageY)\n                    }\n                })\n            }\n            \$(\"body\").on(\"pointerup\", function () {\n                if (button_translate) {\n                    if (button_first_move) {\n                        button_first_move = false\n                        \$.ajax({\n                            url: \"/projects/569981/buttons_form/new\",\n                            type: \"GET\",\n                            data: JSON.parse(button_translate.find(\".button_json\").text())\n                        })\n                    }\n                    let prev_container = button_translate.parent()\n                    \$(\".placeholder_button\").after(button_translate)\n                    button_translate.css(\"position\", \"relative\")\n                    button_translate.css(\"left\", \"0\")\n                    button_translate.css(\"top\", \"0\")\n                    button_translate.css(\"width\", \"100%\")\n                    button_translate.parent().css(\"z-index\", \"1\")\n                    button_translate.css(\"z-index\", \"1\")\n                    \$(\".placeholder_button\").remove()\n                    if (prev_container.find(\".form_button_new-button\").length == 0) {\n                        prev_container.parent().remove()\n                    }\n                    button_translate = false\n                    form_change_trigger = true\n                    let buttons_json = []\n                    \$(\".form_button_new-buttons\").each(function (line) {\n                        \$(this).find(\".form_button_new-button\").each(function (index_in_line) {\n                            let obj = JSON.parse(\$(this).find(\".button_json\").text())\n                            obj.line = line\n                            obj.index_in_line = index_in_line\n                            buttons_json.push(obj)\n                        })\n                        line++\n                    })\n                    \$(\"#message_buttons\").val(JSON.stringify(buttons_json))\n                }\n            })\n            button_index++\n        })\n    }\n    \$(\`.form_button_new\`).append(\`\n        <div class=\"form_button_new-row form_button_new-row_bottom\">\n            <a style=\"width:100%\" data-remote=\"true\" href=\"/projects/569981/buttons_form/new?line=\${\$(\".form_button_new-row\").length + 1}\">\n                <div class=\"form_button_new-add-big--js\">\n                    <div class=\"btn-dashed-white--m w-100\">\n                        <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                            <path d=\"M12.75 6C12.75 5.58579 12.4142 5.25 12 5.25C11.5858 5.25 11.25 5.58579 11.25 6H12.75ZM11.25 18C11.25 18.4142 11.5858 18.75 12 18.75C12.4142 18.75 12.75 18.4142 12.75 18H11.25ZM18 12.75C18.4142 12.75 18.75 12.4142 18.75 12C18.75 11.5858 18.4142 11.25 18 11.25V12.75ZM6 11.25C5.58579 11.25 5.25 11.5858 5.25 12C5.25 12.4142 5.58579 12.75 6 12.75V11.25ZM11.25 6V18H12.75V6H11.25ZM18 11.25H6V12.75H18V11.25Z\" fill=\"#95A3BA\"/>\n                        <\/svg>\n                        <span>Добавить кнопку<\/span>\n                    <\/div>\n                <\/div>\n            <\/a>\n        <\/div>\n    \`)\n\n\$(\".inline_button_label, .reply_button_label, .auto_button_label\").off(\"click\")\n\$(\".inline_button_label, .reply_button_label, .auto_button_label\").on(\"click\", function (event) {\n    if (\$(event.target).is(\"span\")) {\n        changeButtonType(\$(this)[0].id)\n    }\n})\n    \$(\".form_button_new-add-big--js, .form_button_new-add--js\").on(\"pointermove\", function (e) {\n        if (button_translate) {\n            if (button_translate.parent().find(\".placeholder_button\").length == 1 && button_translate.parent().find(\'.form_button_new-button\').length == 1) {\n                return\n            }\n            \$(\".placeholder_button\").remove()\n            let line = \$(\".form_button_new-buttons\").length + 1\n            let el = \$(this).hasClass(\"form_button_new-add-big--js\") ? \$(\".form_button_new-row_bottom\").prev() : \$(this).parent().parent()\n            el.after(\`\n                <div class=\"form_button_new-row form_button_new-row_\${line}\">\n                    <div class=\"form_button_new-buttons form_button_new-buttons_\${line}\">\n                        \${placeholder_button}\n                    <\/div>\n                    <a data-remote=\"true\" href=\"/projects/569981/buttons_form/new?line=\${line}\">\n                        <div class=\"form_button_new-add--js\">\n                            <div class=\"btn-dashed-white--m w-100\">\n                                <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                                    <path d=\"M12.75 6C12.75 5.58579 12.4142 5.25 12 5.25C11.5858 5.25 11.25 5.58579 11.25 6H12.75ZM11.25 18C11.25 18.4142 11.5858 18.75 12 18.75C12.4142 18.75 12.75 18.4142 12.75 18H11.25ZM18 12.75C18.4142 12.75 18.75 12.4142 18.75 12C18.75 11.5858 18.4142 11.25 18 11.25V12.75ZM6 11.25C5.58579 11.25 5.25 11.5858 5.25 12C5.25 12.4142 5.58579 12.75 6 12.75V11.25ZM11.25 6V18H12.75V6H11.25ZM18 11.25H6V12.75H18V11.25Z\" fill=\"#95A3BA\"/>\n                                <\/svg>\n                            <\/div>\n                        <\/div>\n                    <\/a>\n                <\/div>\n            \`)\n            \$(\".form_button_new-buttons\").each(function () {\n                if (\$(this).find(\".form_button_new-button\").length == 0 && \$(this).find(\".placeholder_button\").length == 0) {\n                    \$(this).parent().remove()\n                }\n            })\n        }\n    })\n}\n\n\nif (true) {\n    if (localStorage.getItem(\"salebot_button_type\")) {\n        default_value = localStorage.getItem(\"salebot_button_type\")\n        \$(\`#\${default_value} > input\`).prop(\"checked\", true)\n    }\n}\n\nfunction changeButtonType(new_type) {\n    default_value = new_type\n    localStorage.setItem(\"salebot_button_type\", new_type)\n    let obj = JSON.parse(\$(\"#message_buttons\").val())\n    obj.forEach(function (button, index) {\n        let current_type = button.type\n        if (current_type == \"reply\" || current_type == \"inline\" || current_type == \"auto\") {\n            button.type = new_type\n        }\n        if (button.web_app) {\n            if (new_type == \"reply\") {\n                button.type = \"web_app\"\n            } else {\n                button.type = new_type\n            }\n        }\n    })\n    \$(\"#message_buttons\").val(JSON.stringify(obj))\n    drawButtons(JSON.parse(\$(\"#message_buttons\").val()))\n}\n\$(\"#message_buttons\").on(\"blur\", initFormButton)\n\$(\".simple_form\").on(\"submit\", function(e){\n    let comment_trigger = false && m_type.val() == 8\n    let post_params_trigger = parseInt(\$(\"#message_request_type\").val()) > 0 && \$(\"#message_post_params\").val() == \'\'\n    let expression_trigger = \$(\"#message_condition\").val().split(/!=|==/g).length > 1\n    if(\$(\"#message_buttons\").val() == \"[]\"){\n        \$(\"#message_buttons\").val(\'\')\n    }\n    if(comment_trigger && !confirm(\"Все стрелки к этому блоку будут удалены. Сменить тип на комментарий?\")){\n        e.preventDefault()\n        e.stopPropagation()\n    }\n    if(post_params_trigger && !confirm(\"Вы выбрали POST запрос и не указали JSON POST-параметров. Вы хотите сохранить блок ?\")){\n        e.preventDefault()\n        e.stopPropagation()\n    }\n    if(expression_trigger && !confirm(\"Вы написали логическое выражение в условие, а не в переменную для сравнения. Оставить как есть ?\")){\n        e.preventDefault()\n        e.stopPropagation()\n    }\n})\n\$(\".preview_file\").click(function(e){\n    e.stopPropagation()\n    e.preventDefault()\n    let url = \"\"\n    let type = \"\"\n    let el = \$(\".preview_file_file\")\n    if (type) {\n        \$(\".preview_file\").remove()\n        if (type.startsWith(\"audio\")) {\n            el.html(\`<audio onerror=\"file_on_error(\'\${url}\')\" src=\"\${url}\" style=\"margin-bottom: 10px\" class=\"file_item get_content_type\" controls=\"true\"/>\`)\n        } else if (type.startsWith(\"image\")) {\n            el.html(\`<img onerror=\"file_on_error(\'\${url}\')\" src=\"\${url}\" class=\"file_preview_img\"/>\`)\n        } else if (type.startsWith(\"video\")) {\n            el.html(\`<video onerror=\"file_on_error(\'\${url}\')\" src=\"\${url}\" class=\"file_preview_video\" controls=\"true\"/>\`)\n        } else if (type.startsWith(\"text\")) {\n            el.html(\`<a href=\"\${url}\" class=\"link_file\" target=\"_blank\">Ссылка: \${url}<\/a>\`)\n        } else {\n            el.html(\`<a href=\"\${url}\" class=\"link_file\" target=\"_blank\">Неопределенный файл: \${url}<\/a>\`)\n        }\n    } else {\n        \$.ajax({\n            url: \"https://chatter.salebot.pro/get_extension\",\n            type: \"POST\",\n            data: {url: url},\n            success: function (data) {\n                \$(\".preview_file\").remove()\n                if (data != \"404\") {\n                    if (data == (\".ogg\") || data == (\".midi\") || data == (\".mp3\") || data == (\".wav\") || data == (\".m4a\") || data == (\".oga\")) {\n                        el.html(\`<audio onerror=\"file_on_error(\'\${url}\')\" src=\"\${url}\" style=\"margin-bottom: 10px\" class=\"file_item get_content_type\" controls=\"true\"/>\`)\n                    } else if (data == (\".png\") || data == (\".jpg\") || data == (\".jpeg\") || data == (\".gif\") || data == (\".svg\") || data == (\".jpe\")) {\n                        el.html(\`<img onerror=\"file_on_error(\'\${url}\')\" src=\"\${url}\" class=\"file_preview_img\"/>\`)\n                    } else if (data == (\".mp4\") || data == (\".flv\") || data == (\".mov\")) {\n                        el.html(\`<video onerror=\"file_on_error(\'\${url}\')\" src=\"\${url}\" class=\"file_preview_video\" controls=\"true\"/>\`)\n                    } else if (data.search(\"htm\") != -1) {\n                        el.html(\`<a href=\"\${url}\" class=\"link_file\" target=\"_blank\">Ссылка: \${url}<\/a>\`)\n                    } else {\n                        el.html(\`<a href=\"\${url}\" target=\"_blank\" class=\"chat-message__attach file_item get_content_type\">\n                                                             <span class=\"chat-message__attach-name\">Вложение<\/span>\n                                                             \${fileSVG}\n                                                       <\/a>\`)\n                    }\n                } else {\n                    el.html(\`<a href=\"\${url}\" class=\"link_file\" target=\"_blank\">Неопределенный файл: \${url}<\/a>\`)\n                }\n            },\n            error: function (error) {\n                \$(\".preview_file\").remove()\n                el.append(\`<div class=\"file_on_error\">Произошла ошибка<\/div>\`)\n            }\n        })\n    }\n})\n\$(\".simple_form input, .simple_form textarea, .simple_form select\").on(\"input change\", function(){\n    form_change_trigger = true\n})\n\$(\".btn-success\").on(\'mouseover\', function () {\n    get_center()\n});\n\$(\"#message_attachment_url\").on(\"change\", function(){\n    console.log(\"CHANGE FILES\")\n\n})\n\$(\".btn-success\").on(\'click\', function (e) {\n    if((\$(\'#message_attachment_url\').val() != \'\' || \$(\"#message_file\").val() != \"\") && \$(\"#message_attachment_type\").val() == \'\'){\n        M.toast({html:\"translation missing: ru.req_for_attachment\"})\n        e.preventDefault()\n        e.stopPropagation()\n    }\n});\n\$(\"#editor\").resizable({\n    handles: \'w\'\n});\n\$(\'.pro_s\').click(function () {\n    \$(this).toggleClass(\'lnk--active\')\n    \$(\'#pro_part\').toggle();\n});\n\$(\'.buttons_s\').click(function () {\n    \$(this).toggleClass(\'lnk--active\')\n    \$(\'#buttons_part\').toggle();\n});\n\$(\'.attachment_s\').click(function () {\n    \$(this).toggleClass(\'lnk--active\')\n    \$(\'#attachment_part\').toggle();\n});\n\n// new joint.ui.Tooltip({\n//     rootTarget: document.body,\n//     target: \"[data-tooltip]\",\n//     padding: 15,\n//     animation: {\n//         delay: \"500ms\",\n//         duration: \"100ms\"\n//     }\n// });\n\$(\'select\').formSelect();\n\n\$(\'.state_select_main_ident\').searchableFormSelect();\n\$(\'.list_select_main_ident\').searchableFormSelect();\n\$(\'.label_select_main_ident\').searchableFormSelect();\n\nif (m_request_type.val().length > 0 || \$(\'#message_variables\').val().length > 0) {\n    \$(\'.pro_s\').remove();\n    \$(\'#pro_part\').show();\n}\n\nif (\$(\'#message_hint\').val().length > 0 ||\n    \$(\'#message_buttons\').val().length > 0){\n}\n\nif (\$(\'#message_attachment_type\').val().length > 0) {\n    \$(\'.attachment_s\').remove();\n    \$(\'#attachment_part\').show();\n}\n\nif (parseInt(m_type.val()) == 1 || parseInt(m_type.val()) == 3 ||\n    parseInt(m_type.val()) == 4 || parseInt(m_type.val()) == 5) {\n    mc.show();\n}\nif (parseInt(m_type.val()) == 3) {\n    mt.show()\n}\nif (m_request_type.val() !== \'\') {\n    mu.show();\n    var val = parseInt(m_request_type.val());\n    if (needShowParams(val)) {\n        m_post_params.show();\n    }\n}\nm_request_type.change(function () {\n    if (m_request_type.val() === \'\') {\n        mu.slideUp();\n    } else {\n        var val = parseInt(m_request_type.val());\n        if (needShowParams(val)) {\n            m_post_params.show();\n        } else {\n            m_post_params.hide();\n        }\n        mu.slideDown();\n    }\n});\n\nm_type.change(function () {\n    console.log(m_type.val())\n    if (m_type.val() == 1 || m_type.val() == 3 || m_type.val() == 4 || m_type.val() == 5) {\n        mc.slideDown();\n    } else {\n        mc.slideUp();\n    }\n    if (parseInt(m_type.val()) == 3) {\n        mt.slideDown();\n    } else {\n        mt.slideUp();\n    }\n    if (m_type.val() == 8) {\n        \$(\'#additional_types\').hide()\n        \$(\'#additional_functions\').hide()\n    } else {\n        \$(\'#additional_types\').show()\n        \$(\'#additional_functions\').show()\n    }\n});\n\nfunction needShowParams(val) {\n    return val == 1 || val == 2 || val == 3 || val == 4 || val == 5\n}\n\$(document).off(\'.dropDown\').on(\"pointerup.dropDown\", function (e) {\n\n    if (!\$(\".dropdown-content.select-dropdown\").is(e.target) && !\$(\".change_time_container\").is(e.target)) {\n        \$(\".change_time_container\").hide()\n    }\n    if(!\$(\"#message_description\").is(e.target)){\n        \$(\".title_to_change\").show()\n        \$(\".message_description_input\").addClass(\"hidden\")\n    }\n})\n\$(document).off(\'.headerMessageType\').on(\"click.headerMessageType\", function (e) {\n    var clickTarget = \$(\".header_messages_form_type\");\n    var hideList = \$(\".header_messages_form_type_container\")\n    if (\$(e.target).parents(\".header_messages_form_type_container\").length > 0) {\n      hideList.hide()\n    }\n    if (!clickTarget.is(e.target) && clickTarget.has(e.target).length === 0) {\n      hideList.hide()\n    }\n})\ncheckActiveParts()\n\n\$(\'.editor_close_bar\').on(\"click\", function (e) {\n  \$(\'#editor\').hide()\n});\n\n\nvar toggleplaceholder = function (e) {\n    if (form_message.html() != \"\") {\n        textbox_placeholder.addClass(\"hidden\")\n    } else {\n        textbox_placeholder.removeClass(\"hidden\")\n    }\n}\n\nfunction isWindows() {\n    return navigator.platform.indexOf(\'Win\') > -1\n}\nvar form_message_on_paste = function (e) {\n    e.originalEvent.stopPropagation()\n    e.originalEvent.preventDefault()\n    document.execCommand(\"insertText\", false, e.originalEvent.clipboardData.getData(\"text\").replace(/\\r\\n|\\r|\\n/gm, \"\\n\"));\n    toggleplaceholder()\n}\nvar setWordsLenght = function () {\n    \$(\"#message_answer\").val(regexp())\n    let len = \$(\"#message_answer\").val().length\n    \$(\".super_ident_class\").text(len + \"/4000\")\n    if (len > 1024 && file_selected) {\n        M.toast({html: \"Текст сообщения превышает длину в 1024 символа, ваша фотография будет прикреплена ссылкой\"})\n    }\n}\n\n\$(\"#text_part\").on(\"input\", setWordsLenght);\n\nform_message.on(\"input\", function(){\n    toggleplaceholder()\n    form_change_trigger = true\n})\nform_message.on(\'paste\', function(e){\n    form_message_on_paste(e)\n});\nform_message.on(\'blur\', function(e){\n    setWordsLenght()\n});\ntextbox_placeholder.on(\"click\", () => form_message.focus())\nvar insertTextAtCursor = function (html, is_text = false) {\n    var sel, range;\n    if (window.getSelection) {\n        sel = window.getSelection();\n        if (sel.anchorNode != document.querySelector(\"#textbox\")) {\n            form_message.focus()\n        }\n        if (sel.getRangeAt && sel.rangeCount) {\n            range = sel.getRangeAt(0);\n            range.deleteContents();\n            var el = document.createElement(\"div\");\n            if (is_text) {\n                el.innerText = html;\n            } else {\n                el.innerHTML = html;\n            }\n            var frag = document.createDocumentFragment(), node, lastNode;\n            while ((node = el.firstChild)) {\n                lastNode = frag.appendChild(node);\n            }\n            range.insertNode(frag);\n            if (lastNode) {\n                range = range.cloneRange();\n                range.setStartAfter(lastNode);\n                range.collapse(false);\n                sel.removeAllRanges();\n                sel.addRange(range);\n            }\n        }\n    } else if (document.selection && document.selection.type != \"Control\") {\n        document.selection.createRange().pasteHTML(html);\n    }\n    form_message.focus()\n    toggleplaceholder()\n};\nvar emojis = \$(\".emojis\")\nvar emojipicker = \$(\".emojipicker_for_messages--js\")\nvar emoji_item = \$(\".emoji_item\")\nvar emoji_type_changer = function (e) {\n    e.stopPropagation()\n    e.preventDefault()\n    let type = \$(this).find(\".type_id\").text()\n    \$(\".emoji_type\").addClass(\"hidden\")\n    \$(\".\" + type + \"_type_emoji\").removeClass(\"hidden\")\n}\nvar emoji_click = function (e) {\n    e.stopPropagation()\n    e.preventDefault()\n    insertTextAtCursor(\$(this).html())\n    toggleplaceholder()\n}\n\nemojipicker.off(\'click\').on(\'click\', function (e) {\n  e.stopPropagation()\n  e.preventDefault()\n  if (\$(this).hasClass(\'btn-active__blue\')) {\n    emojis.addClass(\"hidden\")\n    \$(this).removeClass(\'btn-active__blue\')\n  } else {\n    emojis.removeClass(\"hidden\")\n    \$(this).addClass(\'btn-active__blue\')\n  }\n\n  emoji_item.Emoji()\n  \$(\".emoji_prew\").Emoji()\n});\n\n\$(\'.emojis\').off(\'mousemove\').on(\'mousemove\', function () {\n  \$(\'.joint-tooltip\').remove()\n})\n\n//определить !\n\$(\".type_ident\").mousedown(emoji_type_changer)\nemoji_item.mousedown(emoji_click)\n\$(document).off(\'.documentMouseUp\').on(\'mouseup.documentMouseUp\',function (e) {\n  if (\$(\'.for_emojis--js\').has(e.target).length === 0 && emojipicker.has(e.target).length === 0)  {\n    emojis.addClass(\'hidden\');\n    emojipicker.removeClass(\'btn-active__blue\')\n  }\n});\nvar toggleBigButtons = function (){\n    let type = parseInt(\$(\"#message_message_type\").val())\n    \$(\".setting_buttons_item_condition\").hide()\n    \$(\".setting_buttons_item_time\").hide()\n    let condition_types = [1,3,4,5]\n    if (condition_types.includes(type)) {\n        \$(\".setting_buttons_item_condition\").show()\n        mc.show()\n    }\n    if (type == 3) {\n        \$(\".setting_buttons_item_time\").show()\n        mt.show()\n        \$(\'.message_response_only_to_callback\').hide()\n    }\n    if (!condition_types.includes(type)) {\n        mc.hide()\n    }\n    if (type != 3) {\n        mt.hide()\n        \$(\'.message_response_only_to_callback\').show()\n    }\n    checkActiveParts()\n}\nvar regexp = function () {\n    let res = form_message.html().replace(emoji_regexp, \"\$1\")\n        .replace(div_br_regexp, \"\\n\")\n        .replace(br_regexp, \"\\n\")\n        .replace(div_regexp, \"\\n\")\n        .replace(font_regexp, \"\")\n        .replace(font_c_regexp, \"\")\n        .replace(div_c_regexp, \"\")\n        .replace(space_regexp, \" \")\n        .replace(span_regexp, \"\$1\")\n        .replace(pre_regexp, \"\$1\")\n        .replace(/&amp;/g, \"&\")\n    res = html_escape(res)\n    return res\n}\nfunction insertTextInTexarea(){\n  let text = html_escape(\$(\"#message_answer\").val().replace(/\\n/g, \"<\/br>\"))\n  return text\n}\nform_message.html(insertTextInTexarea())\n\ntoggleplaceholder()\ntoggleBigButtons()\ncheckActiveParts()\nsetWordsLenght()\n\n\$(\`.attachment-list__btn--js[data-type=\'\${attachment_type_new_style}\']\`).click()\nif(attachment_type_new_style === \"link_shortener\"){\n    \$(\`.attachment-list__btn--js[data-type=\'link\']\`).click()\n    \$(\".for_shortener_link .check_box\").addClass(\"check_box_checked\")\n    \$(\"#message_attachment_type\").val(\"link_shortener\")\n}\n\nif (\$(\'#message_analytics_value\').val() === \'\') {\n  \$(\'.analytics_value_input\').hide()\n} else {\n  \$(\'.add_action_analytics_variables\').hide()\n}\n\$(\'.add_action_analytics_variables\').off(\'click\').on(\'click\', function () {\n  \$(\'.analytics_value_input\').show()\n  \$(\'.add_action_analytics_variables\').hide()\n})\ntoggleMarkdownBlock()\n\n\$(\".messages-generate-text-icon\").on(\"click\", function (){\n    \$.ajax({\n        url: \'/projects/569981/ai_assistant/generate_text_modal\',\n        method: \"POST\",\n        data: {\n            type: 1\n        }\n    })\n})<\/script>");
    }
    else {
        if ($(".message-actions .btn-active__blue").length != 0) {
            $('#editor').find('*').off().remove();
            $('#editor').html("<div class=\"editor_form_container create_form\"><div class=\"editor_form\"><form class=\"simple_form new_message\" id=\"new_message\" enctype=\"multipart/form-data\" action=\"/projects/569981/messages\" accept-charset=\"UTF-8\" data-remote=\"true\" method=\"post\"><input name=\"utf8\" type=\"hidden\" value=\"&#x2713;\" autocomplete=\"off\" /><input type=\"hidden\" name=\"authenticity_token\" value=\"hcFrcDjwOU6wjgfDFSw2ZTS8pJlqbQgZHwapVmpJGKNDJb5rLDnQ3aFhINBexEIvIa4lPobFCT8KQhWYCZhk8A\" autocomplete=\"off\" /><div class=\"header_messages_form\"><div class=\"header_messages_form_left\"><div class=\"header_messages_form_type\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path d=\"M19.1109 11.6215V14.1236C19.1109 15.5147 17.9838 16.6418 16.5927 16.6418H12.3954L8.19816 20V16.6418H6.51819C5.1271 16.6418 4 15.5147 4 14.1236V7.40729C4 6.01619 5.1271 4.8891 6.51819 4.8891H12.4977M19.4513 4.54866C20.1829 5.2802 20.1829 6.46508 19.4513 7.19662C18.7198 7.92817 17.5349 7.92817 16.8034 7.19662C16.0718 6.46508 16.0718 5.2802 16.8034 4.54866C17.5349 3.81711 18.7207 3.81711 19.4513 4.54866Z\" stroke=\"#6C7A96\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n<\/svg>\n<\/div><div class=\"header_messages_form_type_container\"><div class=\"header_messages_form_type_container_item\"><div class=\"header_messages_form_type_container_item_icon\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M10.4294 9.10745C10.6943 8.9564 11.0181 8.96514 11.275 9.13029L14.6083 11.2731C14.852 11.4298 15 11.7045 15 12C15 12.2955 14.852 12.5702 14.6083 12.7269L11.275 14.8697C11.0181 15.0349 10.6943 15.0436 10.4294 14.8925C10.1644 14.7415 10 14.4544 10 14.1429V9.85714C10 9.54555 10.1644 9.2585 10.4294 9.10745Z\" fill=\"#059611\"/>\n  <circle cx=\"12\" cy=\"12\" r=\"8\" stroke=\"#059611\" stroke-width=\"1.5\"/>\n<\/svg>\n<\/div><div class=\"header_messages_form_type_container_item_text\">Начало диалога<\/div><div class=\"header_messages_form_type_container_item_ident hidden\">1<\/div><\/div><div class=\"header_messages_form_type_container_item\"><div class=\"header_messages_form_type_container_item_icon\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path d=\"M5 4.95915L4.6279 4.30797C4.39421 4.4415 4.25 4.69001 4.25 4.95915H5ZM4.25 20C4.25 20.4142 4.58579 20.75 5 20.75C5.41421 20.75 5.75 20.4142 5.75 20H4.25ZM4.6279 15.2344C4.26826 15.4399 4.14331 15.8981 4.34882 16.2577C4.55433 16.6173 5.01247 16.7423 5.37211 16.5368L4.6279 15.2344ZM11.5679 15.5539L11.8725 14.8685L11.8725 14.8685L11.5679 15.5539ZM13.0606 16.2173L12.756 16.9027L12.756 16.9027L13.0606 16.2173ZM19.6285 15.8856L20.0006 16.5368C20.2343 16.4033 20.3785 16.1547 20.3785 15.8856H19.6285ZM19.6285 4.95903H20.3785C20.3785 4.69167 20.2362 4.44454 20.005 4.31034C19.7737 4.17615 19.4885 4.1752 19.2564 4.30785L19.6285 4.95903ZM13.0606 5.29074L12.756 5.9761L13.0606 5.29074ZM11.5679 4.62733L11.2633 5.31268L11.2633 5.31268L11.5679 4.62733ZM4.25 4.95915V20H5.75V4.95915H4.25ZM5.37211 16.5368C7.17657 15.5057 9.36414 15.3952 11.2633 16.2393L11.8725 14.8685C9.53704 13.8306 6.84691 13.9664 4.6279 15.2344L5.37211 16.5368ZM11.2633 16.2393L12.756 16.9027L13.3652 15.532L11.8725 14.8685L11.2633 16.2393ZM12.756 16.9027C15.0915 17.9407 17.7816 17.8048 20.0006 16.5368L19.2564 15.2344C17.4519 16.2656 15.2644 16.376 13.3652 15.532L12.756 16.9027ZM20.3785 15.8856V4.95903H18.8785V15.8856H20.3785ZM19.2564 4.30785C17.4519 5.33897 15.2644 5.44946 13.3652 4.60538L12.756 5.9761C15.0915 7.01409 17.7816 6.87822 20.0006 5.61021L19.2564 4.30785ZM13.3652 4.60538L11.8725 3.94197L11.2633 5.31268L12.756 5.9761L13.3652 4.60538ZM11.8725 3.94197C9.53702 2.90396 6.84689 3.03997 4.6279 4.30797L5.3721 5.61033C7.1766 4.57919 9.36417 4.46862 11.2633 5.31268L11.8725 3.94197Z\" fill=\"#34D399\"/>\n<\/svg>\n<\/div><div class=\"header_messages_form_type_container_item_text\">Первостепенная проверка условия<\/div><div class=\"header_messages_form_type_container_item_ident hidden\">4<\/div><\/div><div class=\"header_messages_form_type_container_item\"><div class=\"header_messages_form_type_container_item_icon\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path d=\"M19.1109 11.6215V14.1236C19.1109 15.5147 17.9838 16.6418 16.5927 16.6418H12.3954L8.19816 20V16.6418H6.51819C5.1271 16.6418 4 15.5147 4 14.1236V7.40729C4 6.01619 5.1271 4.8891 6.51819 4.8891H12.4977M19.4513 4.54866C20.1829 5.2802 20.1829 6.46508 19.4513 7.19662C18.7198 7.92817 17.5349 7.92817 16.8034 7.19662C16.0718 6.46508 16.0718 5.2802 16.8034 4.54866C17.5349 3.81711 18.7207 3.81711 19.4513 4.54866Z\" stroke=\"#6C7A96\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n<\/svg>\n<\/div><div class=\"header_messages_form_type_container_item_text\">Состояние диалога<\/div><div class=\"header_messages_form_type_container_item_ident hidden\">0<\/div><\/div><div class=\"header_messages_form_type_container_item\"><div class=\"header_messages_form_type_container_item_icon\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path d=\"M9.46967 8.53033C9.76256 8.82322 10.2374 8.82322 10.5303 8.53033C10.8232 8.23744 10.8232 7.76256 10.5303 7.46967L9.46967 8.53033ZM7 5L7.53033 4.46967C7.23744 4.17678 6.76256 4.17678 6.46967 4.46967L7 5ZM3.46967 7.46967C3.17678 7.76256 3.17678 8.23744 3.46967 8.53033C3.76256 8.82322 4.23744 8.82322 4.53033 8.53033L3.46967 7.46967ZM6.25 19C6.25 19.4142 6.58579 19.75 7 19.75C7.41421 19.75 7.75 19.4142 7.75 19H6.25ZM14.5303 15.4697C14.2374 15.1768 13.7626 15.1768 13.4697 15.4697C13.1768 15.7626 13.1768 16.2374 13.4697 16.5303L14.5303 15.4697ZM17 19L16.4697 19.5303C16.7626 19.8232 17.2374 19.8232 17.5303 19.5303L17 19ZM20.5303 16.5303C20.8232 16.2374 20.8232 15.7626 20.5303 15.4697C20.2374 15.1768 19.7626 15.1768 19.4697 15.4697L20.5303 16.5303ZM17.75 5C17.75 4.58579 17.4142 4.25 17 4.25C16.5858 4.25 16.25 4.58579 16.25 5H17.75ZM10.5303 7.46967L7.53033 4.46967L6.46967 5.53033L9.46967 8.53033L10.5303 7.46967ZM6.46967 4.46967L3.46967 7.46967L4.53033 8.53033L7.53033 5.53033L6.46967 4.46967ZM7.75 19V5H6.25V19H7.75ZM13.4697 16.5303L16.4697 19.5303L17.5303 18.4697L14.5303 15.4697L13.4697 16.5303ZM17.5303 19.5303L20.5303 16.5303L19.4697 15.4697L16.4697 18.4697L17.5303 19.5303ZM16.25 5V19H17.75V5H16.25Z\" fill=\"#F59E0B\"/>\n<\/svg>\n<\/div><div class=\"header_messages_form_type_container_item_text\">Передача данных<\/div><div class=\"header_messages_form_type_container_item_ident hidden\">7<\/div><\/div><div class=\"header_messages_form_type_container_item\"><div class=\"header_messages_form_type_container_item_icon\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path d=\"M9.46967 8.53033C9.76256 8.82322 10.2374 8.82322 10.5303 8.53033C10.8232 8.23744 10.8232 7.76256 10.5303 7.46967L9.46967 8.53033ZM7 5L7.53033 4.46967C7.23744 4.17678 6.76256 4.17678 6.46967 4.46967L7 5ZM3.46967 7.46967C3.17678 7.76256 3.17678 8.23744 3.46967 8.53033C3.76256 8.82322 4.23744 8.82322 4.53033 8.53033L3.46967 7.46967ZM6.25 19C6.25 19.4142 6.58579 19.75 7 19.75C7.41421 19.75 7.75 19.4142 7.75 19H6.25ZM14.5303 15.4697C14.2374 15.1768 13.7626 15.1768 13.4697 15.4697C13.1768 15.7626 13.1768 16.2374 13.4697 16.5303L14.5303 15.4697ZM17 19L16.4697 19.5303C16.7626 19.8232 17.2374 19.8232 17.5303 19.5303L17 19ZM20.5303 16.5303C20.8232 16.2374 20.8232 15.7626 20.5303 15.4697C20.2374 15.1768 19.7626 15.1768 19.4697 15.4697L20.5303 16.5303ZM17.75 11C17.75 10.5858 17.4142 10.25 17 10.25C16.5858 10.25 16.25 10.5858 16.25 11H17.75ZM10.5303 7.46967L7.53033 4.46967L6.46967 5.53033L9.46967 8.53033L10.5303 7.46967ZM6.46967 4.46967L3.46967 7.46967L4.53033 8.53033L7.53033 5.53033L6.46967 4.46967ZM7.75 19V5H6.25V19H7.75ZM13.4697 16.5303L16.4697 19.5303L17.5303 18.4697L14.5303 15.4697L13.4697 16.5303ZM17.5303 19.5303L20.5303 16.5303L19.4697 15.4697L16.4697 18.4697L17.5303 19.5303ZM16.25 11V19H17.75V11H16.25Z\" fill=\"#D97706\"/>\n  <path d=\"M20.1112 3.8891L16.1289 7.75468M20.1112 7.75468L16.1289 3.8891\" stroke=\"#D97706\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n<\/svg>\n<\/div><div class=\"header_messages_form_type_container_item_text\">Не состояние передача данных<\/div><div class=\"header_messages_form_type_container_item_ident hidden\">9<\/div><\/div><div class=\"header_messages_form_type_container_item\"><div class=\"header_messages_form_type_container_item_icon\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path d=\"M15.5441 9.83205L11.9794 13.3968M15.5441 13.3968L11.9794 9.83205M7.069 6.74679L4.33219 10.5789C3.88927 11.1982 3.88927 12.0315 4.33219 12.6509L7.069 16.4829C7.40319 16.9508 7.94324 17.2288 8.51894 17.2288H18.2176C19.2024 17.2288 20 16.4312 20 15.4465V7.78234C20 6.79759 19.2024 5.99998 18.2176 5.99998H8.51894C7.94324 5.99998 7.40319 6.27803 7.069 6.74679Z\" stroke=\"#EF4444\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n<\/svg>\n<\/div><div class=\"header_messages_form_type_container_item_text\">Конец сбора данных<\/div><div class=\"header_messages_form_type_container_item_ident hidden\">2<\/div><\/div><div class=\"header_messages_form_type_container_item\"><div class=\"header_messages_form_type_container_item_icon\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path d=\"M15.5441 9.83205L11.9794 13.3968M15.5441 13.3968L11.9794 9.83205M20 9.99998V15.4465C20 16.4312 19.2024 17.2288 18.2176 17.2288H8.51894C7.94324 17.2288 7.40319 16.9508 7.069 16.4829L4.33219 12.6508C3.88927 12.0315 3.88927 11.1982 4.33219 10.5789L7.069 6.74679C7.40319 6.27803 7.94324 5.99998 8.51894 5.99998H16M21.7824 4.20772L18.2176 7.77243M21.7824 7.77243L18.2176 4.20772\" stroke=\"#FCA5A5\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n<\/svg><\/div><div class=\"header_messages_form_type_container_item_text\">Не состояние конец сбора данных<\/div><div class=\"header_messages_form_type_container_item_ident hidden\">10<\/div><\/div><div class=\"header_messages_form_type_container_item\"><div class=\"header_messages_form_type_container_item_icon\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path d=\"M14.0244 20H10.6665M17.5922 9.33335C17.5922 6.38828 15.2427 4.00002 12.3454 4.00002C9.44818 4.00002 7.0987 6.38828 7.0987 9.33335V12.0043C7.0987 12.3499 6.90666 12.6645 6.6034 12.8192L6.07558 13.0869C5.41659 13.4229 5 14.1077 5 14.8565C5 15.9488 5.87096 16.8341 6.94549 16.8341H17.7454C18.8199 16.8341 19.6909 15.9488 19.6909 14.8565C19.6909 14.1077 19.2743 13.4229 18.6153 13.088L18.0875 12.8203C17.7842 12.6645 17.5922 12.3499 17.5922 12.0043V9.33335Z\" stroke=\"#3B82F6\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n<\/svg>\n<\/div><div class=\"header_messages_form_type_container_item_text\">Напоминание<\/div><div class=\"header_messages_form_type_container_item_ident hidden\">3<\/div><\/div><div class=\"header_messages_form_type_container_item\"><div class=\"header_messages_form_type_container_item_icon\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path d=\"M14 9.41145L10 13.4115M14 13.4115L10 9.41145M4 7.66665C4 6.19376 5.19378 4.99998 6.66667 4.99998H17.3333C18.8062 4.99998 20 6.19376 20 7.66665V14.7778C20 16.2507 18.8062 17.4444 17.3333 17.4444H12.8889L8.44444 21V17.4444H6.66667C5.19378 17.4444 4 16.2507 4 14.7778V7.66665Z\" stroke=\"#95A3BA\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n<\/svg>\n\n<\/div><div class=\"header_messages_form_type_container_item_text\">Не состояние с условием<\/div><div class=\"header_messages_form_type_container_item_ident hidden\">5<\/div><\/div><div class=\"header_messages_form_type_container_item\"><div class=\"header_messages_form_type_container_item_icon\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path d=\"M5 4.95917L4.6279 4.30799C4.39421 4.44152 4.25 4.69003 4.25 4.95917H5ZM4.25 20C4.25 20.4142 4.58579 20.75 5 20.75C5.41421 20.75 5.75 20.4142 5.75 20H4.25ZM4.6279 15.2344C4.26826 15.44 4.14331 15.8981 4.34882 16.2577C4.55433 16.6174 5.01247 16.7423 5.37211 16.5368L4.6279 15.2344ZM11.5679 15.5539L11.8725 14.8686L11.8725 14.8686L11.5679 15.5539ZM13.0606 16.2173L12.756 16.9027L12.756 16.9027L13.0606 16.2173ZM19.6285 15.8856L20.0006 16.5368C20.2343 16.4033 20.3785 16.1548 20.3785 15.8856H19.6285ZM19.6285 4.95905H20.3785C20.3785 4.69169 20.2362 4.44456 20.005 4.31036C19.7737 4.17617 19.4885 4.17522 19.2564 4.30787L19.6285 4.95905ZM13.0606 5.29076L12.756 5.97612L13.0606 5.29076ZM11.5679 4.62735L11.2633 5.3127L11.2633 5.3127L11.5679 4.62735ZM14.9049 8.83808C15.2028 8.55024 15.2109 8.07543 14.923 7.77758C14.6352 7.47972 14.1604 7.47161 13.8625 7.75945L14.9049 8.83808ZM9.72344 11.7595C9.42558 12.0473 9.41747 12.5221 9.70531 12.82C9.99316 13.1178 10.468 13.1259 10.7658 12.8381L9.72344 11.7595ZM13.8625 12.8381C14.1604 13.1259 14.6352 13.1178 14.923 12.82C15.2109 12.5221 15.2028 12.0473 14.9049 11.7595L13.8625 12.8381ZM10.7658 7.75945C10.468 7.47161 9.99316 7.47972 9.70531 7.77758C9.41747 8.07543 9.42558 8.55024 9.72344 8.83808L10.7658 7.75945ZM4.25 4.95917V20H5.75V4.95917H4.25ZM5.37211 16.5368C7.17657 15.5057 9.36414 15.3952 11.2633 16.2393L11.8725 14.8686C9.53704 13.8306 6.84691 13.9664 4.6279 15.2344L5.37211 16.5368ZM11.2633 16.2393L12.756 16.9027L13.3652 15.532L11.8725 14.8686L11.2633 16.2393ZM12.756 16.9027C15.0915 17.9407 17.7816 17.8048 20.0006 16.5368L19.2564 15.2344C17.4519 16.2656 15.2644 16.3761 13.3652 15.532L12.756 16.9027ZM20.3785 15.8856V4.95905H18.8785V15.8856H20.3785ZM19.2564 4.30787C17.4519 5.33899 15.2644 5.44948 13.3652 4.6054L12.756 5.97612C15.0915 7.01411 17.7816 6.87824 20.0006 5.61023L19.2564 4.30787ZM13.3652 4.6054L11.8725 3.94199L11.2633 5.3127L12.756 5.97612L13.3652 4.6054ZM11.8725 3.94199C9.53702 2.90398 6.84689 3.03999 4.6279 4.30799L5.3721 5.61035C7.1766 4.57921 9.36417 4.46864 11.2633 5.3127L11.8725 3.94199ZM13.8625 7.75945L9.72344 11.7595L10.7658 12.8381L14.9049 8.83808L13.8625 7.75945ZM14.9049 11.7595L10.7658 7.75945L9.72344 8.83808L13.8625 12.8381L14.9049 11.7595Z\" fill=\"#95A3BA\"/>\n<\/svg>\n<\/div><div class=\"header_messages_form_type_container_item_text\">Не состояние<\/div><div class=\"header_messages_form_type_container_item_ident hidden\">6<\/div><\/div><div class=\"header_messages_form_type_container_item\"><div class=\"header_messages_form_type_container_item_icon\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path d=\"M11.1112 15.1111H13.1639M12.1414 15.1111V11.3333H11.1192M20 12C20 16.4182 16.4183 20 12 20C7.58172 20 4 16.4182 4 12C4 7.58169 7.58172 3.99997 12 3.99997C16.4183 3.99997 20 7.58169 20 12Z\" stroke=\"#95A3BA\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n  <path d=\"M12.8906 8.66425C12.8906 9.21653 12.4429 9.66425 11.8906 9.66425C11.3383 9.66425 10.8906 9.21653 10.8906 8.66425C10.8906 8.11196 11.3383 7.66425 11.8906 7.66425C12.4429 7.66425 12.8906 8.11196 12.8906 8.66425Z\" fill=\"#95A3BA\"/>\n<\/svg>\n<\/div><div class=\"header_messages_form_type_container_item_text\">Комментарий<\/div><div class=\"header_messages_form_type_container_item_ident hidden\">8<\/div><\/div><\/div><div class=\"hidden type_text\">Состояние диалога<\/div><div class=\"header_messages_form_title\"><div class=\"title_to_change\">Состояние диалога<\/div><div class=\"message_description_input w-100 hidden\"><div class=\"input-field col string optional message_description s12\"><input placeholder=\"Описание\" class=\"string optional\" type=\"text\" name=\"message[description]\" id=\"message_description\" /><\/div><\/div><div class=\"header_messages_form_icon\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M19.5 19.5H14M16.9999 9.99997L13.9999 6.99997M18.879 5.12098C19.7071 5.94957 19.7071 7.2924 18.879 8.12098L8.892 18.108C8.63571 18.3643 8.31461 18.5461 7.963 18.634L4.5 19.5L5.366 16.037C5.45392 15.6854 5.63573 15.3643 5.892 15.108L15.88 5.12098C16.7082 4.29305 18.0508 4.29305 18.879 5.12098Z\" stroke=\"#95A3BA\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n<\/svg>\n<\/div><\/div><\/div><div class=\"header_messages_form_right\"><\/div><div class=\"editor_close_bar\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M7.19683 6.13569C6.90394 5.84279 6.42907 5.84279 6.13617 6.13569C5.84328 6.42858 5.84328 6.90345 6.13617 7.19635L7.19683 6.13569ZM12.8028 13.863C13.0957 14.1559 13.5706 14.1559 13.8635 13.863C14.1564 13.5701 14.1564 13.0952 13.8635 12.8024L12.8028 13.863ZM13.8635 7.19635C14.1564 6.90345 14.1564 6.42858 13.8635 6.13569C13.5706 5.84279 13.0957 5.84279 12.8028 6.13569L13.8635 7.19635ZM6.13617 12.8024C5.84328 13.0952 5.84328 13.5701 6.13617 13.863C6.42907 14.1559 6.90394 14.1559 7.19683 13.863L6.13617 12.8024ZM6.13617 7.19635L12.8028 13.863L13.8635 12.8024L7.19683 6.13569L6.13617 7.19635ZM12.8028 6.13569L6.13617 12.8024L7.19683 13.863L13.8635 7.19635L12.8028 6.13569Z\" fill=\"#95A3BA\"/>\n<\/svg>\n<\/div><\/div><div class=\"parts_total_container\"><div class=\"input-field col hidden message_x s12\"><input class=\"hidden\" autocomplete=\"off\" type=\"hidden\" value=\"-1\" name=\"message[x]\" id=\"message_x\" /><\/div><div class=\"input-field col hidden message_y s12\"><input class=\"hidden\" autocomplete=\"off\" type=\"hidden\" value=\"-1\" name=\"message[y]\" id=\"message_y\" /><\/div><div class=\"input-field col hidden message_message_type s12\"><input class=\"hidden\" autocomplete=\"off\" type=\"hidden\" value=\"0\" name=\"message[message_type]\" id=\"message_message_type\" /><\/div><div class=\"part_new\" id=\"time_part\" style=\"display: none\"><div class=\"change_time_container\"><div class=\"duration-inputs-wrapper\"><div class=\"flex_item-text\"><div class=\"input-field col string optional message_timeout s12\"><input placeholder=\"Время напоминания\" class=\"string optional\" type=\"text\" name=\"message[timeout]\" id=\"message_timeout\" /><\/div><\/div><div class=\"flex_item-select main-select\"><div class=\"input-field col select optional message_timeout_type s12\"><select class=\"select optional\" name=\"message[timeout_type]\" id=\"message_timeout_type\"><option selected=\"selected\" value=\"1\">Секунд<\/option>\n<option value=\"60\">Минут<\/option>\n<option value=\"3600\">Часов<\/option>\n<option value=\"86400\">Дней<\/option>\n<option value=\"-1\">Месяцев<\/option><\/select><\/div><\/div><\/div><\/div><div class=\"time_container_toggle\"><\/div><div class=\"time_part_svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path d=\"M11.872 4C16.2907 4 19.872 7.58133 19.872 12C19.872 16.4187 16.2907 20 11.872 20M9.13867 19.5102C8.25333 19.1876 7.43911 18.72 6.73156 18.1262M6.73156 5.87378C7.43911 5.27911 8.25333 4.81156 9.13867 4.48978M4 10.6116C4.16444 9.67556 4.48978 8.79644 4.94844 8.00267M4 13.3876C4.16444 14.3236 4.48978 15.2027 4.94844 15.9964M11.6213 8.432V12.5662L14.8711 14.5476\" stroke=\"#95A3BA\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n<\/svg>\n<\/div><div class=\"time_container\"><div class=\"time_duration\">Задержка отсутствует<\/div><div class=\"time_type\"><\/div><\/div><\/div><div class=\"redactor_condition_constructor_modal hidden\" style=\"max-height: 510px;\"><div class=\"redactor_condition_constructor_modal_header\"><div class=\"redactor_condition_constructor_modal_header__name display-flex gap-6\">Конструктор условий<div class=\"toggle-conditions-container--js svg-gray cursor-pointer\"><div class=\"open-conditions-container_svg--js\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M11.4697 9.46967C11.7626 9.17678 12.2374 9.17678 12.5303 9.46967L16.5303 13.4697C16.8232 13.7626 16.8232 14.2374 16.5303 14.5303C16.2374 14.8232 15.7626 14.8232 15.4697 14.5303L12 11.0607L8.53033 14.5303C8.23744 14.8232 7.76256 14.8232 7.46967 14.5303C7.17678 14.2374 7.17678 13.7626 7.46967 13.4697L11.4697 9.46967Z\" fill=\"currentColor\"/>\n<\/svg><\/div><div class=\"close-conditions-container_svg--js display-none\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M7.46967 9.46967C7.76256 9.17678 8.23744 9.17678 8.53033 9.46967L12 12.9393L15.4697 9.46967C15.7626 9.17678 16.2374 9.17678 16.5303 9.46967C16.8232 9.76256 16.8232 10.2374 16.5303 10.5303L12.5303 14.5303C12.2374 14.8232 11.7626 14.8232 11.4697 14.5303L7.46967 10.5303C7.17678 10.2374 7.17678 9.76256 7.46967 9.46967Z\" fill=\"currentColor\"/>\n<\/svg>\n<\/div><\/div><\/div><div class=\"redactor_condition_constructor_modal_header__close--js btn-ghost-grey-square--m\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M7.30298 7.30292C7.59588 7.01003 8.07075 7.01003 8.36364 7.30292L12 10.9393L15.6363 7.30292C15.9292 7.01003 16.4041 7.01003 16.697 7.30292C16.9899 7.59582 16.9899 8.07069 16.697 8.36358L13.0606 11.9999L16.697 15.6363C16.9899 15.9291 16.9899 16.404 16.697 16.6969C16.4041 16.9898 15.9292 16.9898 15.6363 16.6969L12 13.0606L8.36364 16.6969C8.07075 16.9898 7.59588 16.9898 7.30298 16.6969C7.01009 16.404 7.01009 15.9291 7.30298 15.6363L10.9393 11.9999L7.30298 8.36358C7.01009 8.07069 7.01009 7.59582 7.30298 7.30292Z\" fill=\"currentColor\"/>\n<\/svg>\n<\/div><\/div><div class=\"redactor_condition_constructor_modal_conditions\"><div class=\"conditions-container display-flex flex-wrap gap-6 m-8\"><div class=\"conditions-container__item tag--l tag--m tag--square tag--green-soft\"><div class=\"conditions-container__item__name\">Условие 1<\/div><div class=\"conditions-container__item__delete display-flex flex-ai-center cursor-pointer\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/delete 1/i24\">\n<path id=\"Union\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M8.25 4C8.25 3.58579 8.58579 3.25 9 3.25H15C15.4142 3.25 15.75 3.58579 15.75 4C15.75 4.41421 15.4142 4.75 15 4.75H9C8.58579 4.75 8.25 4.41421 8.25 4ZM4.25 7.2C4.25 6.78579 4.58579 6.45 5 6.45H19C19.4142 6.45 19.75 6.78579 19.75 7.2C19.75 7.61421 19.4142 7.95 19 7.95H18.75V18.0308C18.75 19.5439 17.5082 20.75 16 20.75H8C6.49179 20.75 5.25 19.5439 5.25 18.0308V7.95H5C4.58579 7.95 4.25 7.61421 4.25 7.2ZM6.75 7.95V18.0308C6.75 18.6936 7.29821 19.25 8 19.25H16C16.7018 19.25 17.25 18.6936 17.25 18.0308V7.95H6.75ZM10 10.3885C10.4142 10.3885 10.75 10.7242 10.75 11.1385V16.0615C10.75 16.4758 10.4142 16.8115 10 16.8115C9.58579 16.8115 9.25 16.4758 9.25 16.0615V11.1385C9.25 10.7242 9.58579 10.3885 10 10.3885ZM14 10.3885C14.4142 10.3885 14.75 10.7242 14.75 11.1385V16.0615C14.75 16.4758 14.4142 16.8115 14 16.8115C13.5858 16.8115 13.25 16.4758 13.25 16.0615V11.1385C13.25 10.7242 13.5858 10.3885 14 10.3885Z\" fill=\"currentColor\"/>\n<\/g>\n<\/svg>\n<\/div><\/div><\/div><\/div><div class=\"redactor_condition_constructor_modal_nav w-100\"><div class=\"display-flex flex-jc-space-between flex-wrap gap-6 m-8\"><div class=\"selection_of_conditions_item--js condition_1--js btn-outline-white--xs flex-grow btn-active__blue\">Условия Salebot<\/div><div class=\"selection_of_conditions_item--js condition_2--js btn-outline-white--xs flex-grow\">Каналы<\/div><div class=\"selection_of_conditions_item--js condition_3--js btn-outline-white--xs flex-grow\">Платежные системы<\/div><div class=\"selection_of_conditions_item--js condition_5--js btn-outline-white--xs flex-grow\">Телефония<\/div><div class=\"selection_of_conditions_item--js condition_6--js btn-outline-white--xs flex-grow\">Другие интеграции<\/div><\/div><\/div><div class=\"redactor_condition_constructor_modal_container\"><div class=\"condition_container--js salebot_conditions--js\"><div class=\"select_salebot_conditions--js display-flex flex-wrap gap-6 mt-12 mb-8\"><option class=\"conditions_select_sb_item--js btn-dashed-white--xxs flex-grow\" value=\"defaultConditions\">Обычные условия<\/option><option class=\"conditions_select_sb_item--js btn-dashed-white--xxs flex-grow\" value=\"crm\">CRM<\/option><option class=\"conditions_select_sb_item--js btn-dashed-white--xxs flex-grow\" value=\"clients\">Клиенты<\/option><option class=\"conditions_select_sb_item--js btn-dashed-white--xxs flex-grow\" value=\"variables\">Переменные<\/option><option class=\"conditions_select_sb_item--js btn-dashed-white--xxs flex-grow\" value=\"bot\">Выбор бота<\/option><option class=\"conditions_select_sb_item--js btn-dashed-white--xxs flex-grow\" value=\"test_window\">Тестовое окно<\/option><input class=\"redactor_condition-select_salebot_conditions__input hidden\" /><\/div><div class=\"container_salebot_conditions_variables hidden\"><div class=\"container_salebot_conditions_variables__preview\"><div class=\"container_salebot_conditions_variables__title\">Предпросмотр переменных для сравнения<\/div><textarea class=\"container_salebot_conditions_variables__textarea\"><\/textarea><\/div><div class=\"container_salebot_conditions_variables__container\"><div class=\"container-conditions-settings-expressions\"><div class=\"container-conditions-settings-expressions__or_and_and hidden\"><div class=\"container-conditions-settings-expressions__component\"><div class=\"container-conditions-settings-expressions__component__text\">Все значения (И)<\/div><div class=\"container-conditions-settings-expressions__radio container-conditions-settings-expressions__radio--active\"><input name=\"AND\" type=\"radio\" value=\"AND\" /><\/div><\/div><div class=\"container-conditions-settings-expressions__component\"><div class=\"container-conditions-settings-expressions__component__text\">Одно из значений (ИЛИ)<\/div><div class=\"container-conditions-settings-expressions__radio\"><input name=\"OR\" type=\"radio\" value=\"OR\" /><\/div><\/div><\/div><\/div><div class=\"container_salebot_conditions_variables__container__component\"><div class=\"container_salebot_conditions_variables__variable_name\"><div class=\"container_salebot_conditions_variables__variable_name__text\">Имя переменной<\/div><input class=\"container_salebot_conditions_variables__variable_name_input m-0\" placeholder=\"Введите имя переменной\" /><\/div><div class=\"container_salebot_conditions_variables__variable_sign_input\"><div class=\"container_salebot_conditions_variables__variable_sign_content\"><div class=\"container_salebot_conditions_variables__variable_sign_selected mb-6\">==<\/div><div class=\"container_salebot_conditions_variables__variable_sign_collection hidden\"><div class=\"container_salebot_conditions_variables__variable_sign_item\">==<\/div><div class=\"container_salebot_conditions_variables__variable_sign_item\">!=<\/div><div class=\"container_salebot_conditions_variables__variable_sign_item\">&gt;<\/div><div class=\"container_salebot_conditions_variables__variable_sign_item\">&gt;=<\/div><div class=\"container_salebot_conditions_variables__variable_sign_item\">&lt;<\/div><div class=\"container_salebot_conditions_variables__variable_sign_item\">&lt;=<\/div><\/div><\/div><\/div><div class=\"container_salebot_conditions_variables__variable_value main-select\"><select class=\"container_salebot_conditions_variables__variable_value__select\"><option class=\"container_salebot_conditions_variables__variable_value__select__item\" value=\"value\">Значение<\/option><option class=\"container_salebot_conditions_variables__variable_value__select__item\" value=\"variable\">Переменная<\/option><\/select><input class=\"container_salebot_conditions_variables__variable_value_input m-0\" placeholder=\"Введите значение переменной\" /><\/div><div class=\"btn-outline-grey-square--m container_salebot_conditions_variables__delete_variable hidden\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/delete 1/i24\">\n<path id=\"Union\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M8.25 4C8.25 3.58579 8.58579 3.25 9 3.25H15C15.4142 3.25 15.75 3.58579 15.75 4C15.75 4.41421 15.4142 4.75 15 4.75H9C8.58579 4.75 8.25 4.41421 8.25 4ZM4.25 7.2C4.25 6.78579 4.58579 6.45 5 6.45H19C19.4142 6.45 19.75 6.78579 19.75 7.2C19.75 7.61421 19.4142 7.95 19 7.95H18.75V18.0308C18.75 19.5439 17.5082 20.75 16 20.75H8C6.49179 20.75 5.25 19.5439 5.25 18.0308V7.95H5C4.58579 7.95 4.25 7.61421 4.25 7.2ZM6.75 7.95V18.0308C6.75 18.6936 7.29821 19.25 8 19.25H16C16.7018 19.25 17.25 18.6936 17.25 18.0308V7.95H6.75ZM10 10.3885C10.4142 10.3885 10.75 10.7242 10.75 11.1385V16.0615C10.75 16.4758 10.4142 16.8115 10 16.8115C9.58579 16.8115 9.25 16.4758 9.25 16.0615V11.1385C9.25 10.7242 9.58579 10.3885 10 10.3885ZM14 10.3885C14.4142 10.3885 14.75 10.7242 14.75 11.1385V16.0615C14.75 16.4758 14.4142 16.8115 14 16.8115C13.5858 16.8115 13.25 16.4758 13.25 16.0615V11.1385C13.25 10.7242 13.5858 10.3885 14 10.3885Z\" fill=\"currentColor\"/>\n<\/g>\n<\/svg>\n<\/div><\/div><div class=\"container-conditions-settings-expressions_2\"><\/div><\/div><div class=\"container-conditions-values-header__add-value\"><div class=\"container-conditions-values-header__add-value_hr\"><div class=\"hr\"><\/div><\/div><div class=\"container-conditions-settings_vars_vals_container__add\"><div class=\"container-conditions-values-header__add-value__name__plus\">+<\/div><div class=\"container-conditions-values-header__add-value__name__text\">Добавить переменную<\/div><\/div><div class=\"container-conditions-values-header__add-value_hr\"><div class=\"hr\"><\/div><\/div><\/div><div class=\"container-conditions-group-container hidden\"><div class=\"container-conditions-group__item\"><input class=\"container-conditions-group__title_input main-select--disabled\" disabled=\"true\" /><div class=\"container-conditions-group__sign\">==<\/div><input class=\"container-conditions-group__value_input main-select--disabled\" disabled=\"true\" /><div class=\"btn-outline-grey-square--m container-conditions-group__delete\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/delete 1/i24\">\n<path id=\"Union\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M8.25 4C8.25 3.58579 8.58579 3.25 9 3.25H15C15.4142 3.25 15.75 3.58579 15.75 4C15.75 4.41421 15.4142 4.75 15 4.75H9C8.58579 4.75 8.25 4.41421 8.25 4ZM4.25 7.2C4.25 6.78579 4.58579 6.45 5 6.45H19C19.4142 6.45 19.75 6.78579 19.75 7.2C19.75 7.61421 19.4142 7.95 19 7.95H18.75V18.0308C18.75 19.5439 17.5082 20.75 16 20.75H8C6.49179 20.75 5.25 19.5439 5.25 18.0308V7.95H5C4.58579 7.95 4.25 7.61421 4.25 7.2ZM6.75 7.95V18.0308C6.75 18.6936 7.29821 19.25 8 19.25H16C16.7018 19.25 17.25 18.6936 17.25 18.0308V7.95H6.75ZM10 10.3885C10.4142 10.3885 10.75 10.7242 10.75 11.1385V16.0615C10.75 16.4758 10.4142 16.8115 10 16.8115C9.58579 16.8115 9.25 16.4758 9.25 16.0615V11.1385C9.25 10.7242 9.58579 10.3885 10 10.3885ZM14 10.3885C14.4142 10.3885 14.75 10.7242 14.75 11.1385V16.0615C14.75 16.4758 14.4142 16.8115 14 16.8115C13.5858 16.8115 13.25 16.4758 13.25 16.0615V11.1385C13.25 10.7242 13.5858 10.3885 14 10.3885Z\" fill=\"currentColor\"/>\n<\/g>\n<\/svg>\n<\/div><\/div><\/div><\/div><div class=\"redactor_condition-input_container redactor_condition-input_crm hidden main-select main-select--fixed main-select--fixed-w\"><div class=\"redactor_condition-label\">Условие<\/div><select class=\"redactor_condition-select redactor_condition-crm\"><option class=\"selected_crm_condition\" value=\"crm_state_changed\">Смена состояния сделки (crm_state_changed)<\/option><option class=\"selected_crm_condition\" value=\"crm_system_state_changed\">Завершение сделки (crm_system_state_changed)<\/option><option class=\"selected_crm_condition\" value=\"crm_lead_removed\">Удаление сделки (crm_lead_removed)<\/option><option class=\"selected_crm_condition\" value=\"change_responsible_client\">Смена ответственного (change_responsible_client)<\/option><\/select><div class=\"redactor_condition-label redactor_responsible_select_block hidden mt-12\">Выберите ответственного<\/div><div class=\"redactor_responsible_select_block hidden main-select main-select--fixed main-select--fixed-w\"><select class=\"redactor_condition-select redactor_responsible_select\"><option class=\"redactor_responsible_selected\" value=\"empty\">Любой ответственный<\/option><option class=\"redactor_responsible_selected\" value=\"357198\">gorseninaolesa920@gmail.com<\/option><\/select><\/div><div class=\"redactor_condition-label redactor_responsible_state_block hidden mt-12\">Выберите состояние<\/div><div class=\"redactor_responsible_state_block hidden main-select main-select--fixed main-select--fixed-w\"><select class=\"redactor_condition-select redactor_state_select\"><option class=\"redactor_state_selected\" value=\"empty\">Любое состояние<\/option><option class=\"redactor_state_selected\" value=\"Ваша первая воронка:Заинтересовались\">Ваша первая воронка:Заинтересовались<\/option><option class=\"redactor_state_selected\" value=\"Ваша первая воронка:Стадия переговоров\">Ваша первая воронка:Стадия переговоров<\/option><option class=\"redactor_state_selected\" value=\"Ваша первая воронка:Коммерческое предложение\">Ваша первая воронка:Коммерческое предложение<\/option><option class=\"redactor_state_selected\" value=\"Ваша первая воронка:Договор/Счет\">Ваша первая воронка:Договор/Счет<\/option><option class=\"redactor_state_selected\" value=\"Ваша первая воронка:В работе\">Ваша первая воронка:В работе<\/option><\/select><\/div><div class=\"redactor_condition-label redactor_responsible_order_block hidden mt-12\">Завершение сделки<\/div><div class=\"redactor_responsible_order_block hidden main-select main-select--fixed main-select--fixed-w\"><select class=\"redactor_condition-select redactor_order_end_select\"><option class=\"redactor_order_end_selected\" value=\"empty\">Любое завершение сделки<\/option><option class=\"redactor_order_end_selected\" value=\"Ваша первая воронка:Успешные сделки\">Ваша первая воронка:Успешные сделки<\/option><option class=\"redactor_order_end_selected\" value=\"Ваша первая воронка:Проваленные сделки\">Ваша первая воронка:Проваленные сделки<\/option><option class=\"redactor_order_end_selected\" value=\"Ваша первая воронка:Архивные сделки\">Ваша первая воронка:Архивные сделки<\/option><option class=\"redactor_order_end_selected\" value=\"Ваша первая воронка:Удаленные сделки\">Ваша первая воронка:Удаленные сделки<\/option><\/select><\/div><\/div><div class=\"redactor_condition-input_clients-container hidden main-select main-select--fixed main-select--fixed-w\"><div class=\"redactor_condition-label\">Условие<\/div><select class=\"redactor_condition-select redactor_condition-clients\"><option class=\"selected_clients_condition\" value=\"added_label_callback\">Метка добавилась к клиенту (added_label_callback)<\/option><option class=\"selected_clients_condition\" value=\"removed_label_callback\">Метка удалилась у клиента (removed_label_callback)<\/option><option class=\"selected_clients_condition\" value=\"added_to_list_callback\">Клиент добавился в список (added_to_list_callback)<\/option><option class=\"selected_clients_condition\" value=\"removed_from_list_callback\">Клиент удалился из списка (removed_from_list_callback)<\/option><\/select><div class=\"redactor_condition-label redactor_condition-block-mark hidden mt-12\">Выберите метку<\/div><div class=\"redactor_condition-block-mark main-select main-select--fixed main-select--fixed-w hidden\"><select class=\"redactor_condition-select redactor_condition-select-mark\"><option class=\"selected_label_condition\" value=\"empty\">Любая метка<\/option><\/select><\/div><div class=\"redactor_condition-label redactor_condition-block-label hidden mt-12\">Выберите список<\/div><div class=\"redactor_condition-block-label main-select main-select--fixed main-select--fixed-w hidden\"><select class=\"redactor_condition-select redactor_condition-select-label\"><option class=\"selected_mark_condition\" value=\"empty\">Любой список<\/option><\/select><\/div><\/div><div class=\"redactor_condition-input_test_window-container hidden\"><div class=\"test_window_text\"><span>В переменные для сравнения будет добавлено сравнение <br> \"platform_id == \"test_client_online\" для работы с тестовым окном<\/span><\/div><\/div><div class=\"redactor_condition-input_default-container hidden\"><div class=\"redactor_condition-label\">Условие<\/div><input class=\"redactor_condition-input_default\" placeholder=\"Введите условие\" /><\/div><div class=\"redactor_condition-input_container redactor_condition-input_container_chanel hidden main-select main-select--fixed main-select--fixed-w\"><div class=\"redactor_condition-label\">Условие<\/div><select class=\"redactor_condition-select redactor_condition-select_action\"><\/select><\/div><div class=\"redactor_condition-input_container redactor_condition-input_select_bot hidden main-select main-select--fixed main-select--fixed-w\"><div class=\"redactor_condition-label\">Выбор бота<\/div><select class=\"redactor_condition-select redactor_condition-select_bot\"><option class=\"selected_bot telegram_bot-bot\">englililish_Bot<\/option><\/select><div class=\"selected_bot__checkbox-list hidden\"><div class=\"selected_bot__checkbox-list__item\"><div class=\"selected_bot__checkbox-list__item_text\"><\/div><div class=\"selected_bot__checkbox-list__item_delete\">+<\/div><\/div><\/div><\/div><div class=\"redactor_condition-input_container_inputs\"><\/div><div class=\"redactor_condition-input_container redactor_condition-input_container_methods hidden main-select main-select--fixed main-select--fixed-w\"><div class=\"redactor_condition-label\">Метод калькулятора<\/div><select class=\"redactor_condition-select redactor_condition-input_container_methods_select\"><\/select><\/div><\/div><div class=\"condition_container--js redactor_condition_constructor_modal_container__channels hidden\"><div class=\"container_channels--js display-flex flex-jc-space-between flex-wrap gap-6 m-8\"><option class=\"select_channels_item--js btn-dashed-white--xxs flex-grow\" value=\"whatsapp\">WhatsApp<\/option><input class=\"redactor_condition-select_chanel__input hidden\" /><\/div><div class=\"integrationIsNotConnected mb-12 hidden\">Интеграция не подключена<\/div><div class=\"redactor_condition-input_container redactor_condition-input_whatsapp_api_type hidden main-select main-select--fixed main-select--fixed-w\"><div class=\"redactor_condition-label\">Тип запроса<\/div><select class=\"redactor_condition-select redactor_condition-whatsapp_api_type\"><\/select><\/div><div class=\"redactor_condition-input_container redactor_condition-input_whatsapp_api_url hidden main-select main-select--fixed main-select--fixed-w\"><div class=\"redactor_condition-label\">URL запроса<\/div><select class=\"redactor_condition-select redactor_condition-whatsapp_api_url\"><\/select><\/div><div class=\"redactor_condition-input_container redactor_condition-input_container_chanel hidden main-select main-select--fixed main-select--fixed-w\"><div class=\"redactor_condition-label\">Условие<\/div><select class=\"redactor_condition-select redactor_condition-select_action\"><\/select><\/div><div class=\"redactor_condition-input_container_inputs\"><\/div><div class=\"redactor_condition-input_container redactor_condition-input_container_methods hidden main-select main-select--fixed main-select--fixed-w\"><div class=\"redactor_condition-label\">Метод калькулятора<\/div><select class=\"redactor_condition-select redactor_condition-input_container_methods_select\"><\/select><\/div><\/div><div class=\"condition_container--js redactor_condition_constructor_modal_container__pay_systems hidden\"><div class=\"container_pay_systems_select--js display-flex flex-wrap gap-6 mt-12 mb-8\"><input class=\"redactor_condition-select_pay_systems__input hidden\" /><\/div><div class=\"integrationIsNotConnected mb-12 hidden\"><div class=\"integrationIsNotConnected__text\">Интеграция не подключена<\/div><a class=\"btn-solid-brand--m integrationIsNotConnected__button\" data-remote=\"true\" href=\"/projects/569981/payments_integrations\"><span>Подключить<\/span><\/a><\/div><div class=\"redactor_condition-input_container redactor_condition-input_container_chanel hidden main-select main-select--fixed main-select--fixed-w\"><div class=\"redactor_condition-label\">Условие<\/div><select class=\"redactor_condition-select redactor_condition-select_action\"><\/select><\/div><div class=\"redactor_condition-input_container_inputs\"><\/div><div class=\"redactor_condition-input_container redactor_condition-input_container_methods hidden main-select main-select--fixed main-select--fixed-w\"><div class=\"redactor_condition-label\">Метод калькулятора<\/div><select class=\"redactor_condition-select redactor_condition-input_container_methods_select\"><\/select><\/div><\/div><div class=\"condition_container--js redactor_condition_constructor_modal_container__telephone hidden\"><div class=\"container_telephone_select--js display-flex flex-jc-start flex-wrap gap-6 mt-12 mb-8\"><input class=\"redactor_condition-select_telephone__input hidden\" /><\/div><div class=\"integrationIsNotConnected mb-12 hidden\"><div class=\"integrationIsNotConnected__text\">Интеграция не подключена<\/div><a class=\"btn-solid-brand--m integrationIsNotConnected__button\" data-remote=\"true\" href=\"/projects/569981/telephony_integrations\"><span>Подключить<\/span><\/a><\/div><div class=\"redactor_condition-input_container redactor_condition-input_container_chanel hidden main-select main-select--fixed main-select--fixed-w\"><div class=\"redactor_condition-label\">Условие<\/div><select class=\"redactor_condition-select redactor_condition-select_action\"><\/select><\/div><div class=\"redactor_condition-input_container_inputs\"><\/div><div class=\"redactor_condition-input_container redactor_condition-input_container_methods hidden main-select main-select--fixed main-select--fixed-w\"><div class=\"redactor_condition-label\">Метод калькулятора<\/div><select class=\"redactor_condition-select redactor_condition-input_container_methods_select\"><\/select><\/div><\/div><div class=\"condition_container--js redactor_condition_constructor_modal_container__other_integrations hidden\"><div class=\"container_other_integrations_select--js display-flex flex-jc-start flex-wrap gap-6 mt-12 mb-8\"><input class=\"redactor_condition-select_other_integrations__input hidden\" /><\/div><div class=\"integrationIsNotConnected mb-12 hidden\">Интеграция не подключена<\/div><div class=\"redactor_condition-input_container redactor_condition-input_container_chanel hidden main-select main-select--fixed main-select--fixed-w\"><div class=\"redactor_condition-label\">Условие<\/div><select class=\"redactor_condition-select redactor_condition-select_action\"><\/select><\/div><div class=\"redactor_condition-input_container_inputs\"><\/div><div class=\"redactor_condition-input_container redactor_condition-input_container_methods hidden main-select main-select--fixed main-select--fixed-w\"><div class=\"redactor_condition-label\">Метод калькулятора<\/div><select class=\"redactor_condition-select redactor_condition-input_container_methods_select\"><\/select><\/div><\/div><div class=\"redactor_condition-match-selection mt-16 hidden main-select main-select--fixed main-select--fixed-w\"><div class=\"redactor_condition-label\">Выбор соответствия<\/div><select class=\"redactor_condition-match-selection-select\"><option value=\"0\">Игнорируя ошибки и неточности<\/option><option value=\"1\">По наличию ключевых слов<\/option><option value=\"2\">Полное совпадение<\/option><option value=\"4\">Регулярное выражение<\/option><option value=\"5\">Сравнение по смыслу<\/option><\/select><\/div><div class=\"reductor-conditions-no-collbacks mt-16 hidden\"><div class=\"check_container\" data-type-column=\"no-callbacks\"><label><input class=\"mass-select-checkbox\" data-type-column=\"no-callbacks\" type=\"checkbox\" /><span>Не срабатывать на Callback<\/span><\/label><\/div><\/div><div class=\"redactor_condition_constructor_modal_container__footer mt-8\"><div class=\"redactor_condition_constructor_buttons\"><div class=\"btn-solid-brand--m redactor_condition_constructor_add_condition redactor_condition_accept\">Добавить условие<\/div><div class=\"btn-outline-white--m redactor_condition_constructor_replace_condition\">Заменить условие<\/div><\/div><div class=\"btn-outline-white--m redactor_condition_constructor_close_condition\">Закрыть<\/div><\/div><\/div><\/div><div class=\"part_new\" id=\"condition_part\" style=\"display: none\"><div class=\"redactor_condition_popup hidden\"><div class=\"redactor_condition_main\"><div class=\"redactor_condition_header\"><div class=\"redactor_condition_header-label\">Конструктор условий<\/div><div class=\"redactor_condition_header-destroy\">+<\/div><\/div><div class=\"redactor_condition_body\"><div class=\"redactor_condition-input_container main-select main-select--fixed main-select--fixed-w\"><div class=\"redactor_condition-label\">Канал<\/div><select class=\"redactor_condition-select redactor_condition-select_chanel\"><\/select><\/div><div class=\"redactor_condition-input_container redactor_condition-input_container_chanel hidden main-select main-select--fixed main-select--fixed-w\"><div class=\"redactor_condition-label\">Условие<\/div><select class=\"redactor_condition-select redactor_condition-select_action\"><\/select><\/div><div class=\"redactor_condition-input_container_inputs\"><\/div><div class=\"redactor_condition-input_container redactor_condition-input_container_methods hidden main-select main-select--fixed main-select--fixed-w\"><div class=\"redactor_condition-label\">Метод калькулятора<\/div><select class=\"redactor_condition-select redactor_condition-input_container_methods_select\"><\/select><\/div><div class=\"redactor_condition_accept\">Сохранить<\/div><\/div><\/div><\/div><div class=\"redactor_condition_container--js display-flex flex-jc-space-between mb-4\"><div class=\"label-wrapper\"><div class=\"new_label\">Условие<\/div><div class=\"dt-tooltip dt-tooltip__dark\"><div class=\"dt-tooltip__icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/help square/i16\">\n<g id=\"Union\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5.62961 3.26665C4.32458 3.26665 3.26665 4.32458 3.26665 5.62961V10.3704C3.26665 11.6754 4.32458 12.7333 5.62961 12.7333H10.3704C11.6754 12.7333 12.7333 11.6754 12.7333 10.3704V5.62961C12.7333 4.32458 11.6754 3.26665 10.3704 3.26665H5.62961ZM2.06665 5.62961C2.06665 3.66184 3.66184 2.06665 5.62961 2.06665H10.3704C12.3381 2.06665 13.9333 3.66184 13.9333 5.62961V10.3704C13.9333 12.3381 12.3381 13.9333 10.3704 13.9333H5.62961C3.66184 13.9333 2.06665 12.3381 2.06665 10.3704V5.62961ZM7.98457 5.02915C9.04817 4.98576 9.95472 5.80067 10.0211 6.86664C10.0219 6.87906 10.0223 6.89149 10.0223 6.90393C10.0223 7.57076 9.66073 8.18517 9.07781 8.50898L8.29144 8.94587C8.00177 9.10681 7.63648 9.00245 7.47555 8.71278C7.31462 8.42311 7.41898 8.05783 7.70865 7.89689L8.49502 7.46C8.69164 7.35079 8.8156 7.14612 8.822 6.92219C8.78649 6.51417 8.43308 6.20595 8.02186 6.22872C8.00253 6.22979 7.98315 6.22992 7.96381 6.22912C7.5847 6.21338 7.24805 6.46965 7.16229 6.83927C7.0874 7.16206 6.765 7.36302 6.44221 7.28813C6.11941 7.21323 5.91845 6.89084 5.99335 6.56804C6.20731 5.64586 7.0409 5.0036 7.98457 5.02915Z\" fill=\"currentColor\"/>\n<path d=\"M8.65952 10.3121C8.65975 10.1369 8.59028 9.96889 8.46642 9.84504C8.34258 9.72119 8.17454 9.65171 7.99938 9.65194C7.63549 9.65241 7.3408 9.94762 7.34096 10.3115C7.34111 10.6754 7.63607 10.9703 7.99995 10.9705C8.36384 10.9707 8.65905 10.676 8.65952 10.3121Z\" fill=\"currentColor\"/>\n<\/g>\n<\/g>\n<\/svg>\n<\/div><div class=\"dt-tooltip__description--bottom\" style=\"transform: translateX(-30%);\"><span>Здесь записываете слова или выражения, на которые будет реагировать бот<\/span><\/div><\/div><\/div><div class=\"redactor_condition_button--js btn-no-outline--m\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/projects/i24\">\n<path id=\"Union\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M3.25 8.44444C3.25 5.57563 5.57563 3.25 8.44444 3.25H15.5556C18.4244 3.25 20.75 5.57563 20.75 8.44444V15.5556C20.75 18.4244 18.4244 20.75 15.5556 20.75H8.44444C5.57563 20.75 3.25 18.4244 3.25 15.5556V8.44444ZM8.44444 4.75C6.40406 4.75 4.75 6.40406 4.75 8.44444V15.5556C4.75 17.5959 6.40406 19.25 8.44444 19.25H15.5556C17.5959 19.25 19.25 17.5959 19.25 15.5556V8.44444C19.25 6.40406 17.5959 4.75 15.5556 4.75H8.44444ZM6.80556 8.5926C6.80556 7.60564 7.60564 6.80556 8.5926 6.80556H9.62963C10.6166 6.80556 11.4167 7.60564 11.4167 8.5926V9.62963C11.4167 10.6166 10.6166 11.4167 9.62963 11.4167H8.5926C7.60564 11.4167 6.80556 10.6166 6.80556 9.62963V8.5926ZM8.5926 8.30556C8.43407 8.30556 8.30556 8.43407 8.30556 8.5926V9.62963C8.30556 9.78815 8.43407 9.91667 8.5926 9.91667H9.62963C9.78815 9.91667 9.91667 9.78815 9.91667 9.62963V8.5926C9.91667 8.43407 9.78815 8.30556 9.62963 8.30556H8.5926ZM12.5833 7.77778C12.5833 7.36356 12.9191 7.02778 13.3333 7.02778H16.4444C16.8587 7.02778 17.1944 7.36356 17.1944 7.77778C17.1944 8.19199 16.8587 8.52778 16.4444 8.52778H13.3333C12.9191 8.52778 12.5833 8.19199 12.5833 7.77778ZM12.5833 10.4444C12.5833 10.0302 12.9191 9.69444 13.3333 9.69444H16.4444C16.8587 9.69444 17.1944 10.0302 17.1944 10.4444C17.1944 10.8587 16.8587 11.1944 16.4444 11.1944H13.3333C12.9191 11.1944 12.5833 10.8587 12.5833 10.4444ZM6.80556 14.3704C6.80556 13.3834 7.60564 12.5833 8.5926 12.5833H9.62963C10.6166 12.5833 11.4167 13.3834 11.4167 14.3704V15.4074C11.4167 16.3944 10.6166 17.1944 9.62963 17.1944H8.5926C7.60564 17.1944 6.80556 16.3944 6.80556 15.4074V14.3704ZM8.5926 14.0833C8.43407 14.0833 8.30556 14.2118 8.30556 14.3704V15.4074C8.30556 15.5659 8.43407 15.6944 8.5926 15.6944H9.62963C9.78815 15.6944 9.91667 15.5659 9.91667 15.4074V14.3704C9.91667 14.2118 9.78815 14.0833 9.62963 14.0833H8.5926ZM12.5833 13.5556C12.5833 13.1413 12.9191 12.8056 13.3333 12.8056H16.4444C16.8587 12.8056 17.1944 13.1413 17.1944 13.5556C17.1944 13.9698 16.8587 14.3056 16.4444 14.3056H13.3333C12.9191 14.3056 12.5833 13.9698 12.5833 13.5556ZM12.5833 16.2222C12.5833 15.808 12.9191 15.4722 13.3333 15.4722H16.4444C16.8587 15.4722 17.1944 15.808 17.1944 16.2222C17.1944 16.6364 16.8587 16.9722 16.4444 16.9722H13.3333C12.9191 16.9722 12.5833 16.6364 12.5833 16.2222Z\" fill=\"currentColor\"/>\n<\/g>\n<\/svg>\n<span>Конструктор условий<\/span><\/div><\/div><div class=\"input-field col string optional message_condition s12\"><input placeholder=\"Условие\" class=\"string optional\" type=\"text\" name=\"message[condition]\" id=\"message_condition\" /><\/div><div class=\"label-wrapper mb-4\"><div class=\"new_label\">Выбор соответствия<\/div><div class=\"dt-tooltip dt-tooltip__dark\"><div class=\"dt-tooltip__icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/help square/i16\">\n<g id=\"Union\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5.62961 3.26665C4.32458 3.26665 3.26665 4.32458 3.26665 5.62961V10.3704C3.26665 11.6754 4.32458 12.7333 5.62961 12.7333H10.3704C11.6754 12.7333 12.7333 11.6754 12.7333 10.3704V5.62961C12.7333 4.32458 11.6754 3.26665 10.3704 3.26665H5.62961ZM2.06665 5.62961C2.06665 3.66184 3.66184 2.06665 5.62961 2.06665H10.3704C12.3381 2.06665 13.9333 3.66184 13.9333 5.62961V10.3704C13.9333 12.3381 12.3381 13.9333 10.3704 13.9333H5.62961C3.66184 13.9333 2.06665 12.3381 2.06665 10.3704V5.62961ZM7.98457 5.02915C9.04817 4.98576 9.95472 5.80067 10.0211 6.86664C10.0219 6.87906 10.0223 6.89149 10.0223 6.90393C10.0223 7.57076 9.66073 8.18517 9.07781 8.50898L8.29144 8.94587C8.00177 9.10681 7.63648 9.00245 7.47555 8.71278C7.31462 8.42311 7.41898 8.05783 7.70865 7.89689L8.49502 7.46C8.69164 7.35079 8.8156 7.14612 8.822 6.92219C8.78649 6.51417 8.43308 6.20595 8.02186 6.22872C8.00253 6.22979 7.98315 6.22992 7.96381 6.22912C7.5847 6.21338 7.24805 6.46965 7.16229 6.83927C7.0874 7.16206 6.765 7.36302 6.44221 7.28813C6.11941 7.21323 5.91845 6.89084 5.99335 6.56804C6.20731 5.64586 7.0409 5.0036 7.98457 5.02915Z\" fill=\"currentColor\"/>\n<path d=\"M8.65952 10.3121C8.65975 10.1369 8.59028 9.96889 8.46642 9.84504C8.34258 9.72119 8.17454 9.65171 7.99938 9.65194C7.63549 9.65241 7.3408 9.94762 7.34096 10.3115C7.34111 10.6754 7.63607 10.9703 7.99995 10.9705C8.36384 10.9707 8.65905 10.676 8.65952 10.3121Z\" fill=\"currentColor\"/>\n<\/g>\n<\/g>\n<\/svg>\n<\/div><div class=\"dt-tooltip__description--bottom\" style=\"transform: translateX(-55%);\"><span>Выберите, насколько точным должно быть соответствие условию<\/span><\/div><\/div><\/div><div class=\"main-select\"><div class=\"input-field col select optional message_comparision_method s12\"><select class=\"select optional\" name=\"message[comparision_method]\" id=\"message_comparision_method\"><option selected=\"selected\" value=\"0\">Игнорируя ошибки и неточности<\/option>\n<option value=\"1\">По наличию ключевых слов<\/option>\n<option value=\"2\">Полное совпадение<\/option>\n<option value=\"4\">Регулярное выражение<\/option>\n<option value=\"5\">Сравнение по смыслу<\/option><\/select><\/div><\/div><div class=\"label-wrapper mb-4\"><div class=\"new_label\">Переменная для сравнения<\/div><div class=\"dt-tooltip dt-tooltip__dark\"><div class=\"dt-tooltip__icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/help square/i16\">\n<g id=\"Union\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5.62961 3.26665C4.32458 3.26665 3.26665 4.32458 3.26665 5.62961V10.3704C3.26665 11.6754 4.32458 12.7333 5.62961 12.7333H10.3704C11.6754 12.7333 12.7333 11.6754 12.7333 10.3704V5.62961C12.7333 4.32458 11.6754 3.26665 10.3704 3.26665H5.62961ZM2.06665 5.62961C2.06665 3.66184 3.66184 2.06665 5.62961 2.06665H10.3704C12.3381 2.06665 13.9333 3.66184 13.9333 5.62961V10.3704C13.9333 12.3381 12.3381 13.9333 10.3704 13.9333H5.62961C3.66184 13.9333 2.06665 12.3381 2.06665 10.3704V5.62961ZM7.98457 5.02915C9.04817 4.98576 9.95472 5.80067 10.0211 6.86664C10.0219 6.87906 10.0223 6.89149 10.0223 6.90393C10.0223 7.57076 9.66073 8.18517 9.07781 8.50898L8.29144 8.94587C8.00177 9.10681 7.63648 9.00245 7.47555 8.71278C7.31462 8.42311 7.41898 8.05783 7.70865 7.89689L8.49502 7.46C8.69164 7.35079 8.8156 7.14612 8.822 6.92219C8.78649 6.51417 8.43308 6.20595 8.02186 6.22872C8.00253 6.22979 7.98315 6.22992 7.96381 6.22912C7.5847 6.21338 7.24805 6.46965 7.16229 6.83927C7.0874 7.16206 6.765 7.36302 6.44221 7.28813C6.11941 7.21323 5.91845 6.89084 5.99335 6.56804C6.20731 5.64586 7.0409 5.0036 7.98457 5.02915Z\" fill=\"currentColor\"/>\n<path d=\"M8.65952 10.3121C8.65975 10.1369 8.59028 9.96889 8.46642 9.84504C8.34258 9.72119 8.17454 9.65171 7.99938 9.65194C7.63549 9.65241 7.3408 9.94762 7.34096 10.3115C7.34111 10.6754 7.63607 10.9703 7.99995 10.9705C8.36384 10.9707 8.65905 10.676 8.65952 10.3121Z\" fill=\"currentColor\"/>\n<\/g>\n<\/g>\n<\/svg>\n<\/div><div class=\"dt-tooltip__description--bottom\" style=\"transform: translateX(-75%);\"><span>Чтобы блок сработал только при определенном значении переменной, укажите условие. Например, current_time &gt; &#39;11:00&#39;<\/span><\/div><\/div><\/div><div class=\"input-field col text optional message_compare_variable s12\"><textarea placeholder=\"Переменная для сравнения\" class=\"text optional materialize-textarea\" name=\"message[compare_variable]\" id=\"message_compare_variable\">\n<\/textarea><\/div><div class=\"addition_settings_trigger\">Расширенные настройки<\/div><div class=\"addition_settings\"><div class=\"label-wrapper mb-4\"><div class=\"new_label\">Строки, на которые не отвечать<\/div><div class=\"dt-tooltip dt-tooltip__dark\"><div class=\"dt-tooltip__icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/help square/i16\">\n<g id=\"Union\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5.62961 3.26665C4.32458 3.26665 3.26665 4.32458 3.26665 5.62961V10.3704C3.26665 11.6754 4.32458 12.7333 5.62961 12.7333H10.3704C11.6754 12.7333 12.7333 11.6754 12.7333 10.3704V5.62961C12.7333 4.32458 11.6754 3.26665 10.3704 3.26665H5.62961ZM2.06665 5.62961C2.06665 3.66184 3.66184 2.06665 5.62961 2.06665H10.3704C12.3381 2.06665 13.9333 3.66184 13.9333 5.62961V10.3704C13.9333 12.3381 12.3381 13.9333 10.3704 13.9333H5.62961C3.66184 13.9333 2.06665 12.3381 2.06665 10.3704V5.62961ZM7.98457 5.02915C9.04817 4.98576 9.95472 5.80067 10.0211 6.86664C10.0219 6.87906 10.0223 6.89149 10.0223 6.90393C10.0223 7.57076 9.66073 8.18517 9.07781 8.50898L8.29144 8.94587C8.00177 9.10681 7.63648 9.00245 7.47555 8.71278C7.31462 8.42311 7.41898 8.05783 7.70865 7.89689L8.49502 7.46C8.69164 7.35079 8.8156 7.14612 8.822 6.92219C8.78649 6.51417 8.43308 6.20595 8.02186 6.22872C8.00253 6.22979 7.98315 6.22992 7.96381 6.22912C7.5847 6.21338 7.24805 6.46965 7.16229 6.83927C7.0874 7.16206 6.765 7.36302 6.44221 7.28813C6.11941 7.21323 5.91845 6.89084 5.99335 6.56804C6.20731 5.64586 7.0409 5.0036 7.98457 5.02915Z\" fill=\"currentColor\"/>\n<path d=\"M8.65952 10.3121C8.65975 10.1369 8.59028 9.96889 8.46642 9.84504C8.34258 9.72119 8.17454 9.65171 7.99938 9.65194C7.63549 9.65241 7.3408 9.94762 7.34096 10.3115C7.34111 10.6754 7.63607 10.9703 7.99995 10.9705C8.36384 10.9707 8.65905 10.676 8.65952 10.3121Z\" fill=\"currentColor\"/>\n<\/g>\n<\/g>\n<\/svg>\n<\/div><div class=\"dt-tooltip__description--bottom\" style=\"transform: translateX(-85%);\"><span>Здесь указываются слова или выражения, на которые блок не будет срабатывать<\/span><\/div><\/div><\/div><div class=\"input-field col string optional message_black_list s12\"><input placeholder=\"Строки, на которые не надо отвечать\" class=\"string optional\" type=\"text\" name=\"message[black_list]\" id=\"message_black_list\" /><\/div><div class=\"label-wrapper mb-4\"><div class=\"new_label\">Приоритет<\/div><div class=\"dt-tooltip dt-tooltip__dark\"><div class=\"dt-tooltip__icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/help square/i16\">\n<g id=\"Union\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5.62961 3.26665C4.32458 3.26665 3.26665 4.32458 3.26665 5.62961V10.3704C3.26665 11.6754 4.32458 12.7333 5.62961 12.7333H10.3704C11.6754 12.7333 12.7333 11.6754 12.7333 10.3704V5.62961C12.7333 4.32458 11.6754 3.26665 10.3704 3.26665H5.62961ZM2.06665 5.62961C2.06665 3.66184 3.66184 2.06665 5.62961 2.06665H10.3704C12.3381 2.06665 13.9333 3.66184 13.9333 5.62961V10.3704C13.9333 12.3381 12.3381 13.9333 10.3704 13.9333H5.62961C3.66184 13.9333 2.06665 12.3381 2.06665 10.3704V5.62961ZM7.98457 5.02915C9.04817 4.98576 9.95472 5.80067 10.0211 6.86664C10.0219 6.87906 10.0223 6.89149 10.0223 6.90393C10.0223 7.57076 9.66073 8.18517 9.07781 8.50898L8.29144 8.94587C8.00177 9.10681 7.63648 9.00245 7.47555 8.71278C7.31462 8.42311 7.41898 8.05783 7.70865 7.89689L8.49502 7.46C8.69164 7.35079 8.8156 7.14612 8.822 6.92219C8.78649 6.51417 8.43308 6.20595 8.02186 6.22872C8.00253 6.22979 7.98315 6.22992 7.96381 6.22912C7.5847 6.21338 7.24805 6.46965 7.16229 6.83927C7.0874 7.16206 6.765 7.36302 6.44221 7.28813C6.11941 7.21323 5.91845 6.89084 5.99335 6.56804C6.20731 5.64586 7.0409 5.0036 7.98457 5.02915Z\" fill=\"currentColor\"/>\n<path d=\"M8.65952 10.3121C8.65975 10.1369 8.59028 9.96889 8.46642 9.84504C8.34258 9.72119 8.17454 9.65171 7.99938 9.65194C7.63549 9.65241 7.3408 9.94762 7.34096 10.3115C7.34111 10.6754 7.63607 10.9703 7.99995 10.9705C8.36384 10.9707 8.65905 10.676 8.65952 10.3121Z\" fill=\"currentColor\"/>\n<\/g>\n<\/g>\n<\/svg>\n<\/div><div class=\"dt-tooltip__description--bottom\" style=\"transform: translateX(-35%);\"><span>Поставьте цифру выше, чтобы увеличить приоритет срабатывания по сравнению с другими блоками такого же типа<\/span><\/div><\/div><\/div><div class=\"input-field col integer optional message_priority s12\"><input placeholder=\"Приоритет\" class=\"numeric integer optional\" type=\"number\" step=\"1\" value=\"10\" name=\"message[priority]\" id=\"message_priority\" /><\/div><p class=\"col switch boolean optional message_enter_once s12\"><label class=\"boolean optional\" for=\"message_enter_once\">Отвечать один раз<\/label><label><input name=\"message[enter_once]\" type=\"hidden\" value=\"0\" autocomplete=\"off\" /><input class=\"boolean optional\" type=\"checkbox\" value=\"1\" name=\"message[enter_once]\" id=\"message_enter_once\" /><span tag=\"span\" class=\"lever boolean optional\"><\/span><\/label><\/p><p class=\"col switch boolean optional message_response_only_to_callback s12\"><label class=\"boolean optional\" for=\"message_response_only_to_callback\">Срабатывать только на Callback<\/label><label><input name=\"message[response_only_to_callback]\" type=\"hidden\" value=\"0\" autocomplete=\"off\" /><input class=\"boolean optional\" type=\"checkbox\" value=\"1\" name=\"message[response_only_to_callback]\" id=\"message_response_only_to_callback\" /><span tag=\"span\" class=\"lever boolean optional\"><\/span><\/label><\/p><div class=\"addition_settings_trigger_hidden\">Скрыть настройки<\/div><\/div><\/div><div class=\"part_new\" id=\"text_part\" style=\"display: none\"><div class=\"input-field col hidden message_answer s12\"><input class=\"hidden\" autocomplete=\"off\" type=\"hidden\" name=\"message[answer]\" id=\"message_answer\" /><\/div><div class=\"messages-generate-text-icon dt-tooltip dt-tooltip__dark\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M7.67379 0.530592C12.0343 -0.539085 16.5613 1.50867 18.6371 5.48977C20.713 9.47086 19.8004 14.355 16.427 17.3179C13.1379 20.2068 8.33936 20.5403 4.69057 18.1709L2.16112 18.733C1.91081 18.7886 1.64942 18.7125 1.4681 18.5312C1.28678 18.3498 1.21067 18.0884 1.26629 17.8381L1.82815 15.3098C0.798512 13.7329 0.248773 11.888 0.250002 9.99989C0.248035 5.51029 3.31343 1.60023 7.67379 0.530592ZM17.3071 6.18328C15.5508 2.81494 11.7205 1.08236 8.03116 1.9874C4.3418 2.89244 1.74817 6.20087 1.75 9.99961C1.74882 11.6909 2.27059 13.342 3.24382 14.7252C3.36523 14.8978 3.40835 15.1135 3.36257 15.3195L2.98624 17.013L4.67962 16.6367C4.8848 16.5911 5.09969 16.6337 5.27197 16.7541C8.38559 18.9303 12.583 18.6977 15.4372 16.1909C18.2913 13.684 19.0634 9.55163 17.3071 6.18328ZM7.15652 7.2688C7.25674 6.95948 7.54485 6.74997 7.87 6.74997H9.13C9.45515 6.74997 9.74327 6.95948 9.84349 7.2688L11.4635 12.2688C11.5912 12.6628 11.3752 13.0858 10.9812 13.2135C10.5871 13.3411 10.1642 13.1252 10.0365 12.7311L9.88062 12.25H7.11939L6.96349 12.7311C6.83582 13.1252 6.41288 13.3411 6.01883 13.2135C5.62479 13.0858 5.40885 12.6628 5.53652 12.2688L5.82996 11.3631C5.84195 11.2981 5.86233 11.236 5.88994 11.178L7.15652 7.2688ZM7.60539 10.75H9.39462L8.58462 8.24997H8.41539L7.60539 10.75ZM13.5 6.74997C13.9142 6.74997 14.25 7.08575 14.25 7.49997V12.5C14.25 12.9142 13.9142 13.25 13.5 13.25C13.0858 13.25 12.75 12.9142 12.75 12.5V7.49997C12.75 7.08575 13.0858 6.74997 13.5 6.74997Z\" fill=\"#95A3BA\"/>\n<\/svg>\n<div class=\"dt-tooltip__description--left\"><span>Сгенерировать текст с помощью ИИ<\/span><\/div><\/div><div class=\"textbox_placeholder textbox_placeholder_message\">Введите сообщение...<\/div><div aria-multiline=\"true\" class=\"textbox_message\" contenteditable=\"true\" id=\"textbox\" role=\"textbox\" style=\"padding-right: 24px\" tabindex=\"0\"><\/div><div class=\"markdown_block_label\">При двух или больше вложениях функция Markdown и кнопки в Telegram не работают<\/div><div class=\"actions-toggles mt-2\"><div class=\"html_help_text hidden\"><\/div><div class=\"btn-outline-grey-square--s emojipicker_for_messages--js dt-tooltip dt-tooltip__dark mr-4\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/smile/i24\">\n<path id=\"Union\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M9.43817 4.75C6.83487 4.75 4.75 6.81547 4.75 9.33333V14.6667C4.75 17.1845 6.83487 19.25 9.43817 19.25H14.5627C17.1653 19.25 19.2508 17.1845 19.25 14.6669V9.33333C19.25 6.81547 17.1651 4.75 14.5618 4.75H9.43817ZM3.25 9.33333C3.25 5.95965 6.0341 3.25 9.43817 3.25H14.5618C17.9659 3.25 20.75 5.95965 20.75 9.33333V14.6664C20.75 14.6664 20.75 14.6665 20.75 14.6664C20.7509 18.0403 17.9657 20.75 14.5627 20.75H9.43817C6.0341 20.75 3.25 18.0404 3.25 14.6667V9.33333ZM10.1877 9.02778C10.6019 9.02778 10.9377 9.36356 10.9377 9.77778V10.6667C10.9377 11.0809 10.6019 11.4167 10.1877 11.4167C9.77352 11.4167 9.43773 11.0809 9.43773 10.6667V9.77778C9.43773 9.36356 9.77352 9.02778 10.1877 9.02778ZM13.8132 9.02778C14.2274 9.02778 14.5632 9.36356 14.5632 9.77778V10.6667C14.5632 11.0809 14.2274 11.4167 13.8132 11.4167C13.399 11.4167 13.0632 11.0809 13.0632 10.6667V9.77778C13.0632 9.36356 13.399 9.02778 13.8132 9.02778ZM8.82819 13.9449C8.30304 14.4804 8.30327 14.4806 8.30349 14.4808L8.30502 14.4823L8.30744 14.4846L8.31366 14.4906L8.33154 14.5074C8.34586 14.5207 8.36499 14.5382 8.38885 14.5591C8.43654 14.6008 8.50329 14.6568 8.58837 14.7221C8.75821 14.8524 9.00309 15.0215 9.31696 15.1894C9.94454 15.525 10.8587 15.8611 12.0005 15.8611C13.1422 15.8611 14.0564 15.525 14.6839 15.1894C14.9978 15.0215 15.2427 14.8524 15.4125 14.7221C15.4976 14.6568 15.5644 14.6008 15.6121 14.5591C15.6359 14.5382 15.655 14.5207 15.6694 14.5074L15.6872 14.4906L15.6935 14.4846L15.6959 14.4823L15.6969 14.4813C15.6972 14.481 15.6979 14.4804 15.1727 13.9449L15.6979 14.4804C15.9936 14.1903 15.9982 13.7155 15.7082 13.4197C15.4192 13.1251 14.9468 13.1194 14.6508 13.4062C14.6504 13.4067 14.6496 13.4074 14.6484 13.4085C14.6443 13.4123 14.636 13.42 14.6234 13.4309C14.5984 13.4529 14.5567 13.4881 14.4993 13.5321C14.3842 13.6205 14.2079 13.7429 13.9766 13.8666C13.5138 14.1141 12.8418 14.3611 12.0005 14.3611C11.1591 14.3611 10.4871 14.1141 10.0243 13.8666C9.79304 13.7429 9.61668 13.6205 9.50158 13.5321C9.44419 13.4881 9.40255 13.4529 9.37746 13.4309C9.36493 13.42 9.35658 13.4123 9.35251 13.4085C9.3517 13.4077 9.35088 13.407 9.35006 13.4062C9.35006 13.4062 9.35007 13.4062 9.35006 13.4062C9.05411 13.1194 8.58168 13.1251 8.29272 13.4197C8.00269 13.7155 8.00776 14.1908 8.30349 14.4808L8.82819 13.9449Z\" fill=\"currentColor\"/>\n<\/g>\n<\/svg>\n<div class=\"dt-tooltip__description--top\" style=\"transform: translateX(30%);\"><span>Добавить смайл<\/span><\/div><\/div><div class=\"emojipicker_for_messages for_emojis--js\"><\/div><div class=\"btn_vars_modal btn-outline-grey-square--s dt-tooltip dt-tooltip__dark mr-4\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/brackets+/i24\">\n<path id=\"Union\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M4.1644 7.35738C4.1644 5.92798 5.30767 4.75 6.7432 4.75C7.15741 4.75 7.4932 5.08579 7.4932 5.5C7.4932 5.91421 7.15741 6.25 6.7432 6.25C6.15793 6.25 5.6644 6.7344 5.6644 7.35738V11.0713C5.6644 11.2682 5.58697 11.4572 5.44883 11.5975L5.05253 12L5.44883 12.4025C5.58697 12.5428 5.6644 12.7318 5.6644 12.9287V16.6426C5.6644 17.2656 6.15793 17.75 6.7432 17.75C7.15741 17.75 7.4932 18.0858 7.4932 18.5C7.4932 18.9142 7.15741 19.25 6.7432 19.25C5.30767 19.25 4.1644 18.072 4.1644 16.6426V13.2359L3.46557 12.5262C3.17814 12.2343 3.17814 11.7657 3.46557 11.4738L4.1644 10.7641V7.35738ZM16.5068 5.5C16.5068 5.08579 16.8426 4.75 17.2568 4.75C18.6923 4.75 19.8356 5.92798 19.8356 7.35738V10.7641L20.5344 11.4738C20.8219 11.7657 20.8219 12.2343 20.5344 12.5262L19.8356 13.2359V16.6426C19.8356 18.0722 18.6913 19.25 17.2568 19.25C16.8426 19.25 16.5068 18.9142 16.5068 18.5C16.5068 18.0858 16.8426 17.75 17.2568 17.75C17.8415 17.75 18.3356 17.2654 18.3356 16.6426V12.9287C18.3356 12.7318 18.413 12.5428 18.5512 12.4025L18.9475 12L18.5512 11.5975C18.413 11.4572 18.3356 11.2682 18.3356 11.0713V7.35738C18.3356 6.7344 17.8421 6.25 17.2568 6.25C16.8426 6.25 16.5068 5.91421 16.5068 5.5ZM12 9.21868C12.4142 9.21868 12.75 9.55447 12.75 9.96868V11.2499H14C14.4142 11.2499 14.75 11.5857 14.75 11.9999C14.75 12.4141 14.4142 12.7499 14 12.7499H12.75V14.0312C12.75 14.4454 12.4142 14.7812 12 14.7812C11.5858 14.7812 11.25 14.4454 11.25 14.0312V12.7499H10C9.58579 12.7499 9.25 12.4141 9.25 11.9999C9.25 11.5857 9.58579 11.2499 10 11.2499H11.25V9.96868C11.25 9.55447 11.5858 9.21868 12 9.21868Z\" fill=\"currentColor\"/>\n<\/g>\n<\/svg>\n<div class=\"dt-tooltip__description--top\" style=\"transform: translateX(30%);\"><span>Вставить переменную<\/span><\/div><\/div><Label class=\"actions-toggles__item_enable_markdown btn-outline-grey-square--s dt-tooltip dt-tooltip__dark mr-4\" for=\"message_enable_markdown\" style=\"\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/code/i24\">\n<path id=\"Union\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M13.5869 4.86792C13.9912 4.95788 14.2461 5.35858 14.1561 5.76291L11.3081 18.5629C11.2181 18.9672 10.8174 19.2221 10.4131 19.1321C10.0088 19.0421 9.75394 18.6414 9.8439 18.2371L12.6919 5.43712C12.7819 5.0328 13.1826 4.77795 13.5869 4.86792ZM7.73033 8.26968C8.02322 8.56258 8.02322 9.03745 7.73033 9.33034L5.06066 12L7.73033 14.6697C8.02322 14.9626 8.02322 15.4375 7.73033 15.7303C7.43744 16.0232 6.96256 16.0232 6.66967 15.7303L3.46967 12.5303C3.17678 12.2375 3.17678 11.7626 3.46967 11.4697L6.66967 8.26968C6.96256 7.97679 7.43744 7.97679 7.73033 8.26968ZM16.2697 8.26968C16.5626 7.97679 17.0374 7.97679 17.3303 8.26968L20.5303 11.4697C20.8232 11.7626 20.8232 12.2375 20.5303 12.5303L17.3303 15.7303C17.0374 16.0232 16.5626 16.0232 16.2697 15.7303C15.9768 15.4375 15.9768 14.9626 16.2697 14.6697L18.9393 12L16.2697 9.33034C15.9768 9.03745 15.9768 8.56258 16.2697 8.26968Z\" fill=\"currentColor\"/>\n<\/g>\n<\/svg>\n<input name=\"message[enable_markdown]\" type=\"hidden\" value=\"0\" autocomplete=\"off\" /><input class=\"opacity-0\" type=\"checkbox\" value=\"1\" name=\"message[enable_markdown]\" id=\"message_enable_markdown\" /><div class=\"dt-tooltip__description--bottom\" style=\"transform: translateX(30%);\"><span>Разметка Markdown<\/span><bt><\/bt><span>для форматирования сообщений в телеграм<\/span><\/div><\/Label><label class=\"actions-toggles__item_enable_html btn-outline-grey-square--s dt-tooltip dt-tooltip__dark mr-4\" for=\"message_enable_html\" style=\"\"><svg width=\"46\" height=\"38\" viewBox=\"0 0 36 28\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path d=\"M28.0438 17.938C27.8458 17.938 27.6808 17.883 27.5488 17.773C27.4242 17.6557 27.3618 17.4907 27.3618 17.278V10.711C27.3618 10.4983 27.4242 10.337 27.5488 10.227C27.6808 10.117 27.8458 10.062 28.0438 10.062C28.2418 10.062 28.4068 10.117 28.5388 10.227C28.6708 10.337 28.7368 10.4983 28.7368 10.711V17.278C28.7368 17.4907 28.6708 17.6557 28.5388 17.773C28.4068 17.883 28.2418 17.938 28.0438 17.938Z\" fill=\"currentColor\"/>\n  <path d=\"M24.1493 12.361C24.736 12.361 25.1833 12.537 25.4913 12.889C25.8066 13.2337 25.9643 13.7947 25.9643 14.572V17.278C25.9643 17.4907 25.8983 17.6557 25.7663 17.773C25.6416 17.883 25.4766 17.938 25.2713 17.938C25.0733 17.938 24.9083 17.883 24.7763 17.773C24.6516 17.6557 24.5893 17.4907 24.5893 17.278V14.572C24.5893 14.1687 24.516 13.8827 24.3693 13.714C24.23 13.538 24.0136 13.45 23.7203 13.45C23.361 13.45 23.075 13.5747 22.8623 13.824C22.6496 14.066 22.5433 14.3997 22.5433 14.825V17.278C22.5433 17.4907 22.4773 17.6557 22.3453 17.773C22.2206 17.883 22.0593 17.938 21.8613 17.938C21.6633 17.938 21.4983 17.883 21.3663 17.773C21.2343 17.6557 21.1683 17.4907 21.1683 17.278V14.572C21.1683 14.1687 21.095 13.8827 20.9483 13.714C20.809 13.538 20.5926 13.45 20.2993 13.45C19.94 13.45 19.654 13.5747 19.4413 13.824C19.236 14.066 19.1333 14.3997 19.1333 14.825V17.278C19.1333 17.4907 19.0673 17.6557 18.9353 17.773C18.8033 17.883 18.6383 17.938 18.4403 17.938C18.2423 17.938 18.0773 17.883 17.9453 17.773C17.8206 17.6557 17.7583 17.4907 17.7583 17.278V13.021C17.7583 12.8157 17.8243 12.658 17.9563 12.548C18.0883 12.438 18.2533 12.383 18.4513 12.383C18.642 12.383 18.796 12.438 18.9133 12.548C19.038 12.6507 19.1003 12.801 19.1003 12.999V13.263C19.269 12.9697 19.4926 12.746 19.7713 12.592C20.0573 12.438 20.3836 12.361 20.7503 12.361C21.557 12.361 22.096 12.6983 22.3673 13.373C22.5286 13.065 22.767 12.8193 23.0823 12.636C23.3976 12.4527 23.7533 12.361 24.1493 12.361Z\" fill=\"currentColor\"/>\n  <path d=\"M16.4918 16.915C16.8584 16.937 17.0418 17.102 17.0418 17.41C17.0418 17.586 16.9684 17.7217 16.8218 17.817C16.6824 17.905 16.4808 17.9417 16.2168 17.927L15.9198 17.905C14.6878 17.817 14.0718 17.157 14.0718 15.925V13.527H13.5218C13.3238 13.527 13.1698 13.483 13.0598 13.395C12.9571 13.307 12.9058 13.1787 12.9058 13.01C12.9058 12.8413 12.9571 12.713 13.0598 12.625C13.1698 12.537 13.3238 12.493 13.5218 12.493H14.0718V11.481C14.0718 11.283 14.1341 11.1253 14.2588 11.008C14.3834 10.8907 14.5521 10.832 14.7648 10.832C14.9701 10.832 15.1351 10.8907 15.2598 11.008C15.3844 11.1253 15.4468 11.283 15.4468 11.481V12.493H16.3818C16.5798 12.493 16.7301 12.537 16.8328 12.625C16.9428 12.713 16.9978 12.8413 16.9978 13.01C16.9978 13.1787 16.9428 13.307 16.8328 13.395C16.7301 13.483 16.5798 13.527 16.3818 13.527H15.4468V16.024C15.4468 16.5667 15.6961 16.8563 16.1948 16.893L16.4918 16.915Z\" fill=\"currentColor\"/>\n  <path d=\"M10.4092 12.361C11.6705 12.361 12.3012 13.098 12.3012 14.572V17.278C12.3012 17.4833 12.2389 17.6447 12.1142 17.762C11.9969 17.8793 11.8319 17.938 11.6192 17.938C11.4065 17.938 11.2379 17.8793 11.1132 17.762C10.9885 17.6447 10.9262 17.4833 10.9262 17.278V14.572C10.9262 14.1833 10.8455 13.901 10.6842 13.725C10.5302 13.5417 10.2845 13.45 9.94718 13.45C9.55118 13.45 9.23218 13.5747 8.99018 13.824C8.75552 14.0733 8.63818 14.407 8.63818 14.825V17.278C8.63818 17.4833 8.57585 17.6447 8.45118 17.762C8.32652 17.8793 8.15785 17.938 7.94518 17.938C7.73252 17.938 7.56385 17.8793 7.43918 17.762C7.32185 17.6447 7.26318 17.4833 7.26318 17.278V10.7C7.26318 10.5093 7.32552 10.3553 7.45018 10.238C7.58218 10.1207 7.75085 10.062 7.95618 10.062C8.16152 10.062 8.32652 10.117 8.45118 10.227C8.57585 10.337 8.63818 10.4873 8.63818 10.678V13.241C8.82152 12.955 9.06352 12.7387 9.36418 12.592C9.67218 12.438 10.0205 12.361 10.4092 12.361Z\" fill=\"currentColor\"/>\n  <rect x=\"0.5\" y=\"0.5\" width=\"24\" height=\"24\" rx=\"5.5\"/>\n<\/svg>\n<input name=\"message[enable_html]\" type=\"hidden\" value=\"0\" autocomplete=\"off\" /><input class=\"opacity-0\" type=\"checkbox\" value=\"1\" name=\"message[enable_html]\" id=\"message_enable_html\" /><div class=\"dt-tooltip__description--bottom\" style=\"transform: translateX(20%); max-width: 380px;\"><span>HTML разметка в телеграм<\/span><br /><span>&lt;a href=&quot;https://google.com&quot;&gt;ссылка&lt;/a&gt; - вшивает ссылку в слово<\/span><br /><span>&lt;u&gt;underlined&lt;/u&gt; - подчеркнутый шрифт<\/span><br /><span>&lt;ins&gt;underlined&lt;/ins&gt; - подчеркнутый шрифт<\/span><br /><span>&lt;em&gt;italic&lt;/em&gt; - курсивный шрифт<\/span><br /><span>&lt;i&gt;italic&lt;/i&gt; - курсив шрифт<\/span><br /><span>&lt;strong&gt;strong&lt;/strong&gt; - жирный шрифт<\/span><br /><span>&lt;strike&gt;strikethrough&lt;/strike&gt; - зачеркнутый шрифт<\/span><br /><span>&lt;del&gt;strikethrough&lt;/del&gt; - зачеркнутый шрифт<\/span><br /><span>&lt;tg-spoiler&gt;spoiler&lt;/tg-spoiler&gt; - скрытый шрифт<\/span><br /><span>&lt;blockquote&gt;текст&lt;/blockquote&gt; - цитаты<\/span><br /><span>&lt;code&gt;Preformatted&lt;/code&gt; - форматированный шрифт<\/span><br /><span>&lt;pre&gt;Preformatted&lt;/pre&gt; - форматированный шрифт<\/span><\/div><\/label><label class=\"actions-toggles__item_protected_content btn-outline-grey-square--s dt-tooltip dt-tooltip__dark mr-4\" for=\"message_protected_content\" style=\"\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/lock/i24\">\n<path id=\"Union\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M12 4.75C10.3318 4.75 9.03571 6.03675 9.03571 7.55556V9.47222H14.9643V7.55556C14.9643 6.03675 13.6682 4.75 12 4.75ZM16.4643 9.47222V7.55556C16.4643 5.14725 14.4342 3.25 12 3.25C9.56578 3.25 7.53571 5.14725 7.53571 7.55556V9.47222H7.35714C5.94807 9.47222 4.75 10.573 4.75 12V18.2222C4.75 19.6492 5.94807 20.75 7.35714 20.75H16.6429C18.0519 20.75 19.25 19.6492 19.25 18.2222V12C19.25 10.573 18.0519 9.47222 16.6429 9.47222H16.4643ZM7.35714 10.9722C6.71408 10.9722 6.25 11.4625 6.25 12V18.2222C6.25 18.7597 6.71408 19.25 7.35714 19.25H16.6429C17.2859 19.25 17.75 18.7597 17.75 18.2222V12C17.75 11.4625 17.2859 10.9722 16.6429 10.9722H7.35714ZM12 13.0278C12.4142 13.0278 12.75 13.3636 12.75 13.7778V16.4444C12.75 16.8587 12.4142 17.1944 12 17.1944C11.5858 17.1944 11.25 16.8587 11.25 16.4444V13.7778C11.25 13.3636 11.5858 13.0278 12 13.0278Z\" fill=\"currentColor\"/>\n<\/g>\n<\/svg>\n<input name=\"message[protected_content]\" type=\"hidden\" value=\"0\" autocomplete=\"off\" /><input class=\"opacity-0\" type=\"checkbox\" value=\"1\" name=\"message[protected_content]\" id=\"message_protected_content\" /><div class=\"dt-tooltip__description--top\"><span>Защитить контент<\/span><\/div><\/label><label class=\"actions-toggles__item_disable_notification btn-outline-grey-square--s dt-tooltip dt-tooltip__dark mr-4\" for=\"message_disable_notification\" style=\"\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/sound mute/i24\">\n<g id=\"Union\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M14.0127 3.77355C15.1746 4.41556 15.75 5.76891 15.75 7.41V8.37C15.75 8.78421 15.4142 9.12 15 9.12C14.5858 9.12 14.25 8.78421 14.25 8.37V7.41C14.25 6.07109 13.7904 5.36444 13.2873 5.08645C12.7838 4.80826 11.9406 4.79558 10.8084 5.50543L7.88828 7.33551L7.8729 7.34489C7.44733 7.59758 6.94625 7.75 6.43 7.75H5C4.11561 7.75 3.59007 7.97059 3.28033 8.28033C2.97059 8.59007 2.75 9.11561 2.75 10V14C2.75 14.8844 2.97059 15.4099 3.28033 15.7197C3.59007 16.0294 4.11561 16.25 5 16.25H7C7.41421 16.25 7.75 16.5858 7.75 17C7.75 17.4142 7.41421 17.75 7 17.75H5C3.88439 17.75 2.90993 17.4706 2.21967 16.7803C1.52941 16.0901 1.25 15.1156 1.25 14V10C1.25 8.88439 1.52941 7.90993 2.21967 7.21967C2.90993 6.52941 3.88439 6.25 5 6.25H6.43C6.65133 6.25 6.88751 6.18388 7.10014 6.05921L10.0116 4.23457C10.0116 4.23459 10.0116 4.23454 10.0116 4.23457C11.3994 3.36448 12.8512 3.13176 14.0127 3.77355Z\" fill=\"currentColor\"/>\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M15 12.2C15.4142 12.2 15.75 12.5358 15.75 12.95V16.59C15.75 18.2271 15.1741 19.5793 14.0135 20.2223C12.8525 20.8655 11.4006 20.6363 10.0116 19.7654C9.66066 19.5454 9.55453 19.0825 9.77457 18.7316C9.9946 18.3807 10.4575 18.2745 10.8084 18.4946C11.9394 19.2037 12.7825 19.1895 13.2865 18.9102C13.7909 18.6307 14.25 17.9229 14.25 16.59V12.95C14.25 12.5358 14.5858 12.2 15 12.2Z\" fill=\"currentColor\"/>\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M18.5204 8.72817C18.9025 8.56823 19.3419 8.74831 19.5018 9.1304C20.5022 11.5201 20.2032 14.3124 18.6 16.45C18.3515 16.7814 17.8814 16.8485 17.55 16.6C17.2186 16.3515 17.1515 15.8814 17.4 15.55C18.6768 13.8476 18.9178 11.6199 18.1182 9.7096C17.9582 9.32752 18.1383 8.88811 18.5204 8.72817Z\" fill=\"currentColor\"/>\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M20.8589 7.10881C21.2406 6.94802 21.6804 7.12714 21.8412 7.50887C23.4129 11.2403 22.9428 15.6032 20.4298 18.9503C20.1811 19.2815 19.7109 19.3485 19.3797 19.0998C19.0485 18.8511 18.9815 18.3809 19.2302 18.0497C21.4172 15.1368 21.8271 11.3397 20.4588 8.09113C20.298 7.7094 20.4771 7.2696 20.8589 7.10881Z\" fill=\"currentColor\"/>\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M22.5303 1.46967C22.8232 1.76256 22.8232 2.23744 22.5303 2.53033L2.53033 22.5303C2.23744 22.8232 1.76256 22.8232 1.46967 22.5303C1.17678 22.2374 1.17678 21.7626 1.46967 21.4697L21.4697 1.46967C21.7626 1.17678 22.2374 1.17678 22.5303 1.46967Z\" fill=\"currentColor\"/>\n<\/g>\n<\/g>\n<\/svg>\n<input name=\"message[disable_notification]\" type=\"hidden\" value=\"0\" autocomplete=\"off\" /><input class=\"opacity-0\" type=\"checkbox\" value=\"1\" name=\"message[disable_notification]\" id=\"message_disable_notification\" /><div class=\"dt-tooltip__description--top\"><span>Отправить без звука<\/span><\/div><\/label><label class=\"actions-toggles__item_callback_if_seen btn-outline-grey-square--s dt-tooltip dt-tooltip__dark mr-4\" for=\"message_callback_if_seen\" style=\"\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/check double/i24\">\n<path id=\"Union\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M16.0124 6.45033C16.3159 6.73213 16.3336 7.20667 16.0518 7.51025L12.4878 11.3496C12.206 11.6532 11.7315 11.6709 11.4279 11.3891C11.1243 11.1073 11.1067 10.6327 11.3885 10.3291L14.9524 6.48975C15.2342 6.18618 15.7088 6.16852 16.0124 6.45033ZM22.5103 6.45033C22.8138 6.73213 22.8315 7.20667 22.5497 7.51025L13.267 17.5103C13.1251 17.6631 12.9259 17.75 12.7173 17.75C12.5087 17.75 12.3095 17.6631 12.1676 17.5103L7.94822 12.9648C7.66641 12.6612 7.68407 12.1867 7.98764 11.9049C8.29122 11.6231 8.76577 11.6407 9.04757 11.9443L12.7173 15.8976L21.4503 6.48975C21.7321 6.18618 22.2067 6.16852 22.5103 6.45033ZM1.48975 11.9049C1.79333 11.6231 2.26788 11.6407 2.54968 11.9443L6.21941 15.8976L6.54405 15.5479C6.82585 15.2443 7.3004 15.2266 7.60397 15.5085C7.90755 15.7903 7.9252 16.2648 7.6434 16.5684L6.76909 17.5103C6.62718 17.6631 6.42801 17.75 6.21941 17.75C6.01082 17.75 5.81165 17.6631 5.66973 17.5103L1.45033 12.9648C1.16852 12.6612 1.18618 12.1867 1.48975 11.9049Z\" fill=\"currentColor\"/>\n<\/g>\n<\/svg>\n<input name=\"message[callback_if_seen]\" type=\"hidden\" value=\"0\" autocomplete=\"off\" /><input class=\"opacity-0\" type=\"checkbox\" value=\"1\" name=\"message[callback_if_seen]\" id=\"message_callback_if_seen\" /><div class=\"dt-tooltip__description--top\" style=\"transform: translateX(30%);\"><span>Callback о просмотре (только VK и email)<\/span><\/div><\/label><label class=\"actions-toggles__item_message_save_to_log btn-outline-grey-square--s dt-tooltip dt-tooltip__dark\" for=\"message_save_to_log\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/dialog/i24\">\n<path id=\"Union\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M3.24951 6.66681C3.24951 4.77976 4.77927 3.25 6.66632 3.25H17.3336C19.2206 3.25 20.7504 4.77976 20.7504 6.66681V14.6673C20.7504 16.5543 19.2206 18.0841 17.3336 18.0841H12.7137L9.72208 20.4773C9.34857 20.7761 8.83684 20.8344 8.40572 20.6272C7.9746 20.42 7.70042 19.984 7.70042 19.5057V18.0841H6.66632C4.77927 18.0841 3.24951 16.5543 3.24951 14.6673V6.66681ZM6.66632 4.75C5.6077 4.75 4.74951 5.60819 4.74951 6.66681V14.6673C4.74951 15.7259 5.6077 16.5841 6.66632 16.5841H8.45042C8.86464 16.5841 9.20042 16.9199 9.20042 17.3341V18.9737L11.9821 16.7484C12.1151 16.642 12.2803 16.5841 12.4506 16.5841H17.3336C18.3922 16.5841 19.2504 15.7259 19.2504 14.6673V6.66681C19.2504 5.60819 18.3922 4.75 17.3336 4.75H6.66632ZM7.6942 8.88916C7.6942 8.47494 8.02999 8.13916 8.4442 8.13916H15.5557C15.9699 8.13916 16.3057 8.47494 16.3057 8.88916C16.3057 9.30337 15.9699 9.63916 15.5557 9.63916H8.4442C8.02999 9.63916 7.6942 9.30337 7.6942 8.88916ZM7.6942 12.4449C7.6942 12.0307 8.02999 11.6949 8.4442 11.6949H13.7778C14.192 11.6949 14.5278 12.0307 14.5278 12.4449C14.5278 12.8591 14.192 13.1949 13.7778 13.1949H8.4442C8.02999 13.1949 7.6942 12.8591 7.6942 12.4449Z\" fill=\"currentColor\"/>\n<\/g>\n<\/svg>\n<input name=\"message[save_to_log]\" type=\"hidden\" value=\"0\" autocomplete=\"off\" /><input class=\"opacity-0\" type=\"checkbox\" value=\"1\" checked=\"checked\" name=\"message[save_to_log]\" id=\"message_save_to_log\" /><div class=\"dt-tooltip__description--top\" style=\"transform: translateX(30%);\"><span>Сохранить сообщение в истории переписки с клиентом<\/span><\/div><\/label><\/div><\/div><div class=\"part_new\" id=\"settings_part\" style=\"display: none\"><div class=\"label-wrapper\"><div class=\"new_label\">Тип запроса<\/div><div class=\"dt-tooltip dt-tooltip__dark\"><div class=\"dt-tooltip__icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/help square/i16\">\n<g id=\"Union\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5.62961 3.26665C4.32458 3.26665 3.26665 4.32458 3.26665 5.62961V10.3704C3.26665 11.6754 4.32458 12.7333 5.62961 12.7333H10.3704C11.6754 12.7333 12.7333 11.6754 12.7333 10.3704V5.62961C12.7333 4.32458 11.6754 3.26665 10.3704 3.26665H5.62961ZM2.06665 5.62961C2.06665 3.66184 3.66184 2.06665 5.62961 2.06665H10.3704C12.3381 2.06665 13.9333 3.66184 13.9333 5.62961V10.3704C13.9333 12.3381 12.3381 13.9333 10.3704 13.9333H5.62961C3.66184 13.9333 2.06665 12.3381 2.06665 10.3704V5.62961ZM7.98457 5.02915C9.04817 4.98576 9.95472 5.80067 10.0211 6.86664C10.0219 6.87906 10.0223 6.89149 10.0223 6.90393C10.0223 7.57076 9.66073 8.18517 9.07781 8.50898L8.29144 8.94587C8.00177 9.10681 7.63648 9.00245 7.47555 8.71278C7.31462 8.42311 7.41898 8.05783 7.70865 7.89689L8.49502 7.46C8.69164 7.35079 8.8156 7.14612 8.822 6.92219C8.78649 6.51417 8.43308 6.20595 8.02186 6.22872C8.00253 6.22979 7.98315 6.22992 7.96381 6.22912C7.5847 6.21338 7.24805 6.46965 7.16229 6.83927C7.0874 7.16206 6.765 7.36302 6.44221 7.28813C6.11941 7.21323 5.91845 6.89084 5.99335 6.56804C6.20731 5.64586 7.0409 5.0036 7.98457 5.02915Z\" fill=\"currentColor\"/>\n<path d=\"M8.65952 10.3121C8.65975 10.1369 8.59028 9.96889 8.46642 9.84504C8.34258 9.72119 8.17454 9.65171 7.99938 9.65194C7.63549 9.65241 7.3408 9.94762 7.34096 10.3115C7.34111 10.6754 7.63607 10.9703 7.99995 10.9705C8.36384 10.9707 8.65905 10.676 8.65952 10.3121Z\" fill=\"currentColor\"/>\n<\/g>\n<\/g>\n<\/svg>\n<\/div><div class=\"dt-tooltip__description--bottom\" style=\"transform: translateX(-40%);\"><span>Тип передачи параметров. Нужен для работы со сторонним API<\/span><\/div><\/div><\/div><div class=\"main-select\"><div class=\"input-field col select optional message_request_type s12\"><select class=\"select optional\" name=\"message[request_type]\" id=\"message_request_type\"><option value=\"\">Тип запроса<\/option>\n<option value=\"0\">GET<\/option>\n<option value=\"1\">POST-data<\/option>\n<option value=\"2\">POST-json<\/option>\n<option value=\"3\">PATCH-json<\/option>\n<option value=\"4\">PUT-json<\/option>\n<option value=\"5\">DELETE-json<\/option><\/select><\/div><\/div><div id=\"url_part\" style=\"display: none\"><div class=\"label-wrapper mt-8\"><div class=\"new_label\">URL запроса<\/div><div class=\"dt-tooltip dt-tooltip__dark\"><div class=\"dt-tooltip__icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/help square/i16\">\n<g id=\"Union\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5.62961 3.26665C4.32458 3.26665 3.26665 4.32458 3.26665 5.62961V10.3704C3.26665 11.6754 4.32458 12.7333 5.62961 12.7333H10.3704C11.6754 12.7333 12.7333 11.6754 12.7333 10.3704V5.62961C12.7333 4.32458 11.6754 3.26665 10.3704 3.26665H5.62961ZM2.06665 5.62961C2.06665 3.66184 3.66184 2.06665 5.62961 2.06665H10.3704C12.3381 2.06665 13.9333 3.66184 13.9333 5.62961V10.3704C13.9333 12.3381 12.3381 13.9333 10.3704 13.9333H5.62961C3.66184 13.9333 2.06665 12.3381 2.06665 10.3704V5.62961ZM7.98457 5.02915C9.04817 4.98576 9.95472 5.80067 10.0211 6.86664C10.0219 6.87906 10.0223 6.89149 10.0223 6.90393C10.0223 7.57076 9.66073 8.18517 9.07781 8.50898L8.29144 8.94587C8.00177 9.10681 7.63648 9.00245 7.47555 8.71278C7.31462 8.42311 7.41898 8.05783 7.70865 7.89689L8.49502 7.46C8.69164 7.35079 8.8156 7.14612 8.822 6.92219C8.78649 6.51417 8.43308 6.20595 8.02186 6.22872C8.00253 6.22979 7.98315 6.22992 7.96381 6.22912C7.5847 6.21338 7.24805 6.46965 7.16229 6.83927C7.0874 7.16206 6.765 7.36302 6.44221 7.28813C6.11941 7.21323 5.91845 6.89084 5.99335 6.56804C6.20731 5.64586 7.0409 5.0036 7.98457 5.02915Z\" fill=\"currentColor\"/>\n<path d=\"M8.65952 10.3121C8.65975 10.1369 8.59028 9.96889 8.46642 9.84504C8.34258 9.72119 8.17454 9.65171 7.99938 9.65194C7.63549 9.65241 7.3408 9.94762 7.34096 10.3115C7.34111 10.6754 7.63607 10.9703 7.99995 10.9705C8.36384 10.9707 8.65905 10.676 8.65952 10.3121Z\" fill=\"currentColor\"/>\n<\/g>\n<\/g>\n<\/svg>\n<\/div><div class=\"dt-tooltip__description--bottom\" style=\"transform: translateX(-40%);\"><span>Указываете необходимый URL запроса<\/span><\/div><\/div><\/div><div class=\"input-field col string optional message_action_url s12\"><input placeholder=\"URL запроса\" class=\"string optional\" type=\"text\" name=\"message[action_url]\" id=\"message_action_url\" /><\/div><div class=\"label-wrapper\"><div class=\"new_label\">Сохраняемые значения<\/div><div class=\"dt-tooltip dt-tooltip__dark\"><div class=\"dt-tooltip__icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/help square/i16\">\n<g id=\"Union\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5.62961 3.26665C4.32458 3.26665 3.26665 4.32458 3.26665 5.62961V10.3704C3.26665 11.6754 4.32458 12.7333 5.62961 12.7333H10.3704C11.6754 12.7333 12.7333 11.6754 12.7333 10.3704V5.62961C12.7333 4.32458 11.6754 3.26665 10.3704 3.26665H5.62961ZM2.06665 5.62961C2.06665 3.66184 3.66184 2.06665 5.62961 2.06665H10.3704C12.3381 2.06665 13.9333 3.66184 13.9333 5.62961V10.3704C13.9333 12.3381 12.3381 13.9333 10.3704 13.9333H5.62961C3.66184 13.9333 2.06665 12.3381 2.06665 10.3704V5.62961ZM7.98457 5.02915C9.04817 4.98576 9.95472 5.80067 10.0211 6.86664C10.0219 6.87906 10.0223 6.89149 10.0223 6.90393C10.0223 7.57076 9.66073 8.18517 9.07781 8.50898L8.29144 8.94587C8.00177 9.10681 7.63648 9.00245 7.47555 8.71278C7.31462 8.42311 7.41898 8.05783 7.70865 7.89689L8.49502 7.46C8.69164 7.35079 8.8156 7.14612 8.822 6.92219C8.78649 6.51417 8.43308 6.20595 8.02186 6.22872C8.00253 6.22979 7.98315 6.22992 7.96381 6.22912C7.5847 6.21338 7.24805 6.46965 7.16229 6.83927C7.0874 7.16206 6.765 7.36302 6.44221 7.28813C6.11941 7.21323 5.91845 6.89084 5.99335 6.56804C6.20731 5.64586 7.0409 5.0036 7.98457 5.02915Z\" fill=\"currentColor\"/>\n<path d=\"M8.65952 10.3121C8.65975 10.1369 8.59028 9.96889 8.46642 9.84504C8.34258 9.72119 8.17454 9.65171 7.99938 9.65194C7.63549 9.65241 7.3408 9.94762 7.34096 10.3115C7.34111 10.6754 7.63607 10.9703 7.99995 10.9705C8.36384 10.9707 8.65905 10.676 8.65952 10.3121Z\" fill=\"currentColor\"/>\n<\/g>\n<\/g>\n<\/svg>\n<\/div><div class=\"dt-tooltip__description--bottom\" style=\"transform: translateX(-65%);\"><span>Здесь указываете #{custom_answer}, которые вам нужно сохранить в переменные. Например, country -&gt; strana<\/span><\/div><\/div><\/div><div class=\"input-field col text optional message_saved_variables s12\"><textarea placeholder=\"Сохраняемые значения из JSON-ответа\" class=\"text optional answer_textarea materialize-textarea\" name=\"message[saved_variables]\" id=\"message_saved_variables\">\n<\/textarea><\/div><div class=\"label-wrapper\"><div class=\"new_label\">Заголовок запроса<\/div><div class=\"dt-tooltip dt-tooltip__dark\"><div class=\"dt-tooltip__icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/help square/i16\">\n<g id=\"Union\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5.62961 3.26665C4.32458 3.26665 3.26665 4.32458 3.26665 5.62961V10.3704C3.26665 11.6754 4.32458 12.7333 5.62961 12.7333H10.3704C11.6754 12.7333 12.7333 11.6754 12.7333 10.3704V5.62961C12.7333 4.32458 11.6754 3.26665 10.3704 3.26665H5.62961ZM2.06665 5.62961C2.06665 3.66184 3.66184 2.06665 5.62961 2.06665H10.3704C12.3381 2.06665 13.9333 3.66184 13.9333 5.62961V10.3704C13.9333 12.3381 12.3381 13.9333 10.3704 13.9333H5.62961C3.66184 13.9333 2.06665 12.3381 2.06665 10.3704V5.62961ZM7.98457 5.02915C9.04817 4.98576 9.95472 5.80067 10.0211 6.86664C10.0219 6.87906 10.0223 6.89149 10.0223 6.90393C10.0223 7.57076 9.66073 8.18517 9.07781 8.50898L8.29144 8.94587C8.00177 9.10681 7.63648 9.00245 7.47555 8.71278C7.31462 8.42311 7.41898 8.05783 7.70865 7.89689L8.49502 7.46C8.69164 7.35079 8.8156 7.14612 8.822 6.92219C8.78649 6.51417 8.43308 6.20595 8.02186 6.22872C8.00253 6.22979 7.98315 6.22992 7.96381 6.22912C7.5847 6.21338 7.24805 6.46965 7.16229 6.83927C7.0874 7.16206 6.765 7.36302 6.44221 7.28813C6.11941 7.21323 5.91845 6.89084 5.99335 6.56804C6.20731 5.64586 7.0409 5.0036 7.98457 5.02915Z\" fill=\"currentColor\"/>\n<path d=\"M8.65952 10.3121C8.65975 10.1369 8.59028 9.96889 8.46642 9.84504C8.34258 9.72119 8.17454 9.65171 7.99938 9.65194C7.63549 9.65241 7.3408 9.94762 7.34096 10.3115C7.34111 10.6754 7.63607 10.9703 7.99995 10.9705C8.36384 10.9707 8.65905 10.676 8.65952 10.3121Z\" fill=\"currentColor\"/>\n<\/g>\n<\/g>\n<\/svg>\n<\/div><div class=\"dt-tooltip__description--bottom\" style=\"transform: translateX(-55%);\"><span>Заполняется по необходимости. Чаще всего пишется формат передаваемых данных и ключи доступа<\/span><\/div><\/div><\/div><div class=\"input-field col hidden message_headers s12\"><input placeholder=\"JSON заголовка запроса\" class=\"hidden answer_textarea materialize-textarea\" autocomplete=\"off\" type=\"hidden\" name=\"message[headers]\" id=\"message_headers\" /><\/div><textarea class=\"materialize-textarea\" id=\"headers\"><\/textarea><div class=\"label-wrapper mt-8\"><div class=\"new_label\">JSON параметры<\/div><div class=\"dt-tooltip dt-tooltip__dark\"><div class=\"dt-tooltip__icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/help square/i16\">\n<g id=\"Union\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5.62961 3.26665C4.32458 3.26665 3.26665 4.32458 3.26665 5.62961V10.3704C3.26665 11.6754 4.32458 12.7333 5.62961 12.7333H10.3704C11.6754 12.7333 12.7333 11.6754 12.7333 10.3704V5.62961C12.7333 4.32458 11.6754 3.26665 10.3704 3.26665H5.62961ZM2.06665 5.62961C2.06665 3.66184 3.66184 2.06665 5.62961 2.06665H10.3704C12.3381 2.06665 13.9333 3.66184 13.9333 5.62961V10.3704C13.9333 12.3381 12.3381 13.9333 10.3704 13.9333H5.62961C3.66184 13.9333 2.06665 12.3381 2.06665 10.3704V5.62961ZM7.98457 5.02915C9.04817 4.98576 9.95472 5.80067 10.0211 6.86664C10.0219 6.87906 10.0223 6.89149 10.0223 6.90393C10.0223 7.57076 9.66073 8.18517 9.07781 8.50898L8.29144 8.94587C8.00177 9.10681 7.63648 9.00245 7.47555 8.71278C7.31462 8.42311 7.41898 8.05783 7.70865 7.89689L8.49502 7.46C8.69164 7.35079 8.8156 7.14612 8.822 6.92219C8.78649 6.51417 8.43308 6.20595 8.02186 6.22872C8.00253 6.22979 7.98315 6.22992 7.96381 6.22912C7.5847 6.21338 7.24805 6.46965 7.16229 6.83927C7.0874 7.16206 6.765 7.36302 6.44221 7.28813C6.11941 7.21323 5.91845 6.89084 5.99335 6.56804C6.20731 5.64586 7.0409 5.0036 7.98457 5.02915Z\" fill=\"currentColor\"/>\n<path d=\"M8.65952 10.3121C8.65975 10.1369 8.59028 9.96889 8.46642 9.84504C8.34258 9.72119 8.17454 9.65171 7.99938 9.65194C7.63549 9.65241 7.3408 9.94762 7.34096 10.3115C7.34111 10.6754 7.63607 10.9703 7.99995 10.9705C8.36384 10.9707 8.65905 10.676 8.65952 10.3121Z\" fill=\"currentColor\"/>\n<\/g>\n<\/g>\n<\/svg>\n<\/div><div class=\"dt-tooltip__description--bottom\" style=\"transform: translateX(-50%);\"><span>Сюда записываются параметры для передачи данных в формате JSON<\/span><\/div><\/div><\/div><div class=\"input-field col hidden message_post_params s12\"><input placeholder=\"JSON POST-параметров\" class=\"hidden answer_textarea materialize-textarea\" autocomplete=\"off\" type=\"hidden\" name=\"message[post_params]\" id=\"message_post_params\" /><\/div><textarea class=\"materialize-textarea\" id=\"post_params\"><\/textarea><\/div><\/div><div class=\"part_new\" id=\"calculator_part\" style=\"display: none\"><div class=\"label-wrapper\"><div class=\"new_label\">Калькулятор<\/div><div class=\"dt-tooltip dt-tooltip__dark\"><div class=\"dt-tooltip__icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/help square/i16\">\n<g id=\"Union\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5.62961 3.26665C4.32458 3.26665 3.26665 4.32458 3.26665 5.62961V10.3704C3.26665 11.6754 4.32458 12.7333 5.62961 12.7333H10.3704C11.6754 12.7333 12.7333 11.6754 12.7333 10.3704V5.62961C12.7333 4.32458 11.6754 3.26665 10.3704 3.26665H5.62961ZM2.06665 5.62961C2.06665 3.66184 3.66184 2.06665 5.62961 2.06665H10.3704C12.3381 2.06665 13.9333 3.66184 13.9333 5.62961V10.3704C13.9333 12.3381 12.3381 13.9333 10.3704 13.9333H5.62961C3.66184 13.9333 2.06665 12.3381 2.06665 10.3704V5.62961ZM7.98457 5.02915C9.04817 4.98576 9.95472 5.80067 10.0211 6.86664C10.0219 6.87906 10.0223 6.89149 10.0223 6.90393C10.0223 7.57076 9.66073 8.18517 9.07781 8.50898L8.29144 8.94587C8.00177 9.10681 7.63648 9.00245 7.47555 8.71278C7.31462 8.42311 7.41898 8.05783 7.70865 7.89689L8.49502 7.46C8.69164 7.35079 8.8156 7.14612 8.822 6.92219C8.78649 6.51417 8.43308 6.20595 8.02186 6.22872C8.00253 6.22979 7.98315 6.22992 7.96381 6.22912C7.5847 6.21338 7.24805 6.46965 7.16229 6.83927C7.0874 7.16206 6.765 7.36302 6.44221 7.28813C6.11941 7.21323 5.91845 6.89084 5.99335 6.56804C6.20731 5.64586 7.0409 5.0036 7.98457 5.02915Z\" fill=\"currentColor\"/>\n<path d=\"M8.65952 10.3121C8.65975 10.1369 8.59028 9.96889 8.46642 9.84504C8.34258 9.72119 8.17454 9.65171 7.99938 9.65194C7.63549 9.65241 7.3408 9.94762 7.34096 10.3115C7.34111 10.6754 7.63607 10.9703 7.99995 10.9705C8.36384 10.9707 8.65905 10.676 8.65952 10.3121Z\" fill=\"currentColor\"/>\n<\/g>\n<\/g>\n<\/svg>\n<\/div><div class=\"dt-tooltip__description--bottom\" style=\"transform: translateX(-40%);\"><span>При переходе в данный блок произойдет присвоение переменной или выполнение команд.<\/span><\/div><\/div><\/div><div class=\"input-field col hidden message_variables s12\"><input class=\"hidden\" autocomplete=\"off\" type=\"hidden\" name=\"message[variables]\" id=\"message_variables\" /><\/div><textarea class=\"materialize-textarea\" id=\"redactor_calculate\"><\/textarea><\/div><div class=\"part_new\" id=\"states_part\" style=\"display: none\"><div class=\"input-field col hidden message_list_action s12\"><input class=\"hidden\" autocomplete=\"off\" type=\"hidden\" name=\"message[list_action]\" id=\"message_list_action\" /><\/div><div class=\"input-field col hidden message_actions_settings s12\"><input class=\"hidden\" autocomplete=\"off\" type=\"hidden\" value=\"{}\" name=\"message[actions_settings]\" id=\"message_actions_settings\" /><\/div><div class=\"input-field col hidden message_state_id s12\"><input class=\"hidden\" autocomplete=\"off\" type=\"hidden\" name=\"message[state_id]\" id=\"message_state_id\" /><\/div><div class=\"input-field col hidden message_list_id s12\"><input class=\"hidden\" autocomplete=\"off\" type=\"hidden\" name=\"message[list_id]\" id=\"message_list_id\" /><\/div><div class=\"add_new_list_action btn-no-outline--m display-flex\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/plus/i24\">\n<path id=\"Union\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M12 5.25C12.4142 5.25 12.75 5.58579 12.75 6V11.25H18C18.4142 11.25 18.75 11.5858 18.75 12C18.75 12.4142 18.4142 12.75 18 12.75H12.75V18C12.75 18.4142 12.4142 18.75 12 18.75C11.5858 18.75 11.25 18.4142 11.25 18V12.75H6C5.58579 12.75 5.25 12.4142 5.25 12C5.25 11.5858 5.58579 11.25 6 11.25H11.25V6C11.25 5.58579 11.5858 5.25 12 5.25Z\" fill=\"currentColor\"/>\n<\/g>\n<\/svg>\n<span>Добавить действие<\/span><\/div><div class=\"write_code_on_python_form hidden\"><div class=\"modal_header\"><div class=\"modal_header_title\">Выполнить код на Python<\/div><div class=\"modal_header_close\"><\/div><div class=\"modal-close\"><div class=\"btn-ghost-grey-square--m\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M7.30298 7.30292C7.59588 7.01003 8.07075 7.01003 8.36364 7.30292L12 10.9393L15.6363 7.30292C15.9292 7.01003 16.4041 7.01003 16.697 7.30292C16.9899 7.59582 16.9899 8.07069 16.697 8.36358L13.0606 11.9999L16.697 15.6363C16.9899 15.9291 16.9899 16.404 16.697 16.6969C16.4041 16.9898 15.9292 16.9898 15.6363 16.6969L12 13.0606L8.36364 16.6969C8.07075 16.9898 7.59588 16.9898 7.30298 16.6969C7.01009 16.404 7.01009 15.9291 7.30298 15.6363L10.9393 11.9999L7.30298 8.36358C7.01009 8.07069 7.01009 7.59582 7.30298 7.30292Z\" fill=\"currentColor\"/>\n<\/svg>\n<\/div><\/div><\/div><div class=\"modal_body\"><div class=\"modal_form_box\"><div class=\"write_code_on_python mb-16\"><div id=\"python_code_textbox\"><\/div><\/div><div class=\"form-buttons\"><div class=\"btn-outline-white--m modal-close\">Отменить<\/div><div class=\"btn-solid-brand--m modal-close\" id=\"createPythonCodeFile\">Сохранить файл<\/div><\/div><\/div><\/div><\/div><\/div><div class=\"part_new\" id=\"buttons_part\" style=\"display: none\"><div class=\"part_new_title\">Кнопки<\/div><div class=\"if_show_buttons\"><div class=\"form_button_new\"><\/div><\/div><div class=\"form_button_type\"><div class=\"type-btns\"><div class=\"main-radio type-btns__btn\"><label class=\"reply_button_label\" id=\"reply\"><input class=\"with-gap overclock_work\" id=\"reply_button\" name=\"button_type\" type=\"radio\" /><span>Клавиатура<\/span><\/label><\/div><div class=\"main-radio type-btns__btn\"><label class=\"inline_button_label\" id=\"inline\"><input class=\"with-gap overclock_work\" id=\"inline_button\" name=\"button_type\" type=\"radio\" /><span>Кнопки в тексте<\/span><\/label><\/div><div class=\"main-radio type-btns__btn\"><label class=\"auto_button_label\" id=\"auto\"><input class=\"with-gap overclock_work\" id=\"auto_button\" name=\"button_type\" type=\"radio\" /><span>Автоматически<\/span><div class=\"label-help-icon\"><div class=\"label-help-description\">Выберите, чтобы кнопки выводились там, где Salebot решит это<\/div><\/div><\/label><\/div><\/div><\/div><div class=\"addition_settings_trigger\">Расширенные настройки<\/div><div class=\"addition_settings\"><div class=\"box-switch\"><div class=\"main-switch\"><p class=\"col switch boolean optional message_show_answers s12\"><label class=\"boolean optional\" for=\"message_show_answers\">Показать кнопки<\/label><label><input name=\"message[show_answers]\" type=\"hidden\" value=\"0\" autocomplete=\"off\" /><input class=\"boolean optional\" type=\"checkbox\" value=\"1\" checked=\"checked\" name=\"message[show_answers]\" id=\"message_show_answers\" /><span tag=\"span\" class=\"lever boolean optional\"><\/span><\/label><\/p><\/div><div class=\"main-switch\"><p class=\"col switch boolean optional message_show_connections_buttons s12\"><label class=\"boolean optional\" for=\"message_show_connections_buttons\">Показать стрелки как кнопки<\/label><label><input name=\"message[show_connections_buttons]\" type=\"hidden\" value=\"0\" autocomplete=\"off\" /><input class=\"boolean optional\" type=\"checkbox\" value=\"1\" checked=\"checked\" name=\"message[show_connections_buttons]\" id=\"message_show_connections_buttons\" /><span tag=\"span\" class=\"lever boolean optional\"><\/span><\/label><\/p><\/div><\/div><div class=\"label-wrapper mt-12\"><div class=\"new_label\">Подсказка в мессенджерах без кнопок<\/div><div class=\"dt-tooltip dt-tooltip__dark\"><div class=\"dt-tooltip__icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/help square/i16\">\n<g id=\"Union\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5.62961 3.26665C4.32458 3.26665 3.26665 4.32458 3.26665 5.62961V10.3704C3.26665 11.6754 4.32458 12.7333 5.62961 12.7333H10.3704C11.6754 12.7333 12.7333 11.6754 12.7333 10.3704V5.62961C12.7333 4.32458 11.6754 3.26665 10.3704 3.26665H5.62961ZM2.06665 5.62961C2.06665 3.66184 3.66184 2.06665 5.62961 2.06665H10.3704C12.3381 2.06665 13.9333 3.66184 13.9333 5.62961V10.3704C13.9333 12.3381 12.3381 13.9333 10.3704 13.9333H5.62961C3.66184 13.9333 2.06665 12.3381 2.06665 10.3704V5.62961ZM7.98457 5.02915C9.04817 4.98576 9.95472 5.80067 10.0211 6.86664C10.0219 6.87906 10.0223 6.89149 10.0223 6.90393C10.0223 7.57076 9.66073 8.18517 9.07781 8.50898L8.29144 8.94587C8.00177 9.10681 7.63648 9.00245 7.47555 8.71278C7.31462 8.42311 7.41898 8.05783 7.70865 7.89689L8.49502 7.46C8.69164 7.35079 8.8156 7.14612 8.822 6.92219C8.78649 6.51417 8.43308 6.20595 8.02186 6.22872C8.00253 6.22979 7.98315 6.22992 7.96381 6.22912C7.5847 6.21338 7.24805 6.46965 7.16229 6.83927C7.0874 7.16206 6.765 7.36302 6.44221 7.28813C6.11941 7.21323 5.91845 6.89084 5.99335 6.56804C6.20731 5.64586 7.0409 5.0036 7.98457 5.02915Z\" fill=\"currentColor\"/>\n<path d=\"M8.65952 10.3121C8.65975 10.1369 8.59028 9.96889 8.46642 9.84504C8.34258 9.72119 8.17454 9.65171 7.99938 9.65194C7.63549 9.65241 7.3408 9.94762 7.34096 10.3115C7.34111 10.6754 7.63607 10.9703 7.99995 10.9705C8.36384 10.9707 8.65905 10.676 8.65952 10.3121Z\" fill=\"currentColor\"/>\n<\/g>\n<\/g>\n<\/svg>\n<\/div><div class=\"dt-tooltip__description--bottom dt-tooltip__description--align-end\"><span>Текст из этого поля увидят пользователи мессенджеров, не поддерживающих кнопки<\/span><\/div><\/div><div class=\"dt-tooltip dt-tooltip__dark copy-help_wo_btns\"><div class=\"dt-tooltip__icon\"><svg width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"icon_24px/copy\">\n<path id=\"Vector\" d=\"M5.66667 12.3333H4.33333C3.59695 12.3333 3 11.7364 3 11V4.33333C3 3.59695 3.59695 3 4.33333 3H11C11.7364 3 12.3333 3.59695 12.3333 4.33333V5.66667M6.99945 15H13.6672C14.4033 15 15 14.4033 15 13.6672V6.99944C15 6.26337 14.4033 5.66667 13.6672 5.66667H6.99944C6.26337 5.66667 5.66667 6.26337 5.66667 6.99945V13.6672C5.66667 14.4033 6.26337 15 6.99945 15Z\" stroke=\"#95A3BA\" stroke-width=\"1.2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n<\/g>\n<\/svg>\n<\/div><div class=\"dt-tooltip__description--bottom dt-tooltip__description--align-end\"><span>Скопировать поле подсказки в мессенджерах без кнопок<\/span><\/div><\/div><\/div><div class=\"input-field col text optional message_hint s12\"><textarea placeholder=\"Подсказка в мессенджерах без кнопок\" class=\"text optional answer_textarea materialize-textarea\" name=\"message[hint]\" id=\"message_hint\">\n<\/textarea><\/div><div class=\"label-wrapper\"><div class=\"new_label\">Расширенные настройки кнопок<\/div><div class=\"dt-tooltip dt-tooltip__dark\"><div class=\"dt-tooltip__icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/help square/i16\">\n<g id=\"Union\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5.62961 3.26665C4.32458 3.26665 3.26665 4.32458 3.26665 5.62961V10.3704C3.26665 11.6754 4.32458 12.7333 5.62961 12.7333H10.3704C11.6754 12.7333 12.7333 11.6754 12.7333 10.3704V5.62961C12.7333 4.32458 11.6754 3.26665 10.3704 3.26665H5.62961ZM2.06665 5.62961C2.06665 3.66184 3.66184 2.06665 5.62961 2.06665H10.3704C12.3381 2.06665 13.9333 3.66184 13.9333 5.62961V10.3704C13.9333 12.3381 12.3381 13.9333 10.3704 13.9333H5.62961C3.66184 13.9333 2.06665 12.3381 2.06665 10.3704V5.62961ZM7.98457 5.02915C9.04817 4.98576 9.95472 5.80067 10.0211 6.86664C10.0219 6.87906 10.0223 6.89149 10.0223 6.90393C10.0223 7.57076 9.66073 8.18517 9.07781 8.50898L8.29144 8.94587C8.00177 9.10681 7.63648 9.00245 7.47555 8.71278C7.31462 8.42311 7.41898 8.05783 7.70865 7.89689L8.49502 7.46C8.69164 7.35079 8.8156 7.14612 8.822 6.92219C8.78649 6.51417 8.43308 6.20595 8.02186 6.22872C8.00253 6.22979 7.98315 6.22992 7.96381 6.22912C7.5847 6.21338 7.24805 6.46965 7.16229 6.83927C7.0874 7.16206 6.765 7.36302 6.44221 7.28813C6.11941 7.21323 5.91845 6.89084 5.99335 6.56804C6.20731 5.64586 7.0409 5.0036 7.98457 5.02915Z\" fill=\"currentColor\"/>\n<path d=\"M8.65952 10.3121C8.65975 10.1369 8.59028 9.96889 8.46642 9.84504C8.34258 9.72119 8.17454 9.65171 7.99938 9.65194C7.63549 9.65241 7.3408 9.94762 7.34096 10.3115C7.34111 10.6754 7.63607 10.9703 7.99995 10.9705C8.36384 10.9707 8.65905 10.676 8.65952 10.3121Z\" fill=\"currentColor\"/>\n<\/g>\n<\/g>\n<\/svg>\n<\/div><div class=\"dt-tooltip__description--bottom\" style=\"transform: translateX(-85%);\"><span>Используйте для расширенных настроек (указать ссылку, цвет кнопки и тд)<\/span><\/div><\/div><div class=\"dt-tooltip dt-tooltip__dark copy-pro_edits_btns\"><div class=\"dt-tooltip__icon\"><svg width=\"18\" height=\"18\" viewBox=\"0 0 18 18\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"icon_24px/copy\">\n<path id=\"Vector\" d=\"M5.66667 12.3333H4.33333C3.59695 12.3333 3 11.7364 3 11V4.33333C3 3.59695 3.59695 3 4.33333 3H11C11.7364 3 12.3333 3.59695 12.3333 4.33333V5.66667M6.99945 15H13.6672C14.4033 15 15 14.4033 15 13.6672V6.99944C15 6.26337 14.4033 5.66667 13.6672 5.66667H6.99944C6.26337 5.66667 5.66667 6.26337 5.66667 6.99945V13.6672C5.66667 14.4033 6.26337 15 6.99945 15Z\" stroke=\"#95A3BA\" stroke-width=\"1.2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n<\/g>\n<\/svg>\n<\/div><div class=\"dt-tooltip__description--bottom\" style=\"transform: translateX(-85%);\"><span>Скопировать поле расширенных настроек кнопок<\/span><\/div><\/div><\/div><div class=\"input-field col text optional message_buttons s12\"><textarea placeholder=\"Расширенные настройки кнопок\" class=\"text optional answer_textarea materialize-textarea\" name=\"message[buttons]\" id=\"message_buttons\">\n<\/textarea><\/div><div class=\"addition_settings_trigger_hidden\">Скрыть настройки<\/div><\/div><\/div><div class=\"part_new\" id=\"analytics_part\" style=\"display: none\"><div class=\"label-wrapper\"><div class=\"new_label\">Категория события<\/div><div class=\"dt-tooltip dt-tooltip__dark\"><div class=\"dt-tooltip__icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/help square/i16\">\n<g id=\"Union\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5.62961 3.26665C4.32458 3.26665 3.26665 4.32458 3.26665 5.62961V10.3704C3.26665 11.6754 4.32458 12.7333 5.62961 12.7333H10.3704C11.6754 12.7333 12.7333 11.6754 12.7333 10.3704V5.62961C12.7333 4.32458 11.6754 3.26665 10.3704 3.26665H5.62961ZM2.06665 5.62961C2.06665 3.66184 3.66184 2.06665 5.62961 2.06665H10.3704C12.3381 2.06665 13.9333 3.66184 13.9333 5.62961V10.3704C13.9333 12.3381 12.3381 13.9333 10.3704 13.9333H5.62961C3.66184 13.9333 2.06665 12.3381 2.06665 10.3704V5.62961ZM7.98457 5.02915C9.04817 4.98576 9.95472 5.80067 10.0211 6.86664C10.0219 6.87906 10.0223 6.89149 10.0223 6.90393C10.0223 7.57076 9.66073 8.18517 9.07781 8.50898L8.29144 8.94587C8.00177 9.10681 7.63648 9.00245 7.47555 8.71278C7.31462 8.42311 7.41898 8.05783 7.70865 7.89689L8.49502 7.46C8.69164 7.35079 8.8156 7.14612 8.822 6.92219C8.78649 6.51417 8.43308 6.20595 8.02186 6.22872C8.00253 6.22979 7.98315 6.22992 7.96381 6.22912C7.5847 6.21338 7.24805 6.46965 7.16229 6.83927C7.0874 7.16206 6.765 7.36302 6.44221 7.28813C6.11941 7.21323 5.91845 6.89084 5.99335 6.56804C6.20731 5.64586 7.0409 5.0036 7.98457 5.02915Z\" fill=\"currentColor\"/>\n<path d=\"M8.65952 10.3121C8.65975 10.1369 8.59028 9.96889 8.46642 9.84504C8.34258 9.72119 8.17454 9.65171 7.99938 9.65194C7.63549 9.65241 7.3408 9.94762 7.34096 10.3115C7.34111 10.6754 7.63607 10.9703 7.99995 10.9705C8.36384 10.9707 8.65905 10.676 8.65952 10.3121Z\" fill=\"currentColor\"/>\n<\/g>\n<\/g>\n<\/svg>\n<\/div><div class=\"dt-tooltip__description--bottom\" style=\"transform: translateX(-55%);\"><span>Название категории события аналитики<\/span><\/div><\/div><\/div><div class=\"input-field col string optional message_analytics_category s12\"><input placeholder=\"Название категории\" class=\"string optional\" type=\"text\" name=\"message[analytics_category]\" id=\"message_analytics_category\" /><\/div><div class=\"label-wrapper mt-8\"><div class=\"new_label\">Событие в аналитике<\/div><div class=\"new_label_star\"> *<\/div><div class=\"dt-tooltip dt-tooltip__dark\"><div class=\"dt-tooltip__icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/help square/i16\">\n<g id=\"Union\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5.62961 3.26665C4.32458 3.26665 3.26665 4.32458 3.26665 5.62961V10.3704C3.26665 11.6754 4.32458 12.7333 5.62961 12.7333H10.3704C11.6754 12.7333 12.7333 11.6754 12.7333 10.3704V5.62961C12.7333 4.32458 11.6754 3.26665 10.3704 3.26665H5.62961ZM2.06665 5.62961C2.06665 3.66184 3.66184 2.06665 5.62961 2.06665H10.3704C12.3381 2.06665 13.9333 3.66184 13.9333 5.62961V10.3704C13.9333 12.3381 12.3381 13.9333 10.3704 13.9333H5.62961C3.66184 13.9333 2.06665 12.3381 2.06665 10.3704V5.62961ZM7.98457 5.02915C9.04817 4.98576 9.95472 5.80067 10.0211 6.86664C10.0219 6.87906 10.0223 6.89149 10.0223 6.90393C10.0223 7.57076 9.66073 8.18517 9.07781 8.50898L8.29144 8.94587C8.00177 9.10681 7.63648 9.00245 7.47555 8.71278C7.31462 8.42311 7.41898 8.05783 7.70865 7.89689L8.49502 7.46C8.69164 7.35079 8.8156 7.14612 8.822 6.92219C8.78649 6.51417 8.43308 6.20595 8.02186 6.22872C8.00253 6.22979 7.98315 6.22992 7.96381 6.22912C7.5847 6.21338 7.24805 6.46965 7.16229 6.83927C7.0874 7.16206 6.765 7.36302 6.44221 7.28813C6.11941 7.21323 5.91845 6.89084 5.99335 6.56804C6.20731 5.64586 7.0409 5.0036 7.98457 5.02915Z\" fill=\"currentColor\"/>\n<path d=\"M8.65952 10.3121C8.65975 10.1369 8.59028 9.96889 8.46642 9.84504C8.34258 9.72119 8.17454 9.65171 7.99938 9.65194C7.63549 9.65241 7.3408 9.94762 7.34096 10.3115C7.34111 10.6754 7.63607 10.9703 7.99995 10.9705C8.36384 10.9707 8.65905 10.676 8.65952 10.3121Z\" fill=\"currentColor\"/>\n<\/g>\n<\/g>\n<\/svg>\n<\/div><div class=\"dt-tooltip__description--bottom\" style=\"transform: translateX(-65%);\"><span>Название события для отображеня в аналитике<\/span><\/div><\/div><\/div><div class=\"input-field col string optional message_analytics_name s12\"><input placeholder=\"Название события\" class=\"string optional\" type=\"text\" name=\"message[analytics_name]\" id=\"message_analytics_name\" /><\/div><div class=\"add_action add_action_analytics_variables mt-8\"><div class=\"add_action__text\">Присвоить значение<\/div><\/div><div class=\"analytics_value_input\"><div class=\"label-wrapper mt-8\"><div class=\"new_label\">Значение<\/div><div class=\"dt-tooltip dt-tooltip__dark\"><div class=\"dt-tooltip__icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/help square/i16\">\n<g id=\"Union\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5.62961 3.26665C4.32458 3.26665 3.26665 4.32458 3.26665 5.62961V10.3704C3.26665 11.6754 4.32458 12.7333 5.62961 12.7333H10.3704C11.6754 12.7333 12.7333 11.6754 12.7333 10.3704V5.62961C12.7333 4.32458 11.6754 3.26665 10.3704 3.26665H5.62961ZM2.06665 5.62961C2.06665 3.66184 3.66184 2.06665 5.62961 2.06665H10.3704C12.3381 2.06665 13.9333 3.66184 13.9333 5.62961V10.3704C13.9333 12.3381 12.3381 13.9333 10.3704 13.9333H5.62961C3.66184 13.9333 2.06665 12.3381 2.06665 10.3704V5.62961ZM7.98457 5.02915C9.04817 4.98576 9.95472 5.80067 10.0211 6.86664C10.0219 6.87906 10.0223 6.89149 10.0223 6.90393C10.0223 7.57076 9.66073 8.18517 9.07781 8.50898L8.29144 8.94587C8.00177 9.10681 7.63648 9.00245 7.47555 8.71278C7.31462 8.42311 7.41898 8.05783 7.70865 7.89689L8.49502 7.46C8.69164 7.35079 8.8156 7.14612 8.822 6.92219C8.78649 6.51417 8.43308 6.20595 8.02186 6.22872C8.00253 6.22979 7.98315 6.22992 7.96381 6.22912C7.5847 6.21338 7.24805 6.46965 7.16229 6.83927C7.0874 7.16206 6.765 7.36302 6.44221 7.28813C6.11941 7.21323 5.91845 6.89084 5.99335 6.56804C6.20731 5.64586 7.0409 5.0036 7.98457 5.02915Z\" fill=\"currentColor\"/>\n<path d=\"M8.65952 10.3121C8.65975 10.1369 8.59028 9.96889 8.46642 9.84504C8.34258 9.72119 8.17454 9.65171 7.99938 9.65194C7.63549 9.65241 7.3408 9.94762 7.34096 10.3115C7.34111 10.6754 7.63607 10.9703 7.99995 10.9705C8.36384 10.9707 8.65905 10.676 8.65952 10.3121Z\" fill=\"currentColor\"/>\n<\/g>\n<\/g>\n<\/svg>\n<\/div><div class=\"dt-tooltip__description--bottom\" style=\"transform: translateX(-35%);\"><span>Каждому событию можно настроить собственное значение, например: «Согласен купить» или «Мессенджер:Telegram»<\/span><\/div><\/div><\/div><div class=\"input-field col string optional message_analytics_value s12\"><input placeholder=\"Число или переменная клиента/сделки\" class=\"string optional\" type=\"text\" name=\"message[analytics_value]\" id=\"message_analytics_value\" /><\/div><\/div><\/div><div class=\"part_new\" id=\"attachment_part\" style=\"display: none\"><ul class=\"display-flex flex-wrap mb-8 gap-12\"><li class=\"attachment-list__btn--js btn-outline-white--m flex-grow\" data-type=\"link\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path d=\"M9.45 19.75C8.05 19.75 6.75 19.25 5.75 18.25C4.75 17.25 4.25 15.95 4.25 14.55C4.25 13.15 4.75 11.85 5.75 10.85L6.95 9.65C7.25 9.35 7.75 9.35 8.05 9.65C8.35 9.95 8.35 10.45 8.05 10.75L6.85 11.95C6.15 12.65 5.75 13.55 5.75 14.55C5.75 15.55 6.15 16.45 6.85 17.15C8.25 18.55 10.65 18.55 12.05 17.15L13.25 15.95C13.55 15.65 14.05 15.65 14.35 15.95C14.65 16.25 14.65 16.75 14.35 17.05L13.05 18.25C12.15 19.25 10.85 19.75 9.45 19.75ZM9.45 15.35C9.25 15.35 9.05 15.25 8.95 15.15C8.65 14.85 8.65 14.35 8.95 14.05L14.05 8.95C14.35 8.65 14.85 8.65 15.15 8.95C15.45 9.25 15.45 9.75 15.15 10.05L10.05 15.15C9.85 15.25 9.65 15.35 9.45 15.35ZM16.55 14.55C16.35 14.55 16.15 14.45 16.05 14.35C15.75 14.05 15.75 13.55 16.05 13.25L17.25 12.05C17.85 11.35 18.25 10.45 18.25 9.45C18.25 8.45 17.85 7.55 17.15 6.85C15.75 5.45 13.35 5.45 11.95 6.85L10.75 8.05C10.45 8.35 9.95 8.35 9.65 8.05C9.45 7.75 9.45 7.25 9.75 6.95L10.95 5.75C11.95 4.75 13.25 4.25 14.65 4.25C15.95 4.25 17.25 4.75 18.25 5.75C19.25 6.75 19.75 8.05 19.75 9.45C19.75 10.85 19.25 12.15 18.25 13.15L17.05 14.25C16.85 14.45 16.65 14.55 16.55 14.55Z\" fill=\"currentColor\"/>\n<\/svg>\n<\/li><li class=\"attachment-list__btn--js btn-outline-white--m flex-grow\" data-type=\"video\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/video/i24\">\n<path id=\"Union\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5.77778 4.75C5.20977 4.75 4.75 5.20977 4.75 5.77778V6.80556H6.80556V4.75H5.77778ZM5.77778 3.25C4.38134 3.25 3.25 4.38134 3.25 5.77778V18.2222C3.25 19.6187 4.38134 20.75 5.77778 20.75H18.2222C19.6187 20.75 20.75 19.6187 20.75 18.2222V5.77778C20.75 4.38134 19.6187 3.25 18.2222 3.25H5.77778ZM8.30556 4.75V11.25H15.6944V4.75H8.30556ZM17.1944 4.75V6.80556H19.25V5.77778C19.25 5.20977 18.7902 4.75 18.2222 4.75H17.1944ZM19.25 8.30556H17.1944V11.25H19.25V8.30556ZM19.25 12.75H17.1944V15.6944H19.25V12.75ZM19.25 17.1944H17.1944V19.25H18.2222C18.7902 19.25 19.25 18.7902 19.25 18.2222V17.1944ZM15.6944 19.25V12.75H8.30556V19.25H15.6944ZM6.80556 19.25V17.1944H4.75V18.2222C4.75 18.7902 5.20977 19.25 5.77778 19.25H6.80556ZM4.75 15.6944H6.80556V12.75H4.75V15.6944ZM4.75 11.25H6.80556V8.30556H4.75V11.25Z\" fill=\"currentColor\"/>\n<\/g>\n<\/svg>\n<\/li><li class=\"attachment-list__btn--js btn-outline-white--m flex-grow\" data-type=\"image\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/image/i24\">\n<path id=\"Union\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M7.83333 5.25C6.4066 5.25 5.25 6.4066 5.25 7.83333V11.0415C5.7412 10.6385 6.35911 10.4156 7 10.4156C7.73177 10.4156 8.43358 10.7063 8.95102 11.2237L12.0013 14.2739L12.5515 13.7237C13.629 12.6462 15.376 12.6462 16.4535 13.7237L18.75 16.0202V7.83333C18.75 6.4066 17.5934 5.25 16.1667 5.25H7.83333ZM18.2722 17.6637L15.3929 14.7844C14.9011 14.2926 14.1039 14.2926 13.6121 14.7844L9.64649 18.75H16.1667C17.0354 18.75 17.8039 18.3212 18.2722 17.6637ZM7.83333 20.25H16.1667C18.4218 20.25 20.25 18.4218 20.25 16.1667V7.83333C20.25 5.57817 18.4218 3.75 16.1667 3.75H7.83333C5.57817 3.75 3.75 5.57817 3.75 7.83333V16.1667C3.75 18.4218 5.57817 20.25 7.83333 20.25ZM7.54148 18.7337L10.9406 15.3346L7.89036 12.2844C7.65422 12.0482 7.33395 11.9156 7 11.9156C6.66604 11.9156 6.34577 12.0482 6.10963 12.2844L5.25 13.144V16.1667C5.25 17.4947 6.25215 18.5887 7.54148 18.7337Z\" fill=\"currentColor\"/>\n<\/g>\n<\/svg>\n<\/li><li class=\"attachment-list__btn--js btn-outline-white--m flex-grow\" data-type=\"file\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/file/i24\">\n<path id=\"Union\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M4.75 5.77778C4.75 4.35081 5.94807 3.25 7.35714 3.25H14.0169C14.6978 3.25 15.3575 3.50912 15.8485 3.97911L18.4745 6.49289C18.9666 6.96393 19.25 7.61047 19.25 8.29156V18.2222C19.25 19.6492 18.0519 20.75 16.6429 20.75L7.35714 20.75C5.94807 20.75 4.75 19.6492 4.75 18.2222V5.77778ZM17.5433 7.69444C17.5115 7.65312 17.4761 7.61365 17.4372 7.57645L14.8112 5.06267C14.7498 5.00387 14.6812 4.95229 14.6071 4.90885V7.55555C14.6071 7.60147 14.6561 7.69444 14.7857 7.69444H17.5433ZM13.1071 4.75V7.55555C13.1071 8.49097 13.8901 9.19444 14.7857 9.19444H17.75V18.2222C17.75 18.7597 17.2859 19.25 16.6429 19.25L7.35714 19.25C6.71408 19.25 6.25 18.7597 6.25 18.2222V5.77778C6.25 5.2403 6.71408 4.75 7.35714 4.75H13.1071Z\" fill=\"currentColor\"/>\n<\/g>\n<\/svg>\n<\/li><li class=\"attachment-list__btn--js btn-outline-white--m flex-grow\" data-type=\"audio\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/audio/i24\">\n<path id=\"Union\" d=\"M6.90005 20.702C6.10005 20.702 5.30005 20.402 4.70005 19.802C4.10005 19.202 3.80005 18.402 3.80005 17.602C3.80005 16.802 4.10005 16.002 4.70005 15.402C5.80005 14.302 7.40004 14.202 8.60004 14.902V8.10202C8.60004 7.40202 9.00005 6.70202 9.70005 6.50202L17.9 3.40203C18.4 3.20203 19 3.30202 19.5 3.60202C20 3.90202 20.2001 4.40202 20.2001 5.00202V15.602C20.2001 16.402 19.9 17.202 19.3 17.802C18.1 19.002 16.1 19.002 14.8 17.802C14.2 17.202 13.9 16.402 13.9 15.602C13.9 14.802 14.2 14.002 14.8 13.402C15.9 12.302 17.5001 12.202 18.7001 12.902V4.90203C18.7001 4.80203 18.6 4.70203 18.6 4.70203C18.6 4.70203 18.5 4.60203 18.4 4.70203L10.2001 7.80203C10.1001 7.80203 10.1 7.90202 10.1 8.00202V17.402C10.1 18.202 9.80005 19.002 9.20005 19.602C8.50005 20.402 7.70005 20.702 6.90005 20.702ZM6.90005 15.902C6.50005 15.902 6.00005 16.102 5.70005 16.402C5.40005 16.702 5.20005 17.102 5.20005 17.602C5.20005 18.102 5.40005 18.502 5.70005 18.802C6.40005 19.502 7.40004 19.502 8.10004 18.802C8.40004 18.502 8.60004 18.102 8.60004 17.602C8.60004 17.202 8.40004 16.802 8.10004 16.502C7.80004 16.002 7.30005 15.902 6.90005 15.902ZM17.1 13.902C16.7 13.902 16.2 14.102 15.9 14.402C15.6 14.702 15.4 15.102 15.4 15.602C15.4 16.102 15.6 16.502 15.9 16.802C16.6 17.402 17.6 17.402 18.3 16.802C18.6 16.502 18.8 16.102 18.8 15.602C18.8 15.202 18.6 14.802 18.3 14.502C17.9 14.102 17.5 13.902 17.1 13.902Z\" fill=\"currentColor\"/>\n<\/g>\n<\/svg>\n<\/li><\/ul><div class=\"preview_file_file hidden\"><\/div><div class=\"dropzone-area\"><div class=\"dropzone-area__drop\"><div id=\"drop_area_message\"><div class=\"drop_area_description\"><div class=\"drop_area_preview\"><div><svg width=\"37\" height=\"37\" viewBox=\"0 0 37 37\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M16.1874 30.0624H10.7916C9.08871 30.0624 7.70825 28.682 7.70825 26.9791V10.7916C7.70825 9.08871 9.08871 7.70825 10.7916 7.70825H20.427L26.9791 14.2603V17.7291M25.052 23.1249V30.0624M28.5208 26.5937H21.5833M26.5937 14.6458H20.0416V8.09367\" stroke=\"#626F7F\" stroke-width=\"1.8\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n<\/svg>\n<\/div><\/div><span>Перенесите сюда файл или кликните, чтобы выбрать<\/span><div class=\"remove_file\"><svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g opacity=\"0.5\">\n<path d=\"M14.2427 7.17158C14.6332 6.78106 14.6332 6.1479 14.2427 5.75737C13.8521 5.36685 13.219 5.36685 12.8284 5.75737L14.2427 7.17158ZM5.75737 12.8284C5.36685 13.219 5.36685 13.8521 5.75737 14.2427C6.1479 14.6332 6.78106 14.6332 7.17158 14.2427L5.75737 12.8284ZM12.8284 14.2427C13.219 14.6332 13.8521 14.6332 14.2427 14.2427C14.6332 13.8521 14.6332 13.219 14.2427 12.8284L12.8284 14.2427ZM7.17158 5.75737C6.78106 5.36685 6.1479 5.36685 5.75737 5.75737C5.36685 6.1479 5.36685 6.78106 5.75737 7.17158L7.17158 5.75737ZM12.8284 5.75737L9.2929 9.2929L10.7071 10.7071L14.2427 7.17158L12.8284 5.75737ZM9.2929 9.2929L5.75737 12.8284L7.17158 14.2427L10.7071 10.7071L9.2929 9.2929ZM14.2427 12.8284L10.7071 9.2929L9.2929 10.7071L12.8284 14.2427L14.2427 12.8284ZM10.7071 9.2929L7.17158 5.75737L5.75737 7.17158L9.2929 10.7071L10.7071 9.2929Z\" fill=\"#626F7F\"/>\n<\/g>\n<\/svg>\n<\/div><\/div><\/div><div class=\"hidden\"><div class=\"file-field input-field col file optional message_file s12\"><div class=\"btn\"><span tag=\"span\" text=\"label_text\" class=\"file optional\">File<\/span><input class=\"file optional\" type=\"file\" name=\"message[file]\" id=\"message_file\" /><\/div><div class=\"file-path-wrapper\"><input tag=\"input\" class=\"file-path validate file optional\" type=\"text\" placeholder=\"Browse...\"><\/input><\/div><\/div><div class=\"input-field col hidden message_attachment_type s12\"><input class=\"hidden\" autocomplete=\"off\" type=\"hidden\" name=\"message[attachment_type]\" id=\"message_attachment_type\" /><\/div><\/div><\/div><div class=\"dropzone-area__input\"><div class=\"inputs_container solid-no-icon-p16-m\"><div class=\"inputs_container--main\"><div class=\"input-field col string optional message_attachment_url s12\"><input placeholder=\"URL вложения\" class=\"string optional\" type=\"text\" name=\"message[attachment_url]\" id=\"message_attachment_url\" /><\/div><\/div><\/div><\/div><\/div><div class=\"for_shortener_link\"><div class=\"flex-box align-center\"><div class=\"check_box_width\"><div class=\"check_box\"><\/div><\/div><div class=\"check_box_title\">С уведомлением о клике<\/div><\/div><\/div><div class=\"main-switch mb-0\"><p class=\"col switch boolean optional message_enable_snippets s12\"><label class=\"boolean optional\" for=\"message_enable_snippets\">Показывать превью ссылок<\/label><label><input name=\"message[enable_snippets]\" type=\"hidden\" value=\"0\" autocomplete=\"off\" /><input class=\"boolean optional\" type=\"checkbox\" value=\"1\" checked=\"checked\" name=\"message[enable_snippets]\" id=\"message_enable_snippets\" /><span tag=\"span\" class=\"lever boolean optional\"><\/span><\/label><\/p><\/div><div class=\"main-switch mb-0 show_caption_above_media\"><p class=\"col switch boolean optional message_show_caption_above_media s12\"><label class=\"boolean optional\" for=\"message_show_caption_above_media\">Изображение ниже текста<\/label><label><input name=\"message[show_caption_above_media]\" type=\"hidden\" value=\"0\" autocomplete=\"off\" /><input class=\"boolean optional\" type=\"checkbox\" value=\"1\" name=\"message[show_caption_above_media]\" id=\"message_show_caption_above_media\" /><span tag=\"span\" class=\"lever boolean optional\"><\/span><\/label><\/p><div class=\"dt-tooltip dt-tooltip__dark\"><div class=\"dt-tooltip__icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/help square/i16\">\n<g id=\"Union\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5.62961 3.26665C4.32458 3.26665 3.26665 4.32458 3.26665 5.62961V10.3704C3.26665 11.6754 4.32458 12.7333 5.62961 12.7333H10.3704C11.6754 12.7333 12.7333 11.6754 12.7333 10.3704V5.62961C12.7333 4.32458 11.6754 3.26665 10.3704 3.26665H5.62961ZM2.06665 5.62961C2.06665 3.66184 3.66184 2.06665 5.62961 2.06665H10.3704C12.3381 2.06665 13.9333 3.66184 13.9333 5.62961V10.3704C13.9333 12.3381 12.3381 13.9333 10.3704 13.9333H5.62961C3.66184 13.9333 2.06665 12.3381 2.06665 10.3704V5.62961ZM7.98457 5.02915C9.04817 4.98576 9.95472 5.80067 10.0211 6.86664C10.0219 6.87906 10.0223 6.89149 10.0223 6.90393C10.0223 7.57076 9.66073 8.18517 9.07781 8.50898L8.29144 8.94587C8.00177 9.10681 7.63648 9.00245 7.47555 8.71278C7.31462 8.42311 7.41898 8.05783 7.70865 7.89689L8.49502 7.46C8.69164 7.35079 8.8156 7.14612 8.822 6.92219C8.78649 6.51417 8.43308 6.20595 8.02186 6.22872C8.00253 6.22979 7.98315 6.22992 7.96381 6.22912C7.5847 6.21338 7.24805 6.46965 7.16229 6.83927C7.0874 7.16206 6.765 7.36302 6.44221 7.28813C6.11941 7.21323 5.91845 6.89084 5.99335 6.56804C6.20731 5.64586 7.0409 5.0036 7.98457 5.02915Z\" fill=\"currentColor\"/>\n<path d=\"M8.65952 10.3121C8.65975 10.1369 8.59028 9.96889 8.46642 9.84504C8.34258 9.72119 8.17454 9.65171 7.99938 9.65194C7.63549 9.65241 7.3408 9.94762 7.34096 10.3115C7.34111 10.6754 7.63607 10.9703 7.99995 10.9705C8.36384 10.9707 8.65905 10.676 8.65952 10.3121Z\" fill=\"currentColor\"/>\n<\/g>\n<\/g>\n<\/svg>\n<\/div><div class=\"dt-tooltip__description--bottom dt-tooltip__description--align-end\"><span>Только для telegram. Изображение ниже текста не работает если в блоке более одного вложения.<\/span><\/div><\/div><\/div><div class=\"preview_files_container p-0 mt-12\"><\/div><\/div><div class=\"message-actions setting_buttons\"><div class=\"btn-dashed-white--m setting_buttons_item setting_buttons_item_text\" data-type=\"text\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/dialog/i24\">\n<path id=\"Union\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M3.24951 6.66681C3.24951 4.77976 4.77927 3.25 6.66632 3.25H17.3336C19.2206 3.25 20.7504 4.77976 20.7504 6.66681V14.6673C20.7504 16.5543 19.2206 18.0841 17.3336 18.0841H12.7137L9.72208 20.4773C9.34857 20.7761 8.83684 20.8344 8.40572 20.6272C7.9746 20.42 7.70042 19.984 7.70042 19.5057V18.0841H6.66632C4.77927 18.0841 3.24951 16.5543 3.24951 14.6673V6.66681ZM6.66632 4.75C5.6077 4.75 4.74951 5.60819 4.74951 6.66681V14.6673C4.74951 15.7259 5.6077 16.5841 6.66632 16.5841H8.45042C8.86464 16.5841 9.20042 16.9199 9.20042 17.3341V18.9737L11.9821 16.7484C12.1151 16.642 12.2803 16.5841 12.4506 16.5841H17.3336C18.3922 16.5841 19.2504 15.7259 19.2504 14.6673V6.66681C19.2504 5.60819 18.3922 4.75 17.3336 4.75H6.66632ZM7.6942 8.88916C7.6942 8.47494 8.02999 8.13916 8.4442 8.13916H15.5557C15.9699 8.13916 16.3057 8.47494 16.3057 8.88916C16.3057 9.30337 15.9699 9.63916 15.5557 9.63916H8.4442C8.02999 9.63916 7.6942 9.30337 7.6942 8.88916ZM7.6942 12.4449C7.6942 12.0307 8.02999 11.6949 8.4442 11.6949H13.7778C14.192 11.6949 14.5278 12.0307 14.5278 12.4449C14.5278 12.8591 14.192 13.1949 13.7778 13.1949H8.4442C8.02999 13.1949 7.6942 12.8591 7.6942 12.4449Z\" fill=\"currentColor\"/>\n<\/g>\n<\/svg>\n<span>Сообщение<\/span><\/div><div class=\"btn-dashed-white--m setting_buttons_item setting_buttons_item_attachment svg-fill-none\" data-type=\"attachment\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path d=\"M13.7778 8.44446L6.51415 15.7081C6.04265 16.1796 5.77777 16.819 5.77777 17.4858C5.77777 18.1526 6.04265 18.7921 6.51415 19.2636C6.98565 19.7351 7.62513 20 8.29193 20C8.95873 20 9.59821 19.7351 10.0697 19.2636L12.1716 17.1618M4 12.8889L11.6002 5.28866C12.4254 4.46355 13.5445 4 14.7114 4C15.8783 4 16.9974 4.46355 17.8225 5.28866C18.6476 6.11378 19.1111 7.23288 19.1111 8.39977C19.1111 9.56666 18.6476 10.6858 17.8225 11.5109L17.1619 12.1714M17.3333 16H14.6667M16 14.6667V17.3333M20 16C20 18.2091 18.2091 20 16 20C13.7909 20 12 18.2091 12 16C12 13.7909 13.7909 12 16 12C18.2091 12 20 13.7909 20 16Z\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n<\/svg>\n<span>Вложение<\/span><\/div><div class=\"btn-dashed-white--m setting_buttons_item setting_buttons_item_buttons\" data-type=\"buttons\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M4.88889 4.75C4.81244 4.75 4.75 4.81244 4.75 4.88889V6.66667C4.75 6.74312 4.81244 6.80556 4.88889 6.80556H19.1111C19.1876 6.80556 19.25 6.74312 19.25 6.66667V4.88889C19.25 4.81244 19.1876 4.75 19.1111 4.75H4.88889ZM3.25 4.88889C3.25 3.98401 3.98401 3.25 4.88889 3.25H19.1111C20.016 3.25 20.75 3.98401 20.75 4.88889V6.66667C20.75 7.57155 20.016 8.30556 19.1111 8.30556H4.88889C3.98401 8.30556 3.25 7.57155 3.25 6.66667V4.88889ZM4.88889 10.9722C4.81244 10.9722 4.75 11.0347 4.75 11.1111V12.8889C4.75 12.9653 4.81244 13.0278 4.88889 13.0278H19.1111C19.1876 13.0278 19.25 12.9653 19.25 12.8889V11.1111C19.25 11.0347 19.1876 10.9722 19.1111 10.9722H4.88889ZM3.25 11.1111C3.25 10.2062 3.98401 9.47222 4.88889 9.47222H19.1111C20.016 9.47222 20.75 10.2062 20.75 11.1111V12.8889C20.75 13.7938 20.016 14.5278 19.1111 14.5278H4.88889C3.98401 14.5278 3.25 13.7938 3.25 12.8889V11.1111ZM4.88889 17.1944C4.81244 17.1944 4.75 17.2569 4.75 17.3333V19.1111C4.75 19.1876 4.81244 19.25 4.88889 19.25H19.1111C19.1876 19.25 19.25 19.1876 19.25 19.1111V17.3333C19.25 17.2569 19.1876 17.1944 19.1111 17.1944H4.88889ZM3.25 17.3333C3.25 16.4285 3.98401 15.6944 4.88889 15.6944H19.1111C20.016 15.6944 20.75 16.4285 20.75 17.3333V19.1111C20.75 20.016 20.016 20.75 19.1111 20.75H4.88889C3.98401 20.75 3.25 20.016 3.25 19.1111V17.3333Z\" fill=\"currentColor\"/>\n<\/svg><span>Кнопки<\/span><\/div><div class=\"btn-dashed-white--m setting_buttons_item setting_buttons_item_time\" data-type=\"time\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M11.122 4C11.122 3.58579 11.4578 3.25 11.872 3.25C16.7049 3.25 20.622 7.16712 20.622 12C20.622 16.8329 16.7049 20.75 11.872 20.75C11.4578 20.75 11.122 20.4142 11.122 20C11.122 19.5858 11.4578 19.25 11.872 19.25C15.8765 19.25 19.122 16.0045 19.122 12C19.122 7.99555 15.8765 4.75 11.872 4.75C11.4578 4.75 11.122 4.41421 11.122 4ZM9.84356 4.23358C9.98505 4.62288 9.78416 5.05317 9.39486 5.19466C8.59004 5.48718 7.85282 5.91112 7.2141 6.44793C6.89701 6.71443 6.42391 6.67342 6.15741 6.35632C5.8909 6.03923 5.93192 5.56613 6.24901 5.29963C7.02541 4.6471 7.91664 4.13593 8.88248 3.78489C9.27177 3.6434 9.70206 3.84429 9.84356 4.23358ZM5.32368 7.35328C5.68232 7.56052 5.80507 8.01925 5.59783 8.3779C5.18245 9.09678 4.88774 9.89295 4.73869 10.7413C4.66701 11.1493 4.27819 11.4219 3.87022 11.3502C3.46226 11.2786 3.18964 10.8897 3.26132 10.4818C3.44115 9.45816 3.79712 8.49611 4.29906 7.62743C4.5063 7.26879 4.96503 7.14605 5.32368 7.35328ZM11.6213 7.682C12.0355 7.682 12.3713 8.01779 12.3713 8.432V12.1451L15.2615 13.9072C15.6152 14.1228 15.7271 14.5843 15.5115 14.938C15.2959 15.2916 14.8344 15.4035 14.4807 15.1879L11.2309 13.2066C11.0076 13.0704 10.8713 12.8278 10.8713 12.5662V8.432C10.8713 8.01779 11.2071 7.682 11.6213 7.682ZM3.87022 12.6489C4.27819 12.5772 4.66701 12.8498 4.73869 13.2578C4.88774 14.1062 5.18245 14.9023 5.59783 15.6212C5.80507 15.9799 5.68232 16.4386 5.32368 16.6458C4.96503 16.8531 4.5063 16.7303 4.29906 16.3717C3.79712 15.503 3.44115 14.5409 3.26132 13.5173C3.18964 13.1094 3.46226 12.7205 3.87022 12.6489ZM6.15705 17.6441C6.42332 17.3268 6.89639 17.2854 7.21368 17.5517C7.85261 18.0879 8.59018 18.5121 9.39549 18.8056C9.78466 18.9474 9.98517 19.3779 9.84333 19.767C9.70149 20.1562 9.27102 20.3567 8.88185 20.2149C7.91649 19.863 7.02562 19.3521 6.24944 18.7007C5.93214 18.4345 5.89078 17.9614 6.15705 17.6441Z\" fill=\"currentColor\"/>\n<\/svg><span>Задержка<\/span><\/div><div class=\"btn-dashed-white--m setting_buttons_item setting_buttons_item_states svg-fill-none\" data-type=\"states\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path d=\"M8.31022 11.7644C8.44 11.8942 8.44 12.1058 8.31022 12.2356C8.18044 12.3653 7.96889 12.3653 7.83911 12.2356C7.70933 12.1058 7.70933 11.8942 7.83911 11.7644C7.96889 11.6338 8.17956 11.6338 8.31022 11.7644Z\" fill=\"currentColor\"/>\n  <path d=\"M12.2356 11.7644C12.3653 11.8942 12.3653 12.1058 12.2356 12.2356C12.1058 12.3653 11.8942 12.3653 11.7644 12.2356C11.6347 12.1058 11.6347 11.8942 11.7644 11.7644C11.8942 11.6338 12.1058 11.6338 12.2356 11.7644Z\" fill=\"currentColor\"/>\n  <path d=\"M12.8889 4H13.7778C14.76 4 15.5556 4.79556 15.5556 5.77778M15.5556 5.77778C15.5556 4.79556 16.3511 4 17.3333 4H18.2222M15.5556 5.77778V18.2222M15.5556 18.2222C15.5556 19.2044 16.3511 20 17.3333 20H18.2222M15.5556 18.2222C15.5556 19.2044 14.76 20 13.7778 20H12.8889M12.8889 16.4444H5.77778C4.79556 16.4444 4 15.6489 4 14.6667V9.33333C4 8.35111 4.79556 7.55556 5.77778 7.55556H12.8889M15.5556 16.4444H18.2222C19.2044 16.4444 20 15.6489 20 14.6667V9.33333C20 8.35111 19.2044 7.55556 18.2222 7.55556H15.5556M8.31022 11.7644C8.44 11.8942 8.44 12.1058 8.31022 12.2356C8.18044 12.3653 7.96889 12.3653 7.83911 12.2356C7.70933 12.1058 7.70933 11.8942 7.83911 11.7644C7.96889 11.6338 8.17956 11.6338 8.31022 11.7644ZM12.2356 11.7644C12.3653 11.8942 12.3653 12.1058 12.2356 12.2356C12.1058 12.3653 11.8942 12.3653 11.7644 12.2356C11.6347 12.1058 11.6347 11.8942 11.7644 11.7644C11.8942 11.6338 12.1058 11.6338 12.2356 11.7644Z\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n<\/svg>\n<span>Действие<\/span><\/div><div class=\"btn-dashed-white--m setting_buttons_item setting_buttons_item_condition\" data-type=\"condition\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/if/i24\">\n<path id=\"Union\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M7.22234 4.75C6.40926 4.75 5.75012 5.40914 5.75012 6.22222C5.75012 7.03531 6.40926 7.69444 7.22234 7.69444C8.03543 7.69444 8.69457 7.03531 8.69457 6.22222C8.69457 5.40914 8.03543 4.75 7.22234 4.75ZM4.25012 6.22222C4.25012 4.58071 5.58083 3.25 7.22234 3.25C8.86386 3.25 10.1946 4.58071 10.1946 6.22222C10.1946 7.58469 9.27782 8.73304 8.02752 9.08409C8.33045 10.8196 9.84455 12.1389 11.6668 12.1389L14.1233 12.1389C14.4557 10.8605 15.6177 9.91667 17.0001 9.91667C18.6416 9.91667 19.9723 11.2474 19.9723 12.8889C19.9723 14.5304 18.6416 15.8611 17.0001 15.8611C15.6177 15.8611 14.4557 14.9173 14.1233 13.6389L11.6668 13.6389C10.2215 13.6389 8.914 13.0486 7.97234 12.0959V14.901C9.25076 15.2333 10.1946 16.3953 10.1946 17.7778C10.1946 19.4193 8.86386 20.75 7.22234 20.75C5.58083 20.75 4.25012 19.4193 4.25012 17.7778C4.25012 16.3953 5.19393 15.2333 6.47234 14.901V9.09901C5.19393 8.76665 4.25012 7.60466 4.25012 6.22222ZM17.0001 11.4167C16.187 11.4167 15.5279 12.0758 15.5279 12.8889C15.5279 13.702 16.187 14.3611 17.0001 14.3611C17.8132 14.3611 18.4723 13.702 18.4723 12.8889C18.4723 12.0758 17.8132 11.4167 17.0001 11.4167ZM7.22234 16.3056C6.40926 16.3056 5.75012 16.9647 5.75012 17.7778C5.75012 18.5909 6.40926 19.25 7.22234 19.25C8.03543 19.25 8.69457 18.5909 8.69457 17.7778C8.69457 16.9647 8.03543 16.3056 7.22234 16.3056Z\" fill=\"currentColor\"/>\n<\/g>\n<\/svg>\n<span>Условие<\/span><\/div><div class=\"btn-dashed-white--m setting_buttons_item setting_buttons_item_calculator svg-fill-none\" data-type=\"calculator\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path d=\"M8.97778 13.8133L7.16444 12L8.97778 10.1867M15.0249 13.8151L16.8391 12L15.0249 10.1849M12.8267 8.88889L11.1733 15.1111M17.3333 20H6.66667C5.19378 20 4 18.8062 4 17.3333V6.66667C4 5.19378 5.19378 4 6.66667 4H17.3333C18.8062 4 20 5.19378 20 6.66667V17.3333C20 18.8062 18.8062 20 17.3333 20Z\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n<\/svg>\n<span>Калькулятор<\/span><\/div><div class=\"btn-dashed-white--m setting_buttons_item setting_buttons_item_settings\" data-type=\"settings\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path d=\"M12 4.25C15.1626 4.25 17.7676 6.63716 18.1115 9.70791C20.1755 10.0475 21.75 11.8399 21.75 14C21.75 16.4024 19.8024 18.35 17.4 18.35H15.6C15.1858 18.35 14.85 18.0142 14.85 17.6C14.85 17.1858 15.1858 16.85 15.6 16.85H17.4C18.974 16.85 20.25 15.574 20.25 14C20.25 12.426 18.974 11.15 17.4 11.15C16.9858 11.15 16.65 10.8142 16.65 10.4C16.65 7.832 14.5683 5.7502 12.0004 5.75C10.0106 5.75113 8.24177 7.01866 7.60154 8.90268C7.50987 9.17244 7.27326 9.36696 6.99086 9.40474C5.13812 9.65259 3.75367 11.2315 3.75 13.1007C3.75036 15.1714 5.42915 16.85 7.5 16.85H8.4C8.81421 16.85 9.15 17.1858 9.15 17.6C9.15 18.0142 8.81421 18.35 8.4 18.35H7.5C4.6005 18.35 2.25 15.9995 2.25 13.1V13.0987C2.25441 10.6323 3.97416 8.52638 6.34211 7.99806C7.29841 5.74048 9.51936 4.25121 12 4.25Z\" fill=\"currentColor\"/>\n  <path d=\"M12 12.35C12.1989 12.35 12.3897 12.429 12.5303 12.5697L14.3303 14.3697C14.6232 14.6626 14.6232 15.1374 14.3303 15.4303C14.0374 15.7232 13.5626 15.7232 13.2697 15.4303L12.75 14.9107V17.6C12.75 18.0142 12.4142 18.35 12 18.35C11.5858 18.35 11.25 18.0142 11.25 17.6V14.9107L10.7303 15.4303C10.4374 15.7232 9.96256 15.7232 9.66967 15.4303C9.37678 15.1374 9.37678 14.6626 9.66967 14.3697L11.4697 12.5697C11.6103 12.429 11.8011 12.35 12 12.35Z\" fill=\"currentColor\"/>\n<\/svg>\n<span>API-запрос<\/span><\/div><div class=\"btn-dashed-white--m setting_buttons_item setting_buttons_item_analytics\" data-type=\"analytics\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/analytics 2/i24\">\n<path id=\"Union\" fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M18.4 5.54993C17.9302 5.54993 17.55 5.93014 17.55 6.39993V17.5999C17.55 18.0697 17.9302 18.4499 18.4 18.4499C18.8698 18.4499 19.25 18.0697 19.25 17.5999V6.39993C19.25 5.93014 18.8698 5.54993 18.4 5.54993ZM16.05 6.39993C16.05 5.10171 17.1018 4.04993 18.4 4.04993C19.6982 4.04993 20.75 5.10171 20.75 6.39993V17.5999C20.75 18.8981 19.6982 19.9499 18.4 19.9499C17.1018 19.9499 16.05 18.8981 16.05 17.5999V6.39993ZM5.6 10.0971C5.13021 10.0971 4.75 10.4773 4.75 10.9471V17.5999C4.75 18.0697 5.13021 18.4499 5.6 18.4499C6.06979 18.4499 6.45 18.0697 6.45 17.5999V10.9471C6.45 10.4773 6.06979 10.0971 5.6 10.0971ZM3.25 10.9471C3.25 9.64891 4.30179 8.59713 5.6 8.59713C6.89821 8.59713 7.95 9.64891 7.95 10.9471V17.5999C7.95 18.8981 6.89821 19.9499 5.6 19.9499C4.30179 19.9499 3.25 18.8981 3.25 17.5999V10.9471ZM12 14.6443C11.5302 14.6443 11.15 15.0245 11.15 15.4943V17.5999C11.15 18.0697 11.5302 18.4499 12 18.4499C12.4698 18.4499 12.85 18.0697 12.85 17.5999V15.4943C12.85 15.0245 12.4698 14.6443 12 14.6443ZM9.65 15.4943C9.65 14.1961 10.7018 13.1443 12 13.1443C13.2982 13.1443 14.35 14.1961 14.35 15.4943V17.5999C14.35 18.8981 13.2982 19.9499 12 19.9499C10.7018 19.9499 9.65 18.8981 9.65 17.5999V15.4943Z\" fill=\"currentColor\"/>\n<\/g>\n<\/svg>\n<span>Аналитика<\/span><\/div><\/div><div id=\"additional_functions\"><\/div><\/div><div class=\"scroll_button_helper\"><div class=\"succes_help_button_dnt_close btn-solid-brand--m\">Сохранить<\/div><div class=\"total_success_button succes_help_button btn-outline-white--m ml-10\">Сохранить и закрыть<\/div><\/div><\/form><\/div><\/div><script>\$(\'.toggle-conditions-container--js\').off(\'click\').on(\'click\', function() {\n    const conditionContainer = \$(\'.conditions-container\')\n    if (conditionContainer.hasClass(\'display-none\')) {\n        conditionContainer.removeClass(\'display-none\');\n        \$(\'.open-conditions-container_svg--js\').removeClass(\'display-none\');\n        \$(\'.close-conditions-container_svg--js\').addClass(\'display-none\');\n    } else {\n        conditionContainer.addClass(\'display-none\');\n        \$(\'.open-conditions-container_svg--js\').addClass(\'display-none\');\n        \$(\'.close-conditions-container_svg--js\').removeClass(\'display-none\');\n    }\n});\n// conditions constructor start\n\nvar callbacks = {}\nvar callbackXHR = new XMLHttpRequest();\ncallbackXHR.open(\n    \'GET\',\n    \`\${location.origin}/configs/callback.xml\`,\n    true\n);\ncallbackXHR.send();\ncallbackXHR.onload = function (e) {\n    if (callbackXHR.readyState === 4 && callbackXHR.status === 200) {\n        callbacks = new X2JS().xml_str2json(callbackXHR.responseText).root\n\n        for (let key in callbacks[\"conditionSalebot\"]) {\n            \$(\".select_salebot_conditions--js\").append(\`<option value=\"\${key}\" class=\"conditions_select_sb_item--js btn-dashed-white--xxs flex-grow\">\${callbacks[\"conditionSalebot\"][key].name}<\/option>\`)\n        }\n        for (let key in callbacks[\"messengers\"]) {\n            \$(\".container_channels--js\").append(\`<option value=\"\${key}\" class=\"select_channels_item--js btn-dashed-white--xxs flex-grow\">\${callbacks[\"messengers\"][key].name}<\/option>\`)\n        }\n        for (let key in callbacks[\"paymentSystems\"]) {\n            \$(\".container_pay_systems_select--js\").append(\`<option value=\"\${key}\" class=\"pay_systems_select_item--js btn-dashed-white--xxs flex-grow\">\${callbacks[\"paymentSystems\"][key].name}<\/option>\`)\n        }\n        for (let key in callbacks[\"telephone\"]) {\n            \$(\".container_telephone_select--js\").append(\`<option value=\"\${key}\" class=\"telephone_select_item--js btn-dashed-white--xxs flex-grow\">\${callbacks[\"telephone\"][key].name}<\/option>\`)\n        }\n        for (let key in callbacks[\"otherIntegrations\"]) {\n            \$(\".container_other_integrations_select--js\").append(\`<option value=\"\${key}\" class=\"other_integrations_select_item--js btn-dashed-white--xxs flex-grow\">\${callbacks[\"otherIntegrations\"][key].name}<\/option>\`)\n        }\n    }\n}\n\n\$(\'.copy-help_wo_btns\').off(\'click\').on(\'click\', function () {\n    let copyText = \$(\'#message_hint\')[0]\n    copyText.select()\n    document.execCommand(\'copy\')\n    M.toast({html: \'Текст поля подсказок в мессенджерах без кнопок скопирован!\'});\n})\n\$(\'.copy-pro_edits_btns\').off(\'click\').on(\'click\', function () {\n    let copyText = \$(\'#message_buttons\')[0]\n    copyText.select()\n    document.execCommand(\'copy\')\n    M.toast({html: \'Текст поля расширенных настроек кнопок скопирован!\'});\n})\n\nfunction removeConditionButtonEvent () {\n    \$(\'.conditions-container__item__delete\').off(\'click\').on(\'click\', function () {\n        if (\$(\'.conditions-container\').find(\'.conditions-container__item\').length === 1) {\n            \$(this).closest(\'.conditions-container__item\').addClass(\'hidden\')\n        } else {\n            \$(this).closest(\'.conditions-container__item\').remove()\n        }\n\n        let conditionsText = \"\"\n        let isLast = \$(\'.conditions-container\').find(\'.conditions-container__item\').first().hasClass(\'hidden\')\n        if (\$(\'.conditions-container\').find(\'.conditions-container__item\').length < 2) {\n            if (isLast) {\n                conditionsText = \'#{none}\'\n            } else {\n                \$(\'.conditions-container__item\').map((index, item) => {\n                    let text = \$(item).find(\'.conditions-container__item__name\').text()\n                    conditionsText += \`\${text};\`\n                })\n            }\n        } else {\n            \$(\'.conditions-container__item\').map((index, item) => {\n                let text = \$(item).find(\'.conditions-container__item__name\').text()\n                conditionsText += \`\${text};\`\n            })\n        }\n\n        \$(\'#message_condition\').val(conditionsText)\n    })\n}\n\n\$(\'.redactor_condition_constructor_close_condition\').off(\'click\').on(\'click\', function () {\n    \$(\'.redactor_condition_constructor_modal\').addClass(\'hidden\')\n    \$(\'.reductor-conditions-no-collbacks\').addClass(\'hidden\')\n})\n\nfunction salebotCRMFunction() {\n    let main = \$(\'.redactor_condition-crm\')\n    if (main.val() === \"crm_state_changed\") {\n        \$(\'.redactor_responsible_state_block\').removeClass(\'hidden\')\n    } else if (main.val() === \"crm_system_state_changed\") {\n        \$(\'.redactor_responsible_order_block\').removeClass(\'hidden\')\n    } else if (main.val() === \"crm_lead_removed\") {\n\n    } else if (main.val() === \"change_responsible_client\") {\n        \$(\'.redactor_responsible_select_block\').removeClass(\'hidden\')\n    }\n    main.on(\'change\', function () {\n        let state_block = \$(\'.redactor_responsible_state_block\')\n        let order_block = \$(\'.redactor_responsible_order_block\')\n        let responsible_block = \$(\'.redactor_responsible_select_block\')\n        state_block.addClass(\'hidden\')\n        order_block.addClass(\'hidden\')\n        responsible_block.addClass(\'hidden\')\n        if (\$(this).val() === \"crm_state_changed\") {\n            state_block.removeClass(\'hidden\')\n        } else if (\$(this).val() === \"crm_system_state_changed\") {\n            order_block.removeClass(\'hidden\')\n        } else if (\$(this).val() === \"crm_lead_removed\") {\n\n        } else if (\$(this).val() === \"change_responsible_client\") {\n            responsible_block.removeClass(\'hidden\')\n        }\n    })\n}\n\nfunction salebotClientsFunction () {\n    let main = \$(\'.redactor_condition-clients\')\n    if (main.val() === \"added_label_callback\") {\n        \$(\'.redactor_condition-block-mark\').removeClass(\'hidden\')\n    } else if (main.val() === \"removed_label_callback\") {\n        \$(\'.redactor_condition-block-mark\').removeClass(\'hidden\')\n    } else if (main.val() === \"added_to_list_callback\") {\n        \$(\'.redactor_condition-block-label\').removeClass(\'hidden\')\n    } else if (main.val() === \"removed_from_list_callback\") {\n        \$(\'.redactor_condition-block-label\').removeClass(\'hidden\')\n    }\n    main.on(\'change\', function () {\n        let block_mark = \$(\'.redactor_condition-block-mark\')\n        let block_label = \$(\'.redactor_condition-block-label\')\n        block_mark.addClass(\'hidden\')\n        block_label.addClass(\'hidden\')\n        if (\$(this).val() === \"added_label_callback\") {\n            block_mark.removeClass(\'hidden\')\n        } else if (\$(this).val() === \"removed_label_callback\") {\n            block_mark.removeClass(\'hidden\')\n        } else if (\$(this).val() === \"added_to_list_callback\") {\n            block_label.removeClass(\'hidden\')\n        } else if (\$(this).val() === \"removed_from_list_callback\") {\n            block_label.removeClass(\'hidden\')\n        }\n    })\n}\nfunction saveSalebotClients() {\n    let condition = \'\'\n    let match_selection = \'\'\n    let main_select = \$(\'.redactor_condition-clients\')\n    let main_select_val = main_select.val()\n    if (main_select_val === \"added_label_callback\") {\n        let mark = \$(\'.redactor_condition-select-mark\').val()\n        if (mark !== \"empty\") {\n            condition = \`added_label_callback \${mark}\`\n            match_selection = \'2\'\n        } else {\n            condition = \"added_label_callback\"\n            match_selection = \'1\'\n        }\n    } else if (main_select_val === \"removed_label_callback\") {\n        let mark = \$(\'.redactor_condition-select-mark\').val()\n        if (mark !== \"empty\") {\n            condition = \`removed_label_callback \${mark}\`\n            match_selection = \'2\'\n        } else {\n            condition = \"removed_label_callback\"\n            match_selection = \'1\'\n        }\n    } else if (main_select_val === \"added_to_list_callback\") {\n        let label = \$(\'.redactor_condition-select-label\').val()\n        if (label !== \"empty\") {\n            condition = \`added_to_list_callback \${label}\`\n            match_selection = \'2\'\n        } else {\n            condition = \"added_to_list_callback\"\n            match_selection = \'1\'\n        }\n    } else if (main_select_val === \"removed_from_list_callback\") {\n        let label = \$(\'.redactor_condition-select-label\').val()\n        if (label !== \"empty\") {\n            condition = \`removed_from_list_callback \${label}\`\n            match_selection = \'2\'\n        } else {\n            condition = \"removed_from_list_callback\"\n            match_selection = \'1\'\n        }\n    }\n    \$(\'#message_comparision_method\').val(match_selection)\n    \$(\'#message_comparision_method\').formSelect()\n    return condition\n}\nfunction saveSalebotCRM() {\n  let condition = \'\'\n  let match_selection = \'\'\n  let main_select = \$(\'.redactor_condition-crm\')\n  let main_select_val = main_select.val()\n  if (main_select_val === \"crm_state_changed\") {\n    let redactor_state_selected = \$(\'.redactor_state_select\').val()\n    if (redactor_state_selected !== \"empty\") {\n        condition = \`crm_state_changed \${redactor_state_selected}\`\n        match_selection = \'2\'\n    } else {\n        condition = \"crm_state_changed\"\n        match_selection = \'1\'\n    }\n  } else if (main_select_val === \"crm_system_state_changed\") {\n      let redactor_state_selected = \$(\'.redactor_order_end_select\').val()\n      if (redactor_state_selected !== \"empty\") {\n          condition = \`crm_system_state_changed \${redactor_state_selected}\`\n          match_selection = \'2\'\n      } else {\n          condition = \"crm_system_state_changed\"\n          match_selection = \'1\'\n      }\n  } else if (main_select_val === \"crm_lead_removed\") {\n      condition = \"crm_lead_removed\"\n      match_selection = \'1\'\n  } else if (main_select_val === \"change_responsible_client\") {\n    let redactor_responsible_selected = \$(\'.redactor_responsible_select\').val()\n      if (redactor_responsible_selected !== \"empty\") {\n          condition = \`change_responsible_client \${redactor_responsible_selected}\`\n          match_selection = \'2\'\n      } else {\n          condition = \"change_responsible_client\"\n          match_selection = \'1\'\n      }\n  }\n  \$(\'#message_comparision_method\').val(match_selection)\n  \$(\'#message_comparision_method\').formSelect()\n  return condition\n}\n\nvar python_code\n\nfunction writeCodeOnPythonOpenModal(open_file) {\n    var modal = \$(\'#modal\');\n    let modal_form = \$(\'.write_code_on_python_form\')\n    modal.html(modal_form[0]);\n    modal.modal();\n    modal.modal(\'open\');\n    modal.css(\'max-width\', \'1400px\');\n    modal.find(\'.write_code_on_python_form\').removeClass(\'hidden\')\n\n    \$(\'#createPythonCodeFile\').off(\'click\').on(\'click\', function () {\n        createPythonFile()\n    })\n\n\n    var editor = ace.edit(\"python_code_textbox\");\n    editor.setOptions({\n        enableLiveAutocompletion: true,\n        enableBasicAutocompletion: true,\n        showGutter: true,\n        fontSize: 12,\n        wrapBehavioursEnabled: true,\n        indentedSoftWrap: false,\n        wrap: \"off\",\n        scrollSpeed: 1,\n        maxLines: 500,\n        minLines: 20,\n        vScrollBarAlwaysVisible: false\n    });\n    editor.resize()\n    editor.setTheme(\"ace/theme/github\");\n    editor.session.setMode(\"ace/mode/python\");\n\n    let editorDefaultText =\n        \'import json\\n\'+\n        \'\"\"\"\\n\'+\n        \'перед выполнением скрипта происходит замена переменных\\n\'+\n        \'текст внутри  будет заменен по правилам калькулятора\\n\'+\n        \'команды внутри  будут выполнены ДО запуска кода\\n\'+\n        \'методы калькулятора не работают в python\\n\'+\n        \'\"\"\"\\n\'+\n        \'def handle(data):\\n\'+\n        \'    data = json.loads(data) # все доступные переменные\\n\'+\n        \'    # вставьте свой код сюда\\n\'+\n        \'    result = {}  # возвращаемые значения.  {\"название переменной\": \"значение\"}\\n\'+\n        \'    return result\\n\'+\n        \'\\n\'\n\n    let pythonFileURL = open_file.closest(\'.action_list\').find(\'.python_code\').text()\n\n    function loadPythonFileIntoEditor(url) {\n        fetch(url)\n            .then(response => {\n                if (!response.ok) {\n                    throw new Error(\'Network response was not ok\');\n                }\n                return response.text();\n            })\n            .then(data => {\n                editor.setValue(data)\n            })\n            .catch(error => {\n                editor.setValue(editorDefaultText)\n            });\n    }\n\n    if (pythonFileURL !== \'\') {\n        loadPythonFileIntoEditor(pythonFileURL)\n    } else {\n        editor.setValue(editorDefaultText)\n    }\n\n}\n\n\$(\'.write_code_file_pick\').off(\'click\').on(\'click\', function () {\n    python_code = \$(this).closest(\'.action_list\').find(\'.python_code\')\n    writeCodeOnPythonOpenModal(\$(this).closest(\'.write_code_file_solo\'))\n})\n\nfunction createPythonFile() {\n    let message_id = \"\";\n    const editor = ace.edit(\"python_code_textbox\");\n    const pythonCode = editor.getValue();\n    let old_name_text = python_code.text()\n    let lastSlashIndex = old_name_text.lastIndexOf(\"/\");\n    let old_name = old_name_text.substring(lastSlashIndex + 1);\n\n    let action_number = \$(\'.write_code_file_solo\').length;\n    let random_id = Math.floor(Math.random() * 1000)\n    const filename = \`python_code_\${message_id}_\${action_number}_\${random_id}.py\`;\n\n    const blob = new Blob([pythonCode], {type: \'text/x-python-script\'});\n    const file = new File([blob], filename, {type: \'text/x-python-script\'});\n\n    const formData = new FormData();\n    formData.append(\'file\', file);\n    formData.append(\"message_id\", message_id);\n    formData.append(\"python_code_file\", \"true\");\n    formData.append(\"old_name\", old_name);\n\n    \$.ajax({\n        url: \"/projects/569981/messages/upload_file\",\n        type: \'POST\',\n        data: formData,\n        contentType: false,\n        processData: false,\n        success: function (data) {\n            if (data.error) {\n                if (data.error === \"file_type_in_not_valid\") {\n                    return M.toast({html: \"Выберите файл, который соответствует типу других файлов в блоке\"});\n                } else if (data.error === \"file_limit\") {\n                    return M.toast({html: \"Вы превышаете лимит 10 файлов в одном блоке\"});\n                } else if (data.error === \"file_too_big\") {\n                    return M.toast({html: \"Размер файла слишком большой. Максимум 20 мб\"});\n                }\n            } else {\n                console.log(\"data = \", data)\n                console.log(\"file = \", file)\n                console.log(python_code)\n                python_code.text(\`\${data[\"file_url\"]}\`)\n                setActionsValue()\n            }\n        }\n    });\n}\n\nfunction adaptiveCreateButtonsField() {\n    let buttonsField = \$(\'.type-btns\')\n    let buttons = buttonsField.find(\'.type-btns__btn\')\n\n    let editor = \$(\'#editor\')\n    if (editor.length > 0) {\n        if (editor[0].offsetWidth <= 455) {\n            buttonsField.css({\n                \"flex-direction\": \"column\",\n                \"align-items\": \"center\"\n            });\n            buttons.css(\"width\", \"100%\")\n        } else {\n            buttonsField.css({\n                \"flex-direction\": \"row\",\n                \"align-items\": \"\"\n            });\n            buttons.css(\"width\", \"50%\")\n        }\n    }\n}\n\nadaptiveCreateButtonsField()\n\nsetTimeout(function () {\n    \$(\'.redactor_condition_constructor_modal_nav\').addClass(\'hidden\')\n    \$(\'.redactor_condition_constructor_modal_container\').addClass(\'hidden\')\n    \$(\'.conditions_select_sb_item--js\').off(\'click\').on(\'click\', function () {\n        \$(\'.conditions_select_sb_item--js\').removeClass(\'btn-active__blue\')\n        \$(this).addClass(\'btn-active__blue\')\n        \$(\'.select_salebot_conditions--js\').find(\'input\').val(\$(this).val())\n        \$(\'.redactor_condition-match-selection\').removeClass(\'hidden\')\n        rerenderForm(\$(\'.redactor_condition-select_salebot_conditions__input\').val(), \"conditionSalebot\")\n    })\n\n    \$(\'.select_channels_item--js\').off(\'click\').on(\'click\', function () {\n        \$(\'.select_channels_item--js\').removeClass(\'btn-active__blue\')\n        \$(this).addClass(\'btn-active__blue\')\n        \$(\'.container_channels--js\').find(\'input\').val(\$(this).val())\n        \$(\'.redactor_condition-match-selection\').removeClass(\'hidden\')\n        rerenderForm(\$(\'.redactor_condition-select_chanel__input\').val(), \"messengers\")\n\n    })\n\n    \$(\'.pay_systems_select_item--js\').off(\'click\').on(\'click\', function () {\n        \$(\'.pay_systems_select_item--js\').removeClass(\'btn-active__blue\')\n        \$(this).addClass(\'btn-active__blue\')\n        \$(\'.container_pay_systems_select--js\').find(\'input\').val(\$(this).val())\n        \$(\'.redactor_condition-match-selection\').removeClass(\'hidden\')\n        rerenderForm(\$(\'.redactor_condition-select_pay_systems__input\').val(), \"paymentSystems\")\n    })\n\n    \$(\'.telephone_select_item--js\').off(\'click\').on(\'click\', function () {\n        \$(\'.telephone_select_item--js\').removeClass(\'btn-active__blue\')\n        \$(this).addClass(\'btn-active__blue\')\n        \$(\'.container_telephone_select--js\').find(\'input\').val(\$(this).val())\n        \$(\'.redactor_condition-match-selection\').removeClass(\'hidden\')\n        rerenderForm(\$(\'.redactor_condition-select_telephone__input\').val(), \"telephone\")\n\n    })\n    \$(\'.other_integrations_select_item--js\').off(\'click\').on(\'click\', function () {\n        \$(\'.other_integrations_select_item--js\').removeClass(\'btn-active__blue\')\n        \$(this).addClass(\'btn-active__blue\')\n        \$(\'.container_other_integrations_select--js\').find(\'input\').val(\$(this).val())\n        \$(\'.redactor_condition-match-selection\').removeClass(\'hidden\')\n        rerenderForm(\$(\'.redactor_condition-select_other_integrations__input\').val(), \"otherIntegrations\")\n\n    })\n\n    let mainBlock = document.querySelector(\'.ui-resizable\');\n    let modalBlock = \$(\'.redactor_condition_constructor_modal\')[0]\n    function updatePosition() {\n        modalBlock.style.right = 10 + mainBlock.offsetWidth + \'px\';\n        adaptiveCreateButtonsField()\n    }\n    let resizeObserver = new ResizeObserver(updatePosition);\n    resizeObserver.observe(mainBlock);\n\n    if (\"5\" !== \'5\') {\n        \$(\'.select_salebot_conditions--js\').find(\'.conditions_select_sb_item--js\').map((index, item) => {\n            if (\$(item).val() === \"translations\") \$(item).remove()\n            if (\$(item).val() === \"courses\") \$(item).remove()\n        })\n        \$(\'.container_pay_systems_select--js\').find(\'.pay_systems_select_item--js\').map((index, item) => {\n            if (\$(item).val() === \"prodamus\") \$(item).remove()\n        })\n    }\n\n    \$(\'.reductor-conditions-no-collbacks\').find(\'.mass-select-checkbox\').off().on(\'input\', function () {\n        \$(\'.reductor-conditions-no-collbacks\').find(\'.mass-select-checkbox\').prop(\'checked\', \$(this).is(\':checked\'))\n    })\n\n\n    \$(\'.redactor_condition-input_select_bot\').find(\'li\').map((index, item) => {\n        let main_block = \$(item).find(\'span\');\n        let botType = \'\';\n\n        main_block.map((index, item) => {\n            \$(item).find(\'img\').remove()\n        })\n\n        \$(\'.selected_bot\').each((i, bot) => {\n            if (main_block.text() === \$(bot).text()) {\n                if (\$(bot).hasClass(\'online_chat-bot\')) {\n                    botType = \'online_chat\';\n                } else if (\$(bot).hasClass(\'whatsapp_bot-bot\')) {\n                    botType = \'whatsapp\';\n                } else if (\$(bot).hasClass(\'vk_group-bot\')) {\n                    botType = \'vk_group\';\n                } else if (\$(bot).hasClass(\'telegram_bot-bot\')) {\n                    botType = \'telegram\';\n                } else if (\$(bot).hasClass(\'fb_bot-bot\')) {\n                    botType = \'facebook\';\n                } else if (\$(bot).hasClass(\'avito_bots-bot\')) {\n                    botType = \'avito\';\n                } else if (\$(bot).hasClass(\'viber_bot-bot\')) {\n                    botType = \'viber\';\n                } else if (\$(bot).hasClass(\'ok_bot-bot\')) {\n                    botType = \'ok\';\n                } else if (\$(bot).hasClass(\'white_instagram_bot-bot\')) {\n                    botType = \'instagram\';\n                } else if (\$(bot).hasClass(\'youla_bot-bot\')) {\n                    botType = \'youla\';\n                } else if (\$(bot).hasClass(\'email_bot-bot\')) {\n                    botType = \'email\';\n                }\n            }\n        });\n\n        switch (botType) {\n            case \'online_chat\':\n                main_block.prepend(\'<img src=\"/images/icon/icon-onlinechat.svg\"/>\');\n                main_block.find(\'img\').css(\"background-color\", \"#1a53c6\");\n                break;\n            case \'whatsapp\':\n                main_block.prepend(\'<img src=\"/images/icon/icon-whatsapp.svg\"/>\');\n                main_block.find(\'img\').css(\"background-color\", \"#25d366\");\n                break;\n            case \'vk_group\':\n                main_block.prepend(\'<img src=\"/images/icon/icon_vk_group.svg\"/>\');\n                main_block.find(\'img\').css(\"background-color\", \"#4680c2\");\n                break;\n            case \'telegram\':\n                main_block.prepend(\'<img src=\"/images/icon/icon-telegram.svg\"/>\');\n                main_block.find(\'img\').css(\"background-color\", \"#2da4d7\");\n                break;\n            case \'facebook\':\n                main_block.prepend(\'<img src=\"/images/icon/icon-facebook.svg\"/>\');\n                main_block.find(\'img\').css(\"background-color\", \"#3b5998\");\n                break;\n            case \'avito\':\n                main_block.prepend(\'<img src=\"/images/icon/icon-avito.svg\"/>\');\n                main_block.find(\'img\').css(\"background-color\", \"#97cf26\");\n                break;\n            case \'viber\':\n                main_block.prepend(\'<img src=\"/images/icon/icon-viber.svg\"/>\');\n                main_block.find(\'img\').css(\"background-color\", \"#7f4da0\");\n                break;\n            case \'ok\':\n                main_block.prepend(\'<img src=\"/images/icon/icon-ok.svg\"/>\');\n                main_block.find(\'img\').css(\"background-color\", \"#f68634\");\n                break;\n            case \'instagram\':\n                main_block.prepend(\'<img src=\"/images/icon/icon-instagram.svg\"/>\');\n                main_block.find(\'img\').css(\"background-color\", \"#FC0CBC\");\n                break;\n            case \'youla\':\n                main_block.prepend(\'<img src=\"/images/icon/icon-youla.svg\"/>\');\n                main_block.find(\'img\').css(\"background-color\", \"#4680c2\");\n                break;\n            case \'email\':\n                main_block.prepend(\'<img src=\"/images/icon/email.png\"/>\');\n                main_block.find(\'img\').css(\"background-color\", \"#4680c2\");\n                break;\n\n        }\n\n        main_block.css(\"display\", \"flex\")\n        main_block.css(\"align-items\", \"center\")\n        main_block.css(\"gap\", \"6px\")\n        main_block.find(\'img\').css(\"margin\", \"0\")\n        main_block.find(\'img\').css(\"border-radius\", \"50%\")\n        main_block.find(\'img\').css(\"display\", \"flex\")\n        main_block.find(\'img\').css(\"height\", \"20px\")\n        main_block.find(\'img\').css(\"width\", \"20px\")\n    })\n    if (\$(\'.redactor_condition-input_select_bot\').find(\'li\').length === 0) {\n        \$(\'.redactor_condition-input_select_bot\').find(\'input\').attr(\'placeholder\', \"У вас нет подключенных каналов\")\n        \$(\'.redactor_condition-input_select_bot\').find(\'input\').attr(\'disabled\', true)\n        \$(\'.redactor_condition-input_select_bot\').addClass(\'main-select--disabled\')\n        \$(\'.redactor_condition-input_select_bot\').find(\'.select-wrapper\').addClass(\'no-after\')\n    }\n}, 1000)\n\n\nfunction setWhatsAppApi () {\n    let whatsapp_api_type = \$(\'.redactor_condition-whatsapp_api_type\')\n    let whatsapp_api_url = \$(\'.redactor_condition-whatsapp_api_url\')\n\n    let api_key = \"{api_key}\"\n\n    let whatsapp_api_url_value = [\n        \`https://chatter.salebot.pro/api/#\${api_key}/callback\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/vk_callback\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/whatsapp_callback\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/ok_callback\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/tg_callback\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/send_callback_by_platform_id\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/email_callback\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/message\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/whatsapp_message\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/broadcast\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/get_history?client_id=\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/clear_history?client_id=\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/assign_to_user\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/load_clients\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/add_to_list\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/remove_from_list\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/get_clients\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/subscribers\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/vk_subscribers\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/save_variables\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/get_variables?client_id=\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/find_client_id_by_platform_id\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/online_chat_client_id?recipient=\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/whatsapp_client_id?phone=\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/find_client_id_by_phone?phone=\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/find_client_id_by_email?email=\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/find_client_id_by_var?var=&val=\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/find_latest_client_id_by_var?var=&val=\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/find_all_client_id_by_var?var=&val=\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/find_all_client_id_by_several_vars?\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/find_clients\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/get_current_order_id\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/get_orders\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/move_order_to_next_state\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/get_order_vars\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/set_order_vars\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/create_order\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/set_order_state\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/get_order_state\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/check_whatsapp\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/connected_channels\`,\n        \`https://chatter.salebot.pro/api/#\${api_key}/get_messages\`\n    ];\n\n\n    let whatsapp_api_url_text = [\n        \"Запуск бота\",\n        \"Запуск бота по идентификатору пользователя ВКонтакте\",\n        \"Запуск бота по номеру WhatsApp\",\n        \"Запуск бота по идентификатору пользователя Одноклассников\",\n        \"Запуск бота по идентификатору Telegram\",\n        \"Отправка Callback-сообщений списку клиентов по platform_id\",\n        \"Отправка callback-сообщения email-клиенту\",\n        \"Отправка сообщения клиенту\",\n        \"Отправка сообщения в Whatsapp\",\n        \"Массовая отправка сообщений\",\n        \"Получение истории сообщений\",\n        \"Очистить историю сообщений\",\n        \"Определение клиента сотруднику\",\n        \"Загрузка клиентов в систему\",\n        \"Добавить клиентов в список\",\n        \"Удалить клиентов из списка\",\n        \"Получение списка клиентов\",\n        \"Получение списка подписчиков на бота в любом мессенджере\",\n        \"Получение списка подписчиков на бота Вконтакте\",\n        \"Присвоение переменных\",\n        \"Получение переменных\",\n        \"Получение client_id по значению platform_id\",\n        \"Получить id клиента из Онлайн-чата\",\n        \"Получение client_id по номеру Whatsapp\",\n        \"Получение client_id по номеру телефона\",\n        \"Получение client_id по email\",\n        \"Получение client_id по значению переменной\",\n        \"Получение id последнего созданного клиента по значению переменной\",\n        \"Получение списка client_id по значению переменной\",\n        \"Получение списка client_id по значениям нескольких переменных\",\n        \"Поиск по переменным\",\n        \"Получение идентификатора текущей сделки\",\n        \"Получение списка сделок\",\n        \"Перемещение сделки на следующее по порядку состояние воронки Salebot\",\n        \"Получение данных сделки\",\n        \"Добавление переменных сделки\",\n        \"Создание сделки\",\n        \"Перенос сделки в состояние SalebotCRM\",\n        \"Получения id состояния воронки в SalebotСRM\",\n        \"Проверка, есть ли Whatsapp на номере телефона\",\n        \"Получить список подключенных мессенджеров к проекту\",\n        \"Получение списка блоков из схемы бота\",\n    ]\n\n    whatsapp_api_type.append(\`<option value=\"0\" class=\"select_channels_item--js btn-dashed-white--xxs flex-grow\">GET<\/option>\`)\n    whatsapp_api_type.append(\`<option value=\"1\" class=\"select_channels_item--js btn-dashed-white--xxs flex-grow\">POST-data<\/option>\`)\n    whatsapp_api_type.append(\`<option value=\"2\" class=\"select_channels_item--js btn-dashed-white--xxs flex-grow\">POST-json<\/option>\`)\n    whatsapp_api_type.append(\`<option value=\"3\" class=\"select_channels_item--js btn-dashed-white--xxs flex-grow\">PATCH-json<\/option>\`)\n    whatsapp_api_type.append(\`<option value=\"4\" class=\"select_channels_item--js btn-dashed-white--xxs flex-grow\">PUT-json<\/option>\`)\n    whatsapp_api_type.append(\`<option value=\"5\" class=\"select_channels_item--js btn-dashed-white--xxs flex-grow\">DELETE-json<\/option>\`)\n\n    for (let i = 0; i < whatsapp_api_url_text.length; i++) {\n        whatsapp_api_url.append(\`<option value=\"\${whatsapp_api_url_value[i]}\" class=\"select_channels_item--js btn-dashed-white--xxs flex-grow\">\${whatsapp_api_url_text[i]} (\${whatsapp_api_url_value[i]})<\/option>\`)\n    }\n}\nsetWhatsAppApi()\n\n\n\$(\'.container-conditions-settings_vars_vals_container__add\').off(\'click\').on(\'click\', function () {\n    cloneVariables()\n})\nfunction addEventClickOnConditionVariables () {\n    \$(\'.container_salebot_conditions_variables__delete_variable\').off(\'click\').on(\'click\', function () {\n      \$(this).closest(\'.container_salebot_conditions_variables__container\').remove()\n      if (\$(\'.container_salebot_conditions_variables__container\').length === 1) {\n          \$(\'.container-conditions-settings-expressions\').css(\"margin-right\", \"52px\")\n          \$(\'.container_salebot_conditions_variables__container\').css(\"margin-right\", \"0px\")\n          \$(\'.container_salebot_conditions_variables__container\').find(\'.container-conditions-settings-expressions_2\').removeClass(\'hidden\')\n      }\n        updateVariablesPreviewInput()\n    })\n    \$(\'.container_salebot_conditions_variables__variable_sign_selected\').off(\'click\').on(\'click\', function () {\n        let main = \$(this).closest(\'.container_salebot_conditions_variables__variable_sign_input\')\n        main.find(\'.container_salebot_conditions_variables__variable_sign_collection\').removeClass(\'hidden\')\n        updateVariablesPreviewInput()\n    })\n\n    \$(\'.container_salebot_conditions_variables__variable_sign_item\').off(\'click\').on(\'click\', function () {\n        let main = \$(this).closest(\'.container_salebot_conditions_variables__variable_sign_input\')\n        main.find(\'.container_salebot_conditions_variables__variable_sign_collection\').addClass(\'hidden\')\n        main.find(\'.container_salebot_conditions_variables__variable_sign_selected\').text(\$(this).text())\n        updateVariablesPreviewInput()\n    })\n    \$(\'.container-conditions-settings-expressions__radio\').off(\'click\').on(\'click\', function () {\n        let main = \$(this).closest(\'.container-conditions-settings-expressions\')\n        main.find(\'.container-conditions-settings-expressions__radio\').removeClass(\'container-conditions-settings-expressions__radio--active\')\n        \$(this).addClass(\'container-conditions-settings-expressions__radio--active\')\n        updateVariablesPreviewInput()\n    })\n\n    \$(\'.container_salebot_conditions_variables__variable_name_input\').on(\'input\', function () {\n        updateVariablesPreviewInput()\n    })\n\n    \$(\'.container_salebot_conditions_variables__variable_value_input\').on(\'input\', function () {\n        updateVariablesPreviewInput()\n    })\n}\naddEventClickOnConditionVariables()\n\n\$(\'.selection_of_conditions_item--js\').off(\'click\').on(\'click\', function () {\n    \$(\'.selection_of_conditions_item--js\').removeClass(\'btn-active__blue\')\n    \$(\'.redactor_condition-match-selection\').addClass(\'hidden\')\n    \$(\'.reductor-conditions-no-collbacks\').addClass(\'hidden\')\n    \$(this).addClass(\'btn-active__blue\')\n    \$(\'.condition_container--js\').addClass(\'hidden\')\n    setOpenConditionsFunctions ()\n    if (\$(this).hasClass(\'condition_1--js\')) {\n      \$(\'.salebot_conditions--js\').removeClass(\'hidden\')\n      if (\$(\'.redactor_condition_constructor_modal_container\').find(\'.conditions_select_sb_item--js.btn-active__blue\').length > 0) \$(\'.redactor_condition-match-selection\').removeClass(\'hidden\')\n      \$(\'.conditions_select_sb_item--js.btn-active__blue\').map((index, item) => {\n          if (\$(item).val() === \"variables\") {\n              \$(\'.container_salebot_conditions_variables\').removeClass(\'hidden\')\n              setCurrentVariables()\n          }\n          if (\$(item).val() === \"defaultConditions\") {\n              \$(\'.reductor-conditions-no-collbacks\').removeClass(\'hidden\')\n          }\n          if (\$(item).val() === \"crm\") {\n              \$(\'.redactor_condition-match-selection\').addClass(\'hidden\')\n          }\n          if (\$(item).val() === \"clients\") {\n              \$(\'.redactor_condition-match-selection\').addClass(\'hidden\')\n          }\n          if (\$(item).val() === \"test_window\") {\n              \$(\'.redactor_condition-match-selection\').addClass(\'hidden\')\n          }\n          if (\$(item).val() === \"bot\") {\n              \$(\'.redactor_condition-match-selection\').addClass(\'hidden\')\n          }\n      })\n    } else if (\$(this).hasClass(\'condition_2--js\')) {\n        \$(\'.redactor_condition_constructor_modal_container__channels\').removeClass(\'hidden\')\n        if (\$(\'.redactor_condition_constructor_modal_container\').find(\'.select_channels_item--js.btn-active__blue\').length > 0) \$(\'.redactor_condition-match-selection\').removeClass(\'hidden\')\n        \$(\'.integrationIsNotConnected\').addClass(\'hidden\')\n        \$(\'.select_channels_item--js.btn-active__blue\').map((index, item) => {\n            checkConnectedIntegrations(\$(item).val())\n        })\n        \$(\'#redactor_condition-match-selection\').val(\'1\')\n        \$(\'#redactor_condition-match-selection\').formSelect()\n    } else if (\$(this).hasClass(\'condition_3--js\')) {\n        \$(\'.redactor_condition_constructor_modal_container__pay_systems\').removeClass(\'hidden\')\n        if (\$(\'.redactor_condition_constructor_modal_container\').find(\'.pay_systems_select_item--js.btn-active__blue\').length > 0) \$(\'.redactor_condition-match-selection\').removeClass(\'hidden\')\n        \$(\'.integrationIsNotConnected\').addClass(\'hidden\')\n        \$(\'.pay_systems_select_item--js.btn-active__blue\').map((index, item) => {\n            checkConnectedIntegrations(\$(item).val())\n        })\n    } else if (\$(this).hasClass(\'condition_5--js\')) {\n        \$(\'.redactor_condition_constructor_modal_container__telephone\').removeClass(\'hidden\')\n        if (\$(\'.redactor_condition_constructor_modal_container\').find(\'.telephone_select_item--js.btn-active__blue\').length > 0) \$(\'.redactor_condition-match-selection\').removeClass(\'hidden\')\n        \$(\'.integrationIsNotConnected\').addClass(\'hidden\')\n        \$(\'.telephone_select_item--js.btn-active__blue\').map((index, item) => {\n            checkConnectedIntegrations(\$(item).val())\n        })\n    } else if (\$(this).hasClass(\'condition_6--js\')) {\n        \$(\'.redactor_condition_constructor_modal_container__other_integrations\').removeClass(\'hidden\')\n        if (\$(\'.redactor_condition_constructor_modal_container\').find(\'.other_integrations_select_item--js.btn-active__blue\').length > 0) \$(\'.redactor_condition-match-selection\').removeClass(\'hidden\')\n        \$(\'.integrationIsNotConnected\').addClass(\'hidden\')\n        \$(\'.other_integrations_select_item--js.btn-active__blue\').map((index, item) => {\n            checkConnectedIntegrations(\$(item).val())\n        })\n    }\n})\n\$(\'.redactor_condition_constructor_modal_header__close--js\').off(\'click\').on(\'click\', function () {\n    \$(\'.redactor_condition_constructor_modal\').addClass(\'hidden\')\n    \$(\'.reductor-conditions-no-collbacks\').addClass(\'hidden\')\n})\n\nfunction getMethodHTML(label) {\n    return \`\n          <div class=\"redactor_condition-input_container redactor_condition-input_container_mathod\">\n            <div class=\"redactor_condition-label\">\${label}<\/div>\n            <input class=\"redactor_condition-input redactor_condition-method_text\"/>\n          <\/div>\n        \`\n}\n\nfunction getInputHTML(key, label, placeholder = \"\") {\n    if (placeholder !== \'\') {\n        placeholder = \'#{name}\'\n    }\n    return \`\n          <div class=\"redactor_condition-input_container redactor_condition-input_container_variable\">\n            <div class=\"redactor_condition-label\">\${label}<\/div>\n            <input value=\"\${key}\" class=\"redactor_condition-input redactor_condition-input_variable_function hidden\"/>\n            <input placeholder=\"\${placeholder}\" class=\"redactor_condition-input redactor_condition-input_variable\"/>\n          <\/div>\n        \`\n}\n\nvar connectedIntegrations = {\n    \"instagram\": false,\n    \"telegram\": false,\n    \"vk\": false,\n    \"cloudpayments\": false,\n    \"walletpay\": false,\n    \"paykeeper\": false,\n    \"mandarin\": false,\n    \"allpay\": false,\n    \"bepaid\": false,\n    \"prodamus\": false,\n    \"yandex_kassa\": false,\n    \"paypall\": false,\n    \"life_pay\": false,\n    \"paybox\": false,\n    \"sberbank\": false,\n    \"webpay\": false,\n    // \"lava\": false,\n    \"coinpayments\": false,\n    \"tinkoff_credit\": false,\n    \"tinkoff\": false,\n    \"yandex_money\": false,\n    \"payonline\": false,\n    \"wayforpay\": false,\n    \"inxy\": false,\n    // \"fondy\": false,\n    \"stripe\": false,\n    // \"paynow\": false,\n    \"payselection\": false,\n    \"amo_chat\": false,\n    \"iptelefon\": false,\n    \"zadarma\": false,\n    \"mango\": false,\n    \"zvonobot\": false,\n    \"uiscom\": false,\n    \"telhpin\": false,\n    \"onlinepbx\": false,\n    \"google_form\": false,\n    \"email_bot\": false,\n    \"bizon\": false,\n    \"sipuni\": false,\n    \"bitrix\": false,\n    \"getcourse\": false,\n}\nvar secretsKeysForPayers = {\n    \"cloudpayments\": false,\n    \"walletpay\": false,\n    \"paykeeper\": false,\n    \"mandarin\": false,\n    \"prodamus\": false,\n    \"yandex_kassa\": false,\n    \"allpay\": false,\n    \"bepaid\": false,\n    \"paypall\": false,\n    \"life_pay\": false,\n    \"paybox\": false,\n    \"sberbank\": false,\n    \"webpay\": false,\n    // \"lava\": false,\n    \"coinpayments\": false,\n    \"tinkoff_credit\": false,\n    \"tinkoff\": false,\n    \"yandex_money\": false,\n    \"payonline\": false,\n    \"wayforpay\": false,\n    \"inxy\": false,\n    // \"fondy\": false,\n    \"stripe\": false,\n    // \"paynow\": false,\n    \"payselection\": false,\n}\n\nfunction setSecretsKeysForPayers () {\n    if(\"true\" === \"false\") secretsKeysForPayers[\"cloudpayments\"] = \"\"\n    if(\"true\" === \"false\") secretsKeysForPayers[\"walletpay\"] = \"\"\n    if(\"true\" === \"false\") secretsKeysForPayers[\"paykeeper\"] = \"\"\n    if(\"true\" === \"false\") secretsKeysForPayers[\"mandarin\"] = \"\"\n    if(\"true\" === \"false\") secretsKeysForPayers[\"prodamus\"] = \"\"\n    if(\"true\" === \"false\") secretsKeysForPayers[\"yandex_kassa\"] = \"\"\n    if(\"true\" === \"false\") secretsKeysForPayers[\"allpay\"] = \"\"\n    if(\"true\" === \"false\") secretsKeysForPayers[\"bepaid_secret_key\"] = \"\"\n    if(\"true\" === \"false\") secretsKeysForPayers[\"paypall\"] = \"\"\n    if(\"true\" === \"false\") secretsKeysForPayers[\"life_pay\"] = \"\"\n    if(\"true\" === \"false\") secretsKeysForPayers[\"sberbank\"] = \"\"\n    if(\"true\" === \"false\") secretsKeysForPayers[\"coinpayments\"] = \"\"\n    if(\"true\" === \"false\") secretsKeysForPayers[\"tinkoff_credit\"] = \"\"\n    if(\"true\" === \"false\") secretsKeysForPayers[\"tinkoff\"] = \"\"\n    if(\"true\" === \"false\") secretsKeysForPayers[\"yandex_money\"] = \"\"\n    if(\"true\" === \"false\") secretsKeysForPayers[\"payonline\"] = \"\"\n    if(\"true\" === \"false\") secretsKeysForPayers[\"wayforpay\"] = \"\"\n    if(\"true\" === \"false\") secretsKeysForPayers[\"inxy\"] = \"\"\n    if(\"true\" === \"false\") secretsKeysForPayers[\"stripe\"] = \"\"\n    if(\"true\" === \"false\") secretsKeysForPayers[\"payselection\"] = \"\"\n}\nsetSecretsKeysForPayers()\nfunction checkConnectedIntegrations(integration) {\n    \$(\'.integrationIsNotConnected\').addClass(\'hidden\')\n    connectedIntegrations[\"instagram\"] = true\n    connectedIntegrations[\"telegram\"] = true\n    connectedIntegrations[\"vk\"] = true\n\n    if (\"false\" === \"true\") connectedIntegrations[\"cloudpayments\"] = true\n    if (\"false\" === \"true\") connectedIntegrations[\"walletpay\"] = true\n    if (\"false\" === \"true\") connectedIntegrations[\"paykeeper\"] = true\n    if (\"false\" === \"true\") connectedIntegrations[\"mandarin\"] = true\n    if (\"false\" === \"true\") connectedIntegrations[\"yandex_kassa\"] = true\n    if (\"false\" === \"true\") connectedIntegrations[\"prodamus\"] = true\n    if (\"false\" === \"true\") connectedIntegrations[\"allpay\"] = true\n    if (\"false\" === \"true\") connectedIntegrations[\"bepaid\"] = true\n    if (\"false\" === \"true\") connectedIntegrations[\"paypall\"] = true\n    if (\"false\" === \"true\") connectedIntegrations[\"life_pay\"] = true\n    if (\"false\" === \"true\") connectedIntegrations[\"paybox\"] = true\n    if (\"false\" === \"true\") connectedIntegrations[\"sberbank\"] = true\n    if (\"false\" === \"true\") connectedIntegrations[\"webpay\"] = true\n    if (\"false\" === \"true\") connectedIntegrations[\"coinpayments\"] = true\n    if (\"false\" === \"true\") connectedIntegrations[\"tinkoff_credit\"] = true\n    if (\"false\" === \"true\") connectedIntegrations[\"tinkoff\"] = true\n    if (\"false\" === \"true\") connectedIntegrations[\"yandex_money\"] = true\n    if (\"false\" && \"false\" === \"true\") connectedIntegrations[\"payonline\"] = true\n    if (\"false\" === \"true\") connectedIntegrations[\"wayforpay\"] = true\n    if (\"false\" === \"true\") connectedIntegrations[\"inxy\"] = true\n    // if (\"false\" === \"true\") connectedIntegrations[\"fondy\"] = true\n    if (\"false\" === \"true\") connectedIntegrations[\"stripe\"] = true\n    if (\"false\" === \"true\") connectedIntegrations[\"payselection\"] = true\n\n    if (\"false\" === \"true\") connectedIntegrations[\"amo_chat\"] = true\n\n    if (\"false\" && \"false\" === \"true\") connectedIntegrations[\"iptelefon\"] = true\n    if (\"false\" && \"false\" === \"true\") connectedIntegrations[\"zadarma\"] = true\n    if (\"false\" && \"false\" === \"true\") connectedIntegrations[\"mango\"] = true\n    if (\"false\" && \"false\" === \"true\") connectedIntegrations[\"zvonobot\"] = true\n    if (\"#{has_telephony_connect?|\" && \"false\" === \"true\") connectedIntegrations[\"uiscom\"] = true\n    if (\"#{has_telephony_connect?|\" && \"false\" === \"true\") connectedIntegrations[\"telhpin\"] = true\n    if (\"#{has_telephony_connect?|\" && \"false\" === \"true\") connectedIntegrations[\"onlinepbx\"] = true\n\n    connectedIntegrations[\"google_form\"] = true\n    connectedIntegrations[\"email_bot\"] = true\n    connectedIntegrations[\"bizon\"] = true\n    connectedIntegrations[\"sipuni\"] = true\n    connectedIntegrations[\"bitrix\"] = true\n    connectedIntegrations[\"getcourse\"] = true\n    Object.entries(connectedIntegrations).map(([key, value]) => {\n        if (key === integration) {\n            \$(\'.redactor_condition-input_container_inputs\').removeClass(\'hidden\')\n            if (value) {\n                \$(\'.integrationIsNotConnected\').addClass(\'hidden\')\n                \$(\'.redactor_condition_accept\').removeClass(\'hidden\')\n                \$(\'.redactor_condition_constructor_replace_condition\').removeClass(\'hidden\')\n                Object.keys(secretsKeysForPayers).map((key) => {\n                    if (integration === key) {\n                        setTimeout(function () {\n                            pasteSecretKey(integration)\n                        }, 0)\n\n                    }\n                })\n            } else {\n                \$(\'.integrationIsNotConnected\').removeClass(\'hidden\')\n                \$(\'.redactor_condition-input_container\').addClass(\'hidden\')\n                \$(\'.redactor_condition-input_container_inputs\').addClass(\'hidden\')\n                \$(\'.redactor_condition-match-selection\').addClass(\'hidden\')\n                \$(\'.redactor_condition_accept\').addClass(\'hidden\')\n                \$(\'.redactor_condition_constructor_replace_condition\').addClass(\'hidden\')\n                console.log(\$(\'.redactor_condition-match-selection\'))\n            }\n        }\n    })\n}\n\nfunction pasteSecretKey (integration) {\n    console.log(\"pasteSecretKey\")\n    if (integration === \"mandarin\") {\n        \$(\'.redactor_condition-input_container_variable\').find(\'input\').map((index, item) => {\n            if (\$(item).val() === \"prefix\") {\n                console.log(\$(item).next().val(secretsKeysForPayers[\`\${integration}\`]))\n            }\n        })\n    } else {\n        \$(\'.redactor_condition-input_container_variable\').find(\'input\').map((index, item) => {\n            if (\$(item).val() === \"key\") {\n                console.log(\$(item).next().val(secretsKeysForPayers[\`\${integration}\`]))\n            }\n        })\n    }\n\n}\n\nfunction updateVariablesPreviewInput () {\n    let textarea = \$(\'.container_salebot_conditions_variables__textarea\')\n    let full_variables = \`\`\n    \$(\'.container_salebot_conditions_variables__container\').map((index, item) => {\n        let name = \$(item).find(\'.container_salebot_conditions_variables__variable_name_input\').val()\n        let sign = \$(item).find(\'.container_salebot_conditions_variables__variable_sign_selected\').text()\n        let value = \$(item).find(\'.container_salebot_conditions_variables__variable_value_input\').val()\n        let varOrVal = \$(item).find(\'.select-wrapper\').find(\'input\').last().val()\n        if (isNaN(value)) {\n            if (varOrVal === \'Значение\') {\n                value = \'\"\' + value + \'\"\';\n            }\n        }\n        if (\$(item).find(\'.container-conditions-settings-expressions__or_and_and\').hasClass(\'hidden\')) {\n            full_variables += \`\${name} \${sign} \${value}\`\n        } else {\n            let expression\n            let expression_input = \$(item).find(\'.container-conditions-settings-expressions__radio--active\').find(\'input\').val()\n            if (expression_input === \"AND\") {\n                expression = \"&&\"\n            } else {\n                expression = \"||\"\n            }\n            full_variables += \` \${expression} \${name} \${sign} \${value}\`\n        }\n\n    })\n    let group_variables = \`\`\n    \$(\'.container-conditions-group__item\').map((index, item) => {\n      let name = \$(item).find(\'.container-conditions-group__title_input\').val()\n      let sign = \$(item).find(\'.container-conditions-group__sign\').text()\n      let value = \$(item).find(\'.container-conditions-group__value_input\').val()\n      if (index > 0) {\n          group_variables += \` or \${name} \${sign} \${value}\`\n      } else {\n          group_variables += \`\${name} \${sign} \${value}\`\n      }\n\n    })\n    let previewText = \'\'\n    if (group_variables === \'\' || group_variables.length < 5) {\n        if (full_variables.length < 5) {\n            previewText = \'\'\n        } else {\n            previewText = full_variables\n        }\n    } else {\n        previewText = \`(\${full_variables}) and (\${group_variables})\`\n    }\n\n    textarea.val(previewText)\n}\n\n\n\$(\'.redactor_condition-input_select_bot\').on(\"change\", function () {\n    let checkbox_list = \$(\'.selected_bot__checkbox-list\')\n    if (checkbox_list.hasClass(\'hidden\')) {\n          checkbox_list.removeClass(\'hidden\')\n    } else {\n        let main = checkbox_list.find(\'.selected_bot__checkbox-list__item\').first()\n        let paste = checkbox_list.find(\'.selected_bot__checkbox-list__item\').last()\n        let clone = main.clone(true)\n        paste.after(clone)\n    }\n    \$(\'.selected_bot__checkbox-list__item_delete\').off(\'click\').on(\'click\', function () {\n        if (\$(\'.selected_bot__checkbox-list__item\').length > 1) {\n            \$(this).closest(\'.selected_bot__checkbox-list__item\').remove()\n        } else {\n            \$(this).closest(\'.selected_bot__checkbox-list\').addClass(\'hidden\')\n        }\n    })\n    \$(\'.selected_bot__checkbox-list__item\').last().find(\'.selected_bot__checkbox-list__item_text\').text(\$(this).find(\'input\').val())\n    \$(this).find(\'input\').val(\'\')\n})\n\nfunction setCurrentVariables () {\n    let currentVariables = \$(\'#message_compare_variable\').val();\n    let variablesContent = \$(\'.container_salebot_conditions_variables\');\n    let conditionSelection = \$(\'.redactor_condition-match-selection\');\n\n    variablesContent.find(\'.container_salebot_conditions_variables__container\').map((index, item) => {\n        if (index > 0) {\n            \$(item).remove();\n        }\n    });\n    \$(\'.container-conditions-group__item\').map((index, item) => {\n        if (index > 0) {\n            \$(item).remove()\n        }\n    })\n    conditionSelection.addClass(\'hidden\');\n    console.log(\"currentVariables - \", currentVariables);\n\n    if (currentVariables !== \"\") {\n        let tokens = currentVariables.match(/\\(|\\)|[\\wа-я]+|==|!=|>=?|<=?|\\|\\||&&|\"[^\"]*\"|\\d+/gi);\n        console.log(\"tokens = \", tokens);\n\n        let currentVariablesArray = [];\n        let currentGroupsArray = [];\n\n        let groupFlag = false\n        let groupFlagCounter = 0\n        let deleteGroupAnd = false\n        for (let i = 0; i < tokens.length; i++) {\n            if (tokens[i] === \"group\"  || tokens[i] === \"online_chat_id\") {\n                if (!deleteGroupAnd) {\n                    deleteGroupAnd = true\n                    currentVariablesArray.pop()\n                }\n                groupFlag = true\n            }\n            if (groupFlag) {\n                currentGroupsArray.push(tokens[i]);\n                groupFlagCounter++\n                if (groupFlagCounter > 3) {\n                    groupFlag = false\n                    groupFlagCounter = 0\n                }\n            } else {\n                if (tokens[i] !== \"(\" && tokens[i] !== \")\") {\n                    currentVariablesArray.push(tokens[i]);\n                }\n            }\n        }\n\n        if (currentGroupsArray[currentGroupsArray.length - 1] === \")\") currentGroupsArray.pop()\n        console.log(\"currentVariablesArray - \", currentVariablesArray);\n\n        for (let i = 0; i < currentVariablesArray.length; i++) {\n            console.log(\"!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! - \", currentVariablesArray[i])\n            let currentContent = variablesContent.find(\'.container_salebot_conditions_variables__container\').last()\n            let andValue\n            let orValue\n            let varOrValue = currentContent.find(\'.select-wrapper\').find(\'input\').last()\n            let nameValue = currentContent.find(\'.container_salebot_conditions_variables__variable_name_input\')\n            let valValue = currentContent.find(\'.container_salebot_conditions_variables__variable_value_input\')\n            let signValue = currentContent.find(\'.container_salebot_conditions_variables__variable_sign_selected\')\n            let signs = [\'==\',\'!=\',\'>\',\'>=\',\'<\',\'<=\']\n            signs.map((item) => {\n                if (currentVariablesArray[i] === item) {\n                    nameValue.val(currentVariablesArray[i-1])\n                    signValue.text(currentVariablesArray[i])\n                    if (currentVariablesArray[i+1].includes(\"\\\"\")) {\n                        varOrValue.val(\"Значение\")\n                        valValue.val(currentVariablesArray[i+1].slice(1,-1))\n                    } else {\n                        varOrValue.val(\"Переменная\")\n                        valValue.val(currentVariablesArray[i+1])\n                    }\n                }\n            })\n            if (currentVariablesArray[i] === \'&&\' || currentVariablesArray[i] === \'and\' || currentVariablesArray[i] === \'AND\') {\n                cloneVariables()\n                let newContent = variablesContent.find(\'.container_salebot_conditions_variables__container\').last()\n                newContent.find(\'.container-conditions-settings-expressions__radio\').removeClass(\'container-conditions-settings-expressions__radio--active\')\n                newContent.find(\'.container-conditions-settings-expressions__radio\').map((index, item) => {\n                    if (\$(item).find(\'input\').val() === \"AND\") {\n                        andValue = \$(item)\n                    }\n                })\n                andValue.addClass(\'container-conditions-settings-expressions__radio--active\')\n            }\n            if (currentVariablesArray[i] === \'||\' || currentVariablesArray[i] === \'or\' || currentVariablesArray[i] === \'OR\') {\n                cloneVariables()\n                let newContent = variablesContent.find(\'.container_salebot_conditions_variables__container\').last()\n                newContent.find(\'.container-conditions-settings-expressions__radio\').removeClass(\'container-conditions-settings-expressions__radio--active\')\n                newContent.find(\'.container-conditions-settings-expressions__radio\').map((index, item) => {\n                    if (\$(item).find(\'input\').val() === \"OR\") {\n                        orValue = \$(item)\n                    }\n                })\n                orValue.addClass(\'container-conditions-settings-expressions__radio--active\')\n            }\n        }\n        console.log(\"currentGroupsArray = \", currentGroupsArray)\n        if (currentGroupsArray.length > 0) {\n            let main = \$(\'.container-conditions-group-container\')\n            main.removeClass(\'hidden\')\n            for (let i = 0; i < currentGroupsArray.length; i++) {\n                let item = main.find(\'.container-conditions-group__item\').last()\n                if (currentGroupsArray[i] === \"group\") {\n                    item.find(\'.container-conditions-group__title_input\').val(\"group\")\n                } else if (currentGroupsArray[i] === \"online_chat_id\") {\n                    item.find(\'.container-conditions-group__title_input\').val(\"online_chat_id\")\n                } else {\n                    if (currentGroupsArray[i] !== \"==\" && currentGroupsArray[i] !== \'or\' && currentGroupsArray[i] !== \'||\') {\n                        item.find(\'.container-conditions-group__value_input\').val(currentGroupsArray[i])\n                        cloneGroupVariables()\n                    }\n                }\n            }\n            \$(\'.container-conditions-group__item\').last().remove()\n        }\n    }\n    checkCurrentVariablesPosition()\n    updateVariablesPreviewInput()\n}\n\nfunction cloneVariables() {\n    let main = \$(\'.container_salebot_conditions_variables__container\').first()\n    let paste = \$(\'.container_salebot_conditions_variables__container\').last()\n    main.find(\'.container_salebot_conditions_variables__container__component\').css(\"margin-right\", \"0px\")\n    main.css(\"margin-right\", \"0px\")\n    let clone = main.clone(true)\n    if (main.find(\'.container-conditions-settings-expressions__or_and_and\').hasClass(\'hidden\')) {\n        main.css(\"margin-right\", \"52px\")\n    } else {\n        main.find(\'.container_salebot_conditions_variables__container__component\').css(\"margin-right\", \"52px\")\n    }\n    main.find(\'.container-conditions-settings-expressions\').css(\"margin-right\", \"0px\")\n    main.find(\'.container-conditions-settings-expressions_2\').addClass(\'hidden\')\n    paste.find(\'.container-conditions-settings-expressions_2\').addClass(\'hidden\')\n    clone.find(\'.container-conditions-settings-expressions_2\').removeClass(\'hidden\')\n    clone.find(\'.container-conditions-settings-expressions\').css(\"margin-right\", \"52px\")\n\n    clone.css(\"margin-right\", \"0px\")\n    clone.find(\'.container_salebot_conditions_variables__delete_variable\').removeClass(\'hidden\')\n    clone.find(\'.container_salebot_conditions_variables__variable_name_input\').val(\'\')\n    clone.find(\'.container_salebot_conditions_variables__variable_value_input\').val(\'\')\n    clone.find(\'.container_salebot_conditions_variables__variable_sign_selected\').text(\'==\')\n    clone.find(\'.container-conditions-settings-expressions__or_and_and\').removeClass(\'hidden\')\n    clone.find(\'.select-wrapper\').find(\'input\').val(\'\')\n    paste.after(clone)\n    clone.find(\'select\').formSelect();\n    addEventClickOnConditionVariables()\n    updateVariablesPreviewInput()\n}\n\nfunction cloneGroupVariables () {\n    let main = \$(\'.container-conditions-group__item\').first()\n    let paste = \$(\'.container-conditions-group__item\').last()\n    let clone = main.clone(true)\n    paste.after(clone)\n    deleteGroupVariable()\n    updateVariablesPreviewInput()\n}\n\nfunction deleteGroupVariable () {\n    \$(\'.container-conditions-group__delete\').off(\'click\').on(\'click\', function () {\n        \$(this).closest(\'.container-conditions-group__item\').remove()\n        updateVariablesPreviewInput()\n    })\n}\n\n\n\$(\".redactor_condition_button--js\").click(function () {\n    let redactorConditionConstructorModal = \$(\'.redactor_condition_constructor_modal\')\n    redactorConditionConstructorModal.removeClass(\'hidden\')\n\n    redactorConditionConstructorModal.find(\'.redactor_condition_constructor_modal_nav\').removeClass(\'hidden\')\n    redactorConditionConstructorModal.find(\'.redactor_condition_constructor_modal_container\').removeClass(\'hidden\')\n\n    let mainContainer = \$(\'.redactor_condition_constructor_modal_container\')\n    mainContainer.find(\'.conditions_select_sb_item--js\').removeClass(\'btn-active__blue\')\n    mainContainer.find(\'.select_channels_item--js\').removeClass(\'btn-active__blue\')\n    mainContainer.find(\'.pay_systems_select_item--js\').removeClass(\'btn-active__blue\')\n    mainContainer.find(\'.telephone_select_item--js\').removeClass(\'btn-active__blue\')\n    mainContainer.find(\'.other_integrations_select_item--js\').removeClass(\'btn-active__blue\')\n    mainContainer.find(\".redactor_condition-input_container_inputs\").html(\"\")\n    mainContainer.find(\".redactor_condition-input_container_methods\").addClass(\'hidden\')\n    mainContainer.find(\".redactor_condition-input_container_mathod\").remove()\n    mainContainer.find(\".redactor_condition-match-selection\").addClass(\'hidden\')\n    mainContainer.find(\".redactor_condition-input_crm\").addClass(\'hidden\')\n    mainContainer.find(\".redactor_condition-input_clients-container\").addClass(\'hidden\')\n    mainContainer.find(\'.redactor_condition-input_whatsapp_api_url\').addClass(\'hidden\')\n    mainContainer.find(\'.redactor_condition-input_whatsapp_api_type\').addClass(\'hidden\')\n    mainContainer.find(\".redactor_condition-match-selection-select\").val(\$(\'#message_comparision_method\').val())\n    mainContainer.find(\'.redactor_condition-match-selection-select\').formSelect()\n    mainContainer.find(\".container_salebot_conditions_variables__container\").map((index, item) => {\n        if (index > 0) {\n            \$(item).remove()\n        } else {\n            \$(item).css(\"margin-right\", \"0px\")\n        }\n    })\n    if (\$(\'#message_compare_variable\').val() !== \"\") {\n        mainContainer.find(\".container_salebot_conditions_variables\").removeClass(\'hidden\')\n        \$(\'.conditions_select_sb_item--js\').map((index,item) => {\n            if (\$(item).val() === \"variables\") {\n                \$(item).addClass(\'btn-active__blue\')\n                setCurrentVariables()\n            }\n        })\n    } else {\n        mainContainer.find(\".container_salebot_conditions_variables\").addClass(\'hidden\')\n    }\n\n    \$(\'.redactor_condition-input_default-container\').addClass(\'hidden\')\n    \$(\'.redactor_condition-input_test_window-container\').addClass(\'hidden\')\n    \$(\'.redactor_condition-input_default\').val(\'\')\n\n    createCurrentConditions()\n    removeConditionButtonEvent()\n    rerenderForm()\n    setOpenConditionsFunctions ()\n\n    let conditions_container = redactorConditionConstructorModal.find(\'.conditions-container\')\n\n    if (conditions_container.find(\'.conditions-container__item\').length === 1) {\n        if (conditions_container.find(\'.conditions-container__item\').hasClass(\'hidden\')) {\n            conditions_container.addClass(\'hidden\')\n            \$(\'.toggle-conditions-container--js\').addClass(\'display-none\')\n        } else {\n            conditions_container.removeClass(\'hidden\')\n            \$(\'.toggle-conditions-container--js\').removeClass(\'display-none\')\n        }\n    }\n\n    if ((\$(document).width() - \$(\"#editor\").width()) < 960) {\n        redactorConditionConstructorModal.css(\"width\", \"100%\")\n        redactorConditionConstructorModal.css(\"max-width\", \"90%\")\n        redactorConditionConstructorModal.css(\"z-index\", \"15\")\n        redactorConditionConstructorModal.css(\"left\", \"5%\")\n    } else {\n        redactorConditionConstructorModal.css(\"width\", \"650px\")\n        redactorConditionConstructorModal.css(\"max-width\", \"unset\")\n        redactorConditionConstructorModal.css(\"z-index\", \"15\")\n        redactorConditionConstructorModal.css(\"left\", \"unset\")\n    }\n})\n\nfunction createCurrentConditions () {\n    let currentConditionsText = \$(\'#message_condition\').val()\n    let currentConditions = []\n    let conditions_container = \$(\'.conditions-container\')\n\n    if (currentConditionsText.includes(\';\')) {\n        currentConditions = currentConditionsText.split(\';\');\n    } else {\n        currentConditions = [currentConditionsText]\n    }\n\n    conditions_container.find(\'.conditions-container__item\').map((index, item) => {\n        if (index > 0) {\n            \$(item).remove()\n        } else {\n            \$(item).addClass(\'hidden\')\n        }\n    })\n\n    if (currentConditions[0] !== \'\') {\n        for (let i = 0; i < currentConditions.length; i++) {\n            let current_condition = conditions_container.find(\'.conditions-container__item\').last()\n            current_condition.removeClass(\'hidden\')\n            current_condition.addClass(\'conditions-container__item--true\')\n            current_condition.find(\'.conditions-container__item__name\').text(currentConditions[i])\n            let clone = current_condition.clone(true)\n            current_condition.after(clone)\n        }\n        conditions_container.find(\'.conditions-container__item\').last().remove()\n    }\n}\n\nfunction setOpenConditionsFunctions () {\n    let mainContainer = \$(\'.redactor_condition_constructor_modal_container\')\n    let countOpen = 0\n    \$(\'.redactor_condition_accept\').removeClass(\'hidden\')\n    \$(\'.redactor_condition_constructor_replace_condition\').removeClass(\'hidden\')\n    \$(\'.selection_of_conditions_item--js\').map((index, item) => {\n        if (\$(item).hasClass(\'btn-active__blue\')) {\n            if (\$(item).hasClass(\'condition_1--js\')) {\n                countOpen = mainContainer.find(\'.conditions_select_sb_item--js.btn-active__blue\').length\n            } else if (\$(item).hasClass(\'condition_2--js\')) {\n                countOpen = mainContainer.find(\'.select_channels_item--js.btn-active__blue\').length\n            } else if (\$(item).hasClass(\'condition_3--js\')) {\n                countOpen = mainContainer.find(\'.pay_systems_select_item--js.btn-active__blue\').length\n            } else if (\$(item).hasClass(\'condition_5--js\')) {\n                countOpen = mainContainer.find(\'.telephone_select_item--js.btn-active__blue\').length\n            } else if (\$(item).hasClass(\'condition_6--js\')) {\n                countOpen = mainContainer.find(\'.other_integrations_select_item--js.btn-active__blue\').length\n            }\n            if (countOpen === 0) {\n                \$(\'.redactor_condition_accept\').addClass(\'hidden\')\n                \$(\'.redactor_condition_constructor_replace_condition\').addClass(\'hidden\')\n            }\n        }\n    })\n\n}\n//vrode norm\n\nfunction getWhatsAppApi () {\n    console.log(\"getWhatsAppApi\")\n    \$(\'.setting_buttons_item_settings\').addClass(\'btn-active__blue\')\n    \$(\'#settings_part\').css(\"display\", \"block\")\n    \$(\'#url_part\').css(\"display\", \"block\")\n    m_request_type.val(\$(\'.redactor_condition-whatsapp_api_type\').val())\n    m_request_type.formSelect()\n    let message_action_url = \$(\'#message_action_url\')\n    message_action_url.val(\$(\'.redactor_condition-whatsapp_api_url\').val())\n}\n\nfunction saveSelectedBot() {\n    console.log(\$(\'.redactor_condition-input_select_bot\').find(\'input\').val())\n\n    let bot_selected = []\n\n    \$(\'.selected_bot__checkbox-list__item\').map((index, item) => {\n        bot_selected[index] = \$(item).find(\'.selected_bot__checkbox-list__item_text\').text()\n    })\n\n    let botText = \`\`\n\n    for (let i = 0; i < bot_selected.length; i++) {\n        let isOnlineChat = false;\n        \$(\'.selected_bot\').map((index, item) => {\n            if (bot_selected[i] === \$(item).text()) {\n                if (\$(item).hasClass(\'online_chat-bot\')) isOnlineChat = true;\n            }\n        });\n        if (i > 0) botText += \` or \`\n        if (isOnlineChat) {\n            botText += \`online_chat_id == \"\${bot_selected[i]}\"\`;\n        } else {\n            botText += \`group == \"\${bot_selected[i]}\"\`;\n        }\n    }\n\n    if (botText !== \'\') {\n        let vars_input = \$(\'#message_compare_variable\');\n        let current_vars = vars_input.val();\n        if (current_vars === \'\') {\n            vars_input.val(botText);\n        } else {\n            let current_vars_text = vars_input.val();\n            let final_vars_text = \`\${current_vars_text} or \${botText}\`;\n            vars_input.val(final_vars_text);\n        }\n    }\n    checkCurrentVariablesPosition();\n}\n\nfunction checkCurrentVariablesPosition() {\n    let vars_input = \$(\'#message_compare_variable\');\n    let current_vars_text = vars_input.val();\n\n    let normalConditions = [];\n    let specialConditions = [];\n\n    if (current_vars_text === \'\') return\n    console.log(current_vars_text)\n    let flagIsGroup = false\n    let groupCounter = 0\n    let specialConditionsCount = 0\n\n    const regExp = /[\\(\\)]/g;\n\n    function removeBrackets(match) {\n        return match.replace(/\\s*\\(\\s*/g, \'\').replace(/\\s*\\)\\s*/g, \'\');\n    }\n\n    let new_current_vars_text = current_vars_text.replace(regExp, removeBrackets);\n\n\n    new_current_vars_text.split(\' \').forEach(condition => {\n        condition = condition.trim();\n\n        if (condition !== \' \' && condition !== \"\") {\n            if (condition.includes(\'group\') || condition.includes(\'online_chat_id\') || condition.includes(\'platform_id\')) {\n                flagIsGroup = true\n                specialConditionsCount++\n            }\n\n            if (flagIsGroup) {\n                specialConditions.push(condition);\n                groupCounter++\n            } else {\n                normalConditions.push(condition);\n            }\n\n            if (groupCounter >= 3) {\n                flagIsGroup = false\n                groupCounter = 0\n            }\n        }\n     });\n\n    for (let i = specialConditionsCount; i > 0; i--) {\n        normalConditions.pop()\n    }\n\n    let final_vars_text = \`\`\n    if (normalConditions.length === 0) {\n        for (let i = 0; i < specialConditions.length; i++) {\n            final_vars_text += \`\${specialConditions[i]} \`\n            if ((i + 1) % 3 === 0 && (specialConditions.length - i) > 2) {\n                final_vars_text += \' or \'\n            }\n        }\n    } else {\n        final_vars_text = \`(\`;\n\n        for (let i = 0; i < normalConditions.length; i++) {\n            final_vars_text += \`\${normalConditions[i]} \`\n        }\n\n        final_vars_text += \') and (\'\n\n        for (let i = 0; i < specialConditions.length; i++) {\n            final_vars_text += \`\${specialConditions[i]} \`\n            if ((i + 1) % 3 === 0 && (specialConditions.length - i) > 2) {\n                final_vars_text += \' or \'\n            }\n        }\n\n        final_vars_text += \')\'\n    }\n\n    vars_input.val(final_vars_text);\n}\n\nfunction setCurrentTaskMatchSelection () {\n    let match_selection = \'1\'\n    if (\$(\'.redactor_condition-input_variable\').val() !== \'\') {\n        match_selection = \'2\'\n    }\n    \$(\'#message_comparision_method\').val(match_selection)\n    \$(\'#message_comparision_method\').formSelect()\n}\n\n\n\$(\".redactor_condition_accept\").click(function () {\n    let container\n    let variables_container = \$(\'.container_salebot_conditions_variables\')\n    \$(\'.condition_container--js\').map((index, item) => {\n        if (!\$(item).hasClass(\'hidden\')) {\n            container = \$(item)\n        }\n    })\n    if (variables_container.hasClass(\'hidden\')) {\n        let variables = container.find(\".redactor_condition-input_container_variable\")\n        if (variables.length > 0) {\n            let text = container.find(\".redactor_condition-select_action\").val()\n            variables.each(function () {\n                let variable = \$(this).find(\".redactor_condition-input_variable_function\").val()\n                let value = \$(this).find(\".redactor_condition-input_variable\").val()\n                text = text.replace(\`{\${variable}}\`, value)\n            })\n            console.log(\"text 1 - \", text)\n            let current_text = \$(\"#message_condition\").val()\n            if (current_text === \"#{none}\") current_text = \"\"\n            let final_text = text\n            if (current_text !== \'\') {\n                final_text = \`\${current_text};\${text}\`\n            }\n            if (text === null) {\n                final_text = \"#{none}\"\n            }\n            \$(\"#message_condition\").val(final_text)\n        } else {\n            let final_text = \"\"\n            let salebotConditions = \$(\'.conditions_select_sb_item--js.btn-active__blue\')\n            if (salebotConditions.length > 0 && salebotConditions.val() === \"defaultConditions\") {\n                let no_callback = \$(\'.reductor-conditions-no-collbacks\')\n                let text_no_callback = \"\"\n                if (no_callback.find(\'.mass-select-checkbox\').prop(\'checked\') === true) {\n                    text_no_callback = \"message_from_outside != 3\"\n                }\n                let defaultText = \$(\'.redactor_condition-input_default\').val()\n                let current_text = \$(\"#message_condition\").val()\n                if (current_text === \"#{none}\") current_text = \"\"\n                final_text = defaultText\n                if (current_text !== \'\') {\n                    final_text = \`\${current_text};\${defaultText}\`\n                }\n                if (defaultText === null) {\n                    final_text = \"#{none}\"\n                }\n                if (text_no_callback !== \'\') {\n                    if (final_text !== \'\') {\n                        final_text = \`\${final_text}; \${text_no_callback}\`\n                    } else {\n                        final_text = \`\${text_no_callback}\`\n                    }\n\n                }\n                console.log(\"final_text - \", final_text)\n            } else if (salebotConditions.length > 0 && salebotConditions.val() === \"bot\") {\n                saveSelectedBot()\n                final_text = \$(\"#message_condition\").val()\n            } else if (salebotConditions.length > 0 && salebotConditions.val() === \"crm\") {\n                let defaultText = saveSalebotCRM()\n                let current_text = \$(\"#message_condition\").val()\n                if (current_text === \"#{none}\") current_text = \"\"\n                final_text = defaultText\n                if (current_text !== \'\') {\n                    final_text = \`\${current_text};\${defaultText}\`\n                }\n                if (defaultText === null) {\n                    final_text = \"#{none}\"\n                }\n            } else if (salebotConditions.length > 0 && salebotConditions.val() === \"clients\") {\n                let defaultText = saveSalebotClients()\n                let current_text = \$(\"#message_condition\").val()\n                if (current_text === \"#{none}\") current_text = \"\"\n                final_text = defaultText\n                if (current_text !== \'\') {\n                    final_text = \`\${current_text};\${defaultText}\`\n                }\n                if (defaultText === null) {\n                    final_text = \"#{none}\"\n                }\n            } else if (salebotConditions.length > 0 && salebotConditions.val() === \"test_window\") {\n                let defaultText = \`platform_id == \"test_client_online\"\`\n                let vars_input = \$(\'#message_compare_variable\')\n                let current_vars = vars_input.val()\n                console.log(\"current_vars - \", current_vars)\n                if (current_vars === \'\') {\n                    vars_input.val(defaultText)\n                } else {\n                    let current_vars_text = vars_input.val()\n                    let final_vars_text = \`\${current_vars_text} or \${defaultText}\`\n                    vars_input.val(final_vars_text)\n                }\n                checkCurrentVariablesPosition()\n                final_text = \$(\"#message_condition\").val()\n            } else {\n                if (\$(\'.select_channels_item--jss.btn-active__blue\').val() === \"whatsapp\") {\n                    getWhatsAppApi ()\n                } else {\n                    console.log(\"text 2 - \", container.find(\".redactor_condition-select_action\").val())\n                    let current_text = \$(\"#message_condition\").val()\n                    if (current_text === \"#{none}\") current_text = \"\"\n                    final_text = container.find(\".redactor_condition-select_action\").val()\n                    if (current_text !== \'\') {\n                        final_text = \`\${current_text};\${container.find(\".redactor_condition-select_action\").val()}\`\n                    }\n                    if (container.find(\".redactor_condition-select_action\").val() === null) {\n                        final_text = \"#{none}\"\n                    }\n                    console.log(\"final_text - \", final_text)\n                }\n            }\n\n            console.log(final_text)\n            \$(\"#message_condition\").val(final_text)\n        }\n\n        if (!container.find(\".redactor_condition-input_container_methods_select\").hasClass(\"hidden\")) {\n            let method = container.find(\".redactor_condition-input_container_methods_select\").val()\n            let value = \'\'\n            container.find(\".redactor_condition-method_text\").each(function () {\n                value += \`, \"\${\$(this).val()}\"\`\n            })\n            value = value.replace(\", \", \'\')\n            if (method) {\n                if (calculate_editor.getValue() === \'\') {\n                    calculate_editor.setValue(\`\${method}(\${value})\`)\n                } else {\n                    calculate_editor.setValue(\`\${calculate_editor.getValue()}\\n\${method}(\${value})\`)\n                }\n                \$(\'.setting_buttons_item_calculator\').addClass(\'btn-active__blue\')\n                \$(\'#calculator_part\').css(\"display\", \"block\")\n            }\n\n        }\n    } else {\n        let final_text = \$(\'.container_salebot_conditions_variables__textarea\').val()\n        console.log(\"final_text - \", final_text)\n        \$(\'#message_compare_variable\').val(final_text)\n    }\n\n    if (\$(\'.conditions_select_sb_item--js.btn-active__blue\').val() === \"tasks\") {\n        setCurrentTaskMatchSelection()\n    }\n\n    if (!\$(\'.redactor_condition-match-selection\').hasClass(\'hidden\')) {\n        \$(\'#message_comparision_method\').val(\$(\".redactor_condition-match-selection-select\").val())\n        \$(\'#message_comparision_method\').formSelect()\n    }\n\n    \$(\'.conditions-container\').removeClass(\'hidden\')\n    createCurrentConditions()\n})\n\n\$(\".redactor_condition_constructor_replace_condition\").click(function () {\n    let container\n    let variables_container = \$(\'.container_salebot_conditions_variables\')\n    \$(\'.condition_container--js\').map((index, item) => {\n        if (!\$(item).hasClass(\'hidden\')) {\n            container = \$(item)\n        }\n    })\n    if (variables_container.hasClass(\'hidden\')) {\n\n\n        let variables = container.find(\".redactor_condition-input_container_variable\")\n        if (variables.length > 0) {\n            let text = container.find(\".redactor_condition-select_action\").val()\n            variables.each(function () {\n                let variable = \$(this).find(\".redactor_condition-input_variable_function\").val()\n                let value = \$(this).find(\".redactor_condition-input_variable\").val()\n                text = text.replace(\`{\${variable}}\`, value)\n            })\n            console.log(\"text 1 - \", text)\n            let final_text = text\n            if (text === null) {\n                final_text = \"#{none}\"\n            }\n            \$(\"#message_condition\").val(final_text)\n        } else {\n            if (\$(\'.conditions_select_sb_item--js.btn-active__blue\').val() === \"whatsapp\") {\n                getWhatsAppApi()\n            } else {\n                console.log(\"text 2 - \", container.find(\".redactor_condition-select_action\").val())\n                let final_text = \"\"\n                let salebotConditions = \$(\'.conditions_select_sb_item--js.btn-active__blue\')\n                if (salebotConditions.length > 0 && salebotConditions.val() === \"defaultConditions\") {\n                    let no_callback = \$(\'.reductor-conditions-no-collbacks\')\n                    let text_no_callback = \"\"\n                    if (no_callback.find(\'.mass-select-checkbox\').prop(\'checked\') === true) {\n                        text_no_callback = \"message_from_outside != 3\"\n                    }\n                    let defaultText = \$(\'.redactor_condition-input_default\').val()\n                    final_text = defaultText\n                    if (defaultText === null) {\n                        final_text = \"#{none}\"\n                    }\n                    if (text_no_callback !== \'\') {\n                        if (final_text !== \'\') {\n                            final_text = \`\${final_text}; \${text_no_callback}\`\n                        } else {\n                            final_text = \`\${text_no_callback}\`\n                        }\n\n                    }\n                } else if (salebotConditions.length > 0 && salebotConditions.val() === \"bot\") {\n                    saveSelectedBot()\n                    final_text = \$(\"#message_condition\").val()\n                } else if (salebotConditions.length > 0 && salebotConditions.val() === \"crm\") {\n                    let defaultText = saveSalebotCRM()\n                    final_text = defaultText\n                    if (defaultText === null) {\n                        final_text = \"#{none}\"\n                    }\n                } else if (salebotConditions.length > 0 && salebotConditions.val() === \"clients\") {\n                    let defaultText = saveSalebotClients()\n                    final_text = defaultText\n                    if (defaultText === null) {\n                        final_text = \"#{none}\"\n                    }\n                } else if (salebotConditions.length > 0 && salebotConditions.val() === \"test_window\") {\n                    let defaultText = \`platform_id == \"test_client_online\"\`\n                    let vars_input = \$(\'#message_compare_variable\')\n                    let current_vars = vars_input.val()\n                    console.log(\"current_vars - \", current_vars)\n                    if (current_vars === \'\') {\n                        vars_input.val(defaultText)\n                    } else {\n                        let current_vars_text = vars_input.val()\n                        let final_vars_text = \`\${current_vars_text} or \${defaultText}\`\n                        vars_input.val(final_vars_text)\n                    }\n                    checkCurrentVariablesPosition()\n                    final_text = \$(\"#message_condition\").val()\n                } else {\n                    final_text = container.find(\".redactor_condition-select_action\").val()\n                    if (container.find(\".redactor_condition-select_action\").val() === null) {\n                        final_text = \"#{none}\"\n                    }\n                }\n\n                \$(\"#message_condition\").val(final_text)\n            }\n        }\n\n        if (!container.find(\".redactor_condition-input_container_methods_select\").hasClass(\"hidden\")) {\n            let method = container.find(\".redactor_condition-input_container_methods_select\").val()\n            let value = \'\'\n            container.find(\".redactor_condition-method_text\").each(function () {\n                value += \`, \"\${\$(this).val()}\"\`\n            })\n            value = value.replace(\", \", \'\')\n            if (method) {\n                calculate_editor.setValue(\`\${method}(\${value})\`)\n                \$(\'.setting_buttons_item_calculator\').addClass(\'btn-active__blue\')\n                \$(\'#calculator_part\').css(\"display\", \"block\")\n            }\n        }\n    } else {\n        let final_text = \$(\'.container_salebot_conditions_variables__textarea\').val()\n        console.log(\"final_text - \", final_text)\n        \$(\'#message_compare_variable\').val(final_text)\n        \$(\"#message_condition\").val(\'\')\n    }\n\n    if (\$(\'.conditions_select_sb_item--js.btn-active__blue\').val() === \"tasks\") {\n        setCurrentTaskMatchSelection()\n    }\n\n    if (!\$(\'.redactor_condition-match-selection\').hasClass(\'hidden\')) {\n        \$(\'#message_comparision_method\').val(\$(\".redactor_condition-match-selection-select\").val())\n        \$(\'#message_comparision_method\').formSelect()\n    }\n    \$(\'.conditions-container\').removeClass(\'hidden\')\n    createCurrentConditions()\n})\n\nfunction calculatorRender() {\n    let container\n    \$(\'.condition_container--js\').map((index, item) => {\n        if (!\$(item).hasClass(\'hidden\')) {\n            container = \$(item)\n        }\n    })\n\n    let calculator = container.find(\".redactor_condition-select_action\").find(\`option[value=\"\${container.find(\".redactor_condition-select_action\").val()}\"]\`).attr(\"data-calculatorMethod\")\n    let variables = container.find(\".redactor_condition-select_action\").find(\`option[value=\"\${container.find(\".redactor_condition-select_action\").val()}\"]\`).attr(\"data-variables\")\n    container.find(\".redactor_condition-input_container_methods_select\").html(\'\')\n    container.find(\".redactor_condition-input_container_methods\").addClass(\"hidden\")\n    container.find(\".redactor_condition-input_container_inputs\").html(\"\")\n    if (calculator) {\n        container.find(\".redactor_condition-input_container_methods\").removeClass(\"hidden\")\n        container.find(\'.redactor_condition-input_container_mathod\').remove()\n        calculator = JSON.parse(calculator.replaceAll(\'\\\'\', \'\\\"\'))\n        container.find(\".redactor_condition-input_container_methods_select\").append(\`\n          <option value=\"\"><\/option>\n        \`)\n        if(!Array.isArray(calculator)){\n            let inputLabel = calculator.inputLabel\n            let method = calculator.method\n            let label = calculator.label\n            container.find(\".redactor_condition-input_container_methods_select\").append(\`\n              <option data-inputLabel=\"\${inputLabel ? JSON.stringify(inputLabel).replaceAll(\'\\\"\', \'\\\'\') : \'\'}\" value=\"\${method}\">\${label} (\${method})<\/option>\n            \`)\n        } else {\n            calculator.forEach(function(item){\n                let type = item.type\n                let method = item.method\n                let label = item.label\n                container.find(\".redactor_condition-input_container_methods_select\").append(\`\n                  <option data-type=\"\${type}\" value=\"\${method}\">\${label} (\${method})<\/option>\n                \`)\n            })\n        }\n        container.find(\".redactor_condition-input_container_methods_select\").formSelect()\n        container.find(\".redactor_condition-input_container_methods_select\").on(\"change\", function () {\n            container.find(\'.redactor_condition-input_container_mathod\').remove()\n            let value = \$(this).val()\n            if(value){\n                let inputLabel = container.find(\".redactor_condition-input_container_methods_select\").find(\`option[value=\${value}]\`).attr(\"data-inputLabel\")\n                if (inputLabel) {\n                    inputLabel = JSON.parse(inputLabel.replaceAll(\'\\\'\', \'\\\"\'))\n                    console.log(inputLabel)\n                    if (Array.isArray(inputLabel)) {\n                        inputLabel.forEach(function(elem){\n                            container.find(\".redactor_condition-input_container_methods\").after(getMethodHTML(elem))\n                        })\n                    } else {\n                        container.find(\".redactor_condition-input_container_methods\").after(getMethodHTML(inputLabel))\n                    }\n                }\n            }\n        })\n    }\n    if (variables) {\n        variables = JSON.parse(variables.replaceAll(\'\\\'\', \'\\\"\'))\n        if (!Array.isArray(variables)) {\n            console.log(\"1 - \", variables)\n            let variable_placeholder = \'\'\n            if (variables.placeholder !== undefined) {\n                variable_placeholder = variables.placeholder\n            }\n            let variable_key = variables.key\n            let variable_label = variables.label\n            if (variable_key) {\n                container.find(\".redactor_condition-input_container_inputs\").append(getInputHTML(variable_key, variable_label, variable_placeholder))\n            }\n        } else {\n            variables.forEach(function (item) {\n                let variable_key = item.key\n                let variable_label = item.label\n                if (variable_key) {\n                    container.find(\".redactor_condition-input_container_inputs\").append(getInputHTML(variable_key, variable_label))\n                }\n            })\n        }\n    }\n}\n\nfunction rerenderForm(value = undefined, condition_type = undefined) {\n    console.log(\"rerenderForm rerenderForm rerenderForm rerenderForm rerenderFormrerenderForm \")\n    setOpenConditionsFunctions ()\n    console.log(value)\n    console.log(condition_type)\n    console.log(\"callbacks[condition_type] - \", callbacks[condition_type])\n    if (value === undefined && condition_type === undefined) console.log(\"ERROR\")\n    if(value){\n        let container\n        \$(\'.condition_container--js\').map((index, item) => {\n            if (!\$(item).hasClass(\'hidden\')) {\n                container = \$(item)\n            }\n        })\n        let condition_value = value.toLowerCase()\n        container.find(\".redactor_condition-input_container_chanel\").removeClass(\"hidden\")\n        container.find(\".redactor_condition-select_action\").html(\"\")\n        container.find(\".redactor_condition-input_container_variable\").remove()\n        container.find(\".redactor_condition-input_default-container\").addClass(\'hidden\')\n        container.find(\".redactor_condition-input_test_window-container\").addClass(\'hidden\')\n        container.find(\".redactor_condition-input_select_bot\").addClass(\'hidden\')\n        container.find(\".redactor_condition-input_crm\").addClass(\'hidden\')\n        container.find(\".redactor_condition-input_clients-container\").addClass(\'hidden\')\n        \$(\'.redactor_condition-input_whatsapp_api_url\').addClass(\'hidden\')\n        \$(\'.redactor_condition-input_whatsapp_api_type\').addClass(\'hidden\')\n        \$(\'.container_salebot_conditions_variables\').removeClass(\'hidden\')\n        \$(\'.reductor-conditions-no-collbacks\').addClass(\'hidden\')\n        if (callbacks[condition_type][condition_value] === undefined) {\n            if (value === \"variables\") {\n                \$(\".redactor_condition-input_container_chanel\").addClass(\"hidden\")\n                \$(\'.redactor_condition-input_container_inputs\').html(\'\')\n                container.find(\".redactor_condition-input_container_chanel\").addClass(\"hidden\")\n                \$(\'.container_salebot_conditions_variables__variable_name_input\').val(\'\')\n                \$(\'.container_salebot_conditions_variables__variable_value_input\').val(\'\')\n                \$(\'.container_salebot_conditions_variables__variable_sign_selected\').text(\'==\')\n                \$(\'.redactor_condition-match-selection\').addClass(\'hidden\')\n                setCurrentVariables()\n            }\n            if (value === \"whatsapp\") {\n              \$(\'.redactor_condition-input_whatsapp_api_url\').removeClass(\'hidden\')\n              \$(\'.redactor_condition-input_whatsapp_api_type\').removeClass(\'hidden\')\n              \$(\'.redactor_condition-input_container_chanel\').addClass(\'hidden\')\n              \$(\'.redactor_condition-input_container_inputs\').html(\'\')\n              \$(\'.redactor_condition-input_container_methods\').addClass(\'hidden\')\n              \$(\'.redactor_condition-match-selection\').addClass(\'hidden\')\n              \$(\'.container_salebot_conditions_variables\').addClass(\'hidden\')\n            }\n\n            if (value === \"defaultConditions\") {\n                \$(\'.container_salebot_conditions_variables\').addClass(\'hidden\')\n                container.find(\".redactor_condition-input_container_chanel\").addClass(\'hidden\')\n                container.find(\".redactor_condition-input_default-container\").removeClass(\'hidden\')\n                \$(\'.reductor-conditions-no-collbacks\').removeClass(\'hidden\')\n            }\n            if (value === \"crm\") {\n                \$(\'.container_salebot_conditions_variables\').addClass(\'hidden\')\n                container.find(\".redactor_condition-input_container_chanel\").addClass(\'hidden\')\n                container.find(\".redactor_condition-input_crm\").removeClass(\'hidden\')\n                \$(\'.reductor-conditions-no-collbacks\').addClass(\'hidden\')\n                \$(\'.redactor_condition-match-selection\').addClass(\'hidden\')\n                salebotCRMFunction()\n            }\n            if (value === \"clients\") {\n                \$(\'.container_salebot_conditions_variables\').addClass(\'hidden\')\n                container.find(\".redactor_condition-input_container_chanel\").addClass(\'hidden\')\n                container.find(\'.redactor_condition-input_clients-container\').removeClass(\'hidden\')\n                \$(\'.reductor-conditions-no-collbacks\').addClass(\'hidden\')\n                \$(\'.redactor_condition-match-selection\').addClass(\'hidden\')\n                salebotClientsFunction()\n            }\n            if (value === \"bot\") {\n                \$(\'.container_salebot_conditions_variables\').addClass(\'hidden\')\n                container.find(\".redactor_condition-input_container_chanel\").addClass(\'hidden\')\n                container.find(\".redactor_condition-input_select_bot\").removeClass(\'hidden\')\n                \$(\'.reductor-conditions-no-collbacks\').addClass(\'hidden\')\n                \$(\'.redactor_condition-match-selection\').addClass(\'hidden\')\n            }\n            if (value === \"test_window\") {\n                \$(\".redactor_condition-input_container_chanel\").addClass(\"hidden\")\n                \$(\'.container_salebot_conditions_variables\').addClass(\'hidden\')\n                container.find(\".redactor_condition-input_container_chanel\").addClass(\'hidden\')\n                container.find(\".redactor_condition-input_test_window-container\").removeClass(\'hidden\')\n                \$(\'.redactor_condition-match-selection\').addClass(\'hidden\')\n                \$(\'.reductor-conditions-no-collbacks\').addClass(\'hidden\')\n            }\n        } else {\n            checkConnectedIntegrations(value)\n            \$(\'.redactor_condition-match-selection\').find(\'input\').attr(\'disabled\', false)\n            \$(\'.redactor_condition-match-selection\').removeClass(\'main-select--disabled\')\n            \$(\'.container_salebot_conditions_variables\').addClass(\'hidden\')\n            let actions = callbacks[condition_type][condition_value].actions.action\n            if (!Array.isArray(callbacks[condition_type][condition_value].actions.action)) {\n                actions = [callbacks[condition_type][condition_value].actions.action]\n            }\n            actions.forEach(function (item) {\n                container.find(\".redactor_condition-select_action\").append(\`<option data-variables=\"\${item.variable ? JSON.stringify(item.variable).replaceAll(\'\\\"\', \'\\\'\') : \'\'}\" data-calculatorMethod=\"\${item.calculatorMethod ? JSON.stringify(item.calculatorMethod).replaceAll(\'\\\"\', \'\\\'\') : \'\'}\" value=\"\${item.callback}\">\${item.label} (\${item.callback})<\/option>\`)\n            })\n            container.find(\".redactor_condition-select_action\").formSelect()\n            container.find(\".redactor_condition-select_action\").on(\"change\", calculatorRender)\n            calculatorRender()\n\n            \$(\'.redactor_condition_constructor_modal_container__pay_systems\').find(\'.redactor_condition-input_container_chanel\').find(\'li\').off(\'click\').on(\'click\', function () {\n                Object.keys(secretsKeysForPayers).map((key) => {\n                    if (key === \$(\'.pay_systems_select_item--js.btn-active__blue\').val()) {\n                        pasteSecretKey(key)\n                    }\n                })\n            })\n            if (value === \"tasks\") {\n                \$(\'.redactor_condition-match-selection\').addClass(\'hidden\')\n            }\n        }\n    } else {\n        \$(\".redactor_condition-input_container_chanel\").addClass(\"hidden\")\n        \$(\".redactor_condition-input_container_actions\").addClass(\"hidden\")\n    }\n}\n\n\$(\".redactor_condition-select_chanel\").on(\"change\", rerenderForm)\n\n\n\$(\".redactor_condition_header-destroy\").click(function(){\n    \$(\".redactor_condition_popup\").addClass(\"hidden\")\n})\n\$(\".redactor_condition_popup\").click(function(e){\n    if(!\$(e.target).parents(\".redactor_condition_main\").length && !\$(e.target).hasClass(\"redactor_condition_main\")){\n        \$(\".redactor_condition_popup\").addClass(\"hidden\")\n    }\n})\n\n///////////////////////////////////////////////////////////////////////////////////////// END\nform_change_trigger = false\nvar fileSVG = \`<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M18.25 9.5H14V5.25M8 19.5H16.5C17.6046 19.5 18.5 18.6046 18.5 17.5V9.25L14.25 5H8C6.89543 5 6 5.89543 6 7V17.5C6 18.6046 6.89543 19.5 8 19.5Z\" stroke=\"#626F7F\" stroke-width=\"1.8\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><\/path><\/svg>\`\nvar audioSVG = \`<svg width=\"25\" height=\"24\" viewBox=\"0 0 25 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M10.3 17.25C10.3 18.4926 9.29269 19.5 8.05005 19.5C6.80741 19.5 5.80005 18.4926 5.80005 17.25C5.80005 16.0074 6.80741 15 8.05005 15C9.29269 15 10.3 16.0074 10.3 17.25ZM10.3 17.25V7C10.3 5.89543 11.1954 5 12.3 5H18.3C19.4046 5 20.3 5.89543 20.3 7V14.25M20.3 14.25C20.3 15.4926 19.2927 16.5 18.05 16.5C16.8074 16.5 15.8 15.4926 15.8 14.25C15.8 13.0074 16.8074 12 18.05 12C19.2927 12 20.3 13.0074 20.3 14.25Z\" stroke=\"#626F7F\" stroke-width=\"1.8\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><\/path><\/svg>\`\nvar buttonSpinnerSVG = \`<svg id=\"button_spinner\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14.9459 8C15.5281 8 16.0071 7.52605 15.9307 6.94896C15.7751 5.77515 15.3602 4.64591 14.7109 3.64529C13.8696 2.34872 12.6707 1.32364 11.2591 0.693967C9.84758 0.0642966 8.28385 -0.142995 6.75701 0.0971545C5.23016 0.337304 3.80557 1.01461 2.65547 2.04719C1.50537 3.07976 0.679016 4.42339 0.27631 5.91563C-0.126396 7.40786 -0.0882074 8.9848 0.386258 10.4558C0.860724 11.9268 1.75115 13.2288 2.94988 14.2045C3.875 14.9575 4.95316 15.4913 6.10348 15.772C6.66903 15.91 7.19168 15.4846 7.25418 14.9058C7.31669 14.327 6.89347 13.8162 6.33505 13.6517C5.58858 13.4318 4.88961 13.0652 4.28067 12.5695C3.39783 11.851 2.74204 10.892 2.39261 9.80865C2.04317 8.72529 2.01504 7.5639 2.31163 6.46489C2.60822 5.36589 3.21681 4.37633 4.06384 3.61585C4.91087 2.85538 5.96006 2.35655 7.08456 2.17969C8.20905 2.00282 9.36071 2.15549 10.4003 2.61923C11.4399 3.08297 12.3229 3.83793 12.9425 4.79283C13.3699 5.45146 13.6593 6.18576 13.7978 6.95153C13.9014 7.52438 14.3638 8 14.9459 8Z\" fill=\"white\"/><\/svg>\`\nvar part_placeholder = \"<div class=\'part_placeholder\'><\/div>\"\nvar file_selected = false;\n\nvar move_el = false\nvar reg_exp_escaping = new RegExp(/([_\\]\`~>#=()!\\-[{}*+.\$^\\\\|?])/g);\nvar regexp_clear_escaping = new RegExp(/\\\\([_\\]\`~>#=()!\\-[{}*+.\$^\\\\|?])/g);\nvar dropArea = document.getElementById(\"drop_area_message\")\nvar blob_file_list = []\nvar default_value = undefined\nvar emoji_regexp = new RegExp(/<img.+?class=\"emoji-sprite emoji-\\S*\".+?alt=\"(\\S*)\".+?>/g)\nvar div_br_regexp = new RegExp(/<div><br><\\/div>/g)\nvar br_regexp = new RegExp(/<br>/g)\nvar div_regexp = new RegExp(/<div.*?>/g)\nvar font_regexp = new RegExp(/<font.*?>/g)\nvar font_c_regexp = new RegExp(/<\\/font>/g)\nvar div_c_regexp = new RegExp(/<\\/div>/g)\nvar space_regexp = new RegExp(/&nbsp;/g)\nvar span_regexp = new RegExp(/<span.*?>(\\s|.+?)<\\/span>/g)\nvar pre_regexp = new RegExp(/<pre.*?>(.+?)<\\/pre>/g)\nvar reg_paragraph = new RegExp(/¶/g)\nvar form_message = \$(\".simple_form\").find(\'#textbox\');\nvar textbox_placeholder = \$(\".textbox_placeholder\")\nvar m_type = \$(\'#message_message_type\');\nvar m_request_type = \$(\'#message_request_type\');\nvar mc = \$(\'#condition_part\');\nvar mt = \$(\'#time_part\');\nvar mu = \$(\'#url_part\');\nvar m_post_params = \$(\'#message_post_params\');\nvar attachment_type_new_style = \"\"\nvar arr = [\'video\', \'image\', \'audio\'];\nvar messages_types = [\n    \"Состояние диалога\",\n    \"Начало диалога\",\n    \"Передача данных\",\n    \"Конец сбора данных\",\n    \"Первостепенная проверка условия\",\n    \"Напоминание\",\n    \"Не состояние с условием\",\n    \"Не состояние\",\n    \"Комментарий\",\n    \"Описание\"\n]\n\nfunction htmlDecode(input) {\n    var doc = new DOMParser().parseFromString(input, \"text/html\");\n    return doc.documentElement.textContent;\n}\n\nvar timeObj = {\n    \"1\": \"Секунд\",\n    \"60\": \"Минут\",\n    \"3600\": \"Часов\",\n    \"86400\": \"Дней\",\n    \"-1\": \"Месяцев\"\n}\n\n\$(\".help_trigger\").mouseenter(function(){\n    let container = \$(this).parent().find(\".html_help_text\")\n    let text = \$(this).find(\".html_help_text_inner\").html()\n    container.html(text)\n    container.removeClass(\"hidden\")\n    // container.css(\"left\", )\n})\n\$(\".help_trigger\").mouseleave(function(){\n    \$(this).parent().find(\".html_help_text\").addClass(\"hidden\")\n})\n\n\$(\".add_new_list_action\").on(\"click\", function(){\n    \$(this).before(\`<div class=\"action_list\"><div class=\"python_code hidden\"><\/div><div class=\"list_action hidden\"><\/div><div class=\"state_id hidden\"><\/div><div class=\"list_id hidden\"><\/div><div class=\"crm_action hidden\"><\/div><div class=\"budget_val hidden\"><\/div><div class=\"user_id hidden\"><\/div><div class=\"task_name hidden\"><\/div><div class=\"task_description hidden\"><\/div><div class=\"task_priority hidden\"><\/div><div class=\"task_deadline hidden\"><\/div><div class=\"remove_action--js btn-ghost-grey-square--xs ml-a mb--20 pos-relative\" style=\"z-index: 2;\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M7.30298 7.30292C7.59588 7.01003 8.07075 7.01003 8.36364 7.30292L12 10.9393L15.6363 7.30292C15.9292 7.01003 16.4041 7.01003 16.697 7.30292C16.9899 7.59582 16.9899 8.07069 16.697 8.36358L13.0606 11.9999L16.697 15.6363C16.9899 15.9291 16.9899 16.404 16.697 16.6969C16.4041 16.9898 15.9292 16.9898 15.6363 16.6969L12 13.0606L8.36364 16.6969C8.07075 16.9898 7.59588 16.9898 7.30298 16.6969C7.01009 16.404 7.01009 15.9291 7.30298 15.6363L10.9393 11.9999L7.30298 8.36358C7.01009 8.07069 7.01009 7.59582 7.30298 7.30292Z\" fill=\"currentColor\"/>\n<\/svg>\n<\/div><div class=\"label-wrapper mb-8\"><div class=\"new_label\">Действия<\/div><div class=\"dt-tooltip dt-tooltip__dark\"><div class=\"dt-tooltip__icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/help square/i16\">\n<g id=\"Union\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5.62961 3.26665C4.32458 3.26665 3.26665 4.32458 3.26665 5.62961V10.3704C3.26665 11.6754 4.32458 12.7333 5.62961 12.7333H10.3704C11.6754 12.7333 12.7333 11.6754 12.7333 10.3704V5.62961C12.7333 4.32458 11.6754 3.26665 10.3704 3.26665H5.62961ZM2.06665 5.62961C2.06665 3.66184 3.66184 2.06665 5.62961 2.06665H10.3704C12.3381 2.06665 13.9333 3.66184 13.9333 5.62961V10.3704C13.9333 12.3381 12.3381 13.9333 10.3704 13.9333H5.62961C3.66184 13.9333 2.06665 12.3381 2.06665 10.3704V5.62961ZM7.98457 5.02915C9.04817 4.98576 9.95472 5.80067 10.0211 6.86664C10.0219 6.87906 10.0223 6.89149 10.0223 6.90393C10.0223 7.57076 9.66073 8.18517 9.07781 8.50898L8.29144 8.94587C8.00177 9.10681 7.63648 9.00245 7.47555 8.71278C7.31462 8.42311 7.41898 8.05783 7.70865 7.89689L8.49502 7.46C8.69164 7.35079 8.8156 7.14612 8.822 6.92219C8.78649 6.51417 8.43308 6.20595 8.02186 6.22872C8.00253 6.22979 7.98315 6.22992 7.96381 6.22912C7.5847 6.21338 7.24805 6.46965 7.16229 6.83927C7.0874 7.16206 6.765 7.36302 6.44221 7.28813C6.11941 7.21323 5.91845 6.89084 5.99335 6.56804C6.20731 5.64586 7.0409 5.0036 7.98457 5.02915Z\" fill=\"currentColor\"/>\n<path d=\"M8.65952 10.3121C8.65975 10.1369 8.59028 9.96889 8.46642 9.84504C8.34258 9.72119 8.17454 9.65171 7.99938 9.65194C7.63549 9.65241 7.3408 9.94762 7.34096 10.3115C7.34111 10.6754 7.63607 10.9703 7.99995 10.9705C8.36384 10.9707 8.65905 10.676 8.65952 10.3121Z\" fill=\"currentColor\"/>\n<\/g>\n<\/g>\n<\/svg>\n<\/div><div class=\"dt-tooltip__description--bottom\" style=\"transform: translateX(-35%);\"><span>При переходе в блок изменится состояние во внутренней crm-системе<\/span><\/div><\/div><\/div><div class=\"main-select mb-8\"><select class=\"actions_select\"><option value=\"action\">Действие<\/option><option value=\"0\">Переместить по воронке<\/option><option value=\"1\">Добавить в список<\/option><option value=\"2\">Удалить из списка<\/option><option value=\"3\">Переместить в список<\/option><option value=\"4\">Добавить метку<\/option><option value=\"5\">Убрать метку<\/option><option value=\"6\">Выполнить код на Python<\/option><option value=\"7\">Поменять ответственного<\/option><option value=\"8\">Изменить стоимость сделки<\/option><option value=\"9\">Завершить сделку<\/option><option value=\"10\">Создать задачу<\/option><\/select><\/div><div class=\"label-wrapper label_select_main\" style=\"display: none\"><div class=\"new_label\">Выберите метку<\/div><\/div><div class=\"main-select label_select_main label_select_main_ident\" style=\"display: none\"><select class=\"label_select\"><\/select><\/div><div class=\"label-wrapper list_select_main\" style=\"display: none\"><div class=\"new_label\">Выберите список<\/div><\/div><div class=\"main-select list_select_main list_select_main_ident\" style=\"display: none\"><select class=\"list_select\"><\/select><\/div><div class=\"label-wrapper state_select_main\" style=\"display: none\"><div class=\"new_label\">Состояние воронки<\/div><div class=\"dt-tooltip dt-tooltip__dark\"><div class=\"dt-tooltip__icon\"><svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g id=\"linear/help square/i16\">\n<g id=\"Union\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5.62961 3.26665C4.32458 3.26665 3.26665 4.32458 3.26665 5.62961V10.3704C3.26665 11.6754 4.32458 12.7333 5.62961 12.7333H10.3704C11.6754 12.7333 12.7333 11.6754 12.7333 10.3704V5.62961C12.7333 4.32458 11.6754 3.26665 10.3704 3.26665H5.62961ZM2.06665 5.62961C2.06665 3.66184 3.66184 2.06665 5.62961 2.06665H10.3704C12.3381 2.06665 13.9333 3.66184 13.9333 5.62961V10.3704C13.9333 12.3381 12.3381 13.9333 10.3704 13.9333H5.62961C3.66184 13.9333 2.06665 12.3381 2.06665 10.3704V5.62961ZM7.98457 5.02915C9.04817 4.98576 9.95472 5.80067 10.0211 6.86664C10.0219 6.87906 10.0223 6.89149 10.0223 6.90393C10.0223 7.57076 9.66073 8.18517 9.07781 8.50898L8.29144 8.94587C8.00177 9.10681 7.63648 9.00245 7.47555 8.71278C7.31462 8.42311 7.41898 8.05783 7.70865 7.89689L8.49502 7.46C8.69164 7.35079 8.8156 7.14612 8.822 6.92219C8.78649 6.51417 8.43308 6.20595 8.02186 6.22872C8.00253 6.22979 7.98315 6.22992 7.96381 6.22912C7.5847 6.21338 7.24805 6.46965 7.16229 6.83927C7.0874 7.16206 6.765 7.36302 6.44221 7.28813C6.11941 7.21323 5.91845 6.89084 5.99335 6.56804C6.20731 5.64586 7.0409 5.0036 7.98457 5.02915Z\" fill=\"currentColor\"/>\n<path d=\"M8.65952 10.3121C8.65975 10.1369 8.59028 9.96889 8.46642 9.84504C8.34258 9.72119 8.17454 9.65171 7.99938 9.65194C7.63549 9.65241 7.3408 9.94762 7.34096 10.3115C7.34111 10.6754 7.63607 10.9703 7.99995 10.9705C8.36384 10.9707 8.65905 10.676 8.65952 10.3121Z\" fill=\"currentColor\"/>\n<\/g>\n<\/g>\n<\/svg>\n<\/div><div class=\"dt-tooltip__description--bottom\" style=\"transform: translateX(-55%);\"><span>При переходе в блок изменится состояние во внутренней crm-системе<\/span><\/div><\/div><\/div><div class=\"main-select state_select_main state_select_main_ident\" style=\"display: none\"><select class=\"state_select\"><option value=\"65842797\">Ваша первая воронка: Заинтересовались<\/option><option value=\"65842798\">Ваша первая воронка: Стадия переговоров<\/option><option value=\"65842799\">Ваша первая воронка: Коммерческое предложение<\/option><option value=\"65842800\">Ваша первая воронка: Договор/Счет<\/option><option value=\"65842801\">Ваша первая воронка: В работе<\/option><\/select><\/div><div class=\"label-wrapper write_code_select_main\" style=\"display: none\"><\/div><div class=\"main-select write_code_select_main write_cod_select_main_ident\" style=\"display: none\"><div class=\"write_code_file_container\"><div class=\"write_code_file_solo\"><div class=\"btn-outline-white--m write_code_file_pick\"><div class=\"write_code_file_pick__img\"><svg width=\"18\" height=\"16\" viewBox=\"0 0 18 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M10.5869 0.867917C10.9912 0.95788 11.2461 1.35858 11.1561 1.76291L8.3081 14.5629C8.21813 14.9672 7.81743 15.2221 7.41311 15.1321C7.00878 15.0421 6.75394 14.6414 6.8439 14.2371L9.6919 1.43712C9.78187 1.0328 10.1826 0.777955 10.5869 0.867917ZM4.73033 4.26968C5.02322 4.56258 5.02322 5.03745 4.73033 5.33034L2.06066 8.00001L4.73033 10.6697C5.02322 10.9626 5.02322 11.4375 4.73033 11.7303C4.43744 12.0232 3.96256 12.0232 3.66967 11.7303L0.46967 8.53034C0.176777 8.23745 0.176777 7.76258 0.46967 7.46968L3.66967 4.26968C3.96256 3.97679 4.43744 3.97679 4.73033 4.26968ZM13.2697 4.26968C13.5626 3.97679 14.0374 3.97679 14.3303 4.26968L17.5303 7.46968C17.8232 7.76258 17.8232 8.23745 17.5303 8.53034L14.3303 11.7303C14.0374 12.0232 13.5626 12.0232 13.2697 11.7303C12.9768 11.4375 12.9768 10.9626 13.2697 10.6697L15.9393 8.00001L13.2697 5.33034C12.9768 5.03745 12.9768 4.56258 13.2697 4.26968Z\" fill=\"black\"/>\n<\/svg>\n<\/div><div class=\"write_code_file_pick__text\">Редактировать код<\/div><\/div><\/div><\/div><\/div><div class=\"label-wrapper change_responsible_select_main\" style=\"display: none\"><div class=\"new_label\">Выберите ответственного<\/div><\/div><div class=\"main-select change_responsible_select_main\" style=\"display: none\"><select class=\"responsible_select\"><option value=\"357198\"><div class=\"client-responsible__item-avatar\"><img src=\"/no-avatar.png\" /><\/div><div class=\"client-responsible__item-name\">gorseninaolesa920@gmail.com<\/div><\/option><\/select><\/div><div class=\"label-wrapper change_order_cost_select_main\" style=\"display: none\"><div class=\"new_label\">Напишите стоимость сделки<\/div><\/div><div class=\"inputs_container solid-no-icon-p16-m\"><div class=\"inputs_container--main\"><input class=\"change_order_cost_select_main change_order_cost_input no-spinner\" placeholder=\"Стоимость сделки\" style=\"display: none\" type=\"number\" /><\/div><\/div><div class=\"label-wrapper finish_order_select_main\" style=\"display: none\"><div class=\"new_label\">Метод завершения сделки<\/div><\/div><div class=\"main-select finish_order_select_main\" style=\"display: none\"><select class=\"finish_order_select\"><option value=\"delete\">Удалить сделку<\/option><option value=\"failed\">Сделка провалена<\/option><option value=\"success\">Сделка успешна<\/option><option value=\"archive\">Добавить сделку в архив<\/option><\/select><\/div><div class=\"label-wrapper create_task_select_main\" style=\"display: none\"><div class=\"new_label\">Введите название задачи<\/div><\/div><div class=\"inputs_container solid-no-icon-p16-m\"><div class=\"inputs_container--main\"><input class=\"create_task_select_main create_task_name mb-8\" placeholder=\"Название задачи\" style=\"display: none\" /><\/div><\/div><div class=\"label-wrapper create_task_select_main\" style=\"display: none\"><div class=\"new_label\">Укажите приоритет<\/div><\/div><div class=\"main-select mb-8 create_task_select_main\" style=\"display: none\"><select class=\"create_task_priority\"><option value=\"0\">Низкий<\/option><option value=\"1\">Средний<\/option><option value=\"2\">Высокий<\/option><\/select><\/div><div class=\"label-wrapper create_task_select_main\" style=\"display: none\"><div class=\"new_label\">Укажите предельную дату выполнения задачи<\/div><\/div><input autocomplete=\"off\" class=\"create_task_select_main mb-8\" id=\"deadline_date_input\" placeholder=\"Дата выполнения задачи\" style=\"display: none\" type=\"text\" /><div class=\"label-wrapper create_task_select_main\" style=\"display: none\"><div class=\"new_label\">Укажите предельное время выполнения задачи<\/div><\/div><input autocomplete=\"off\" class=\"create_task_select_main mb-8\" id=\"deadline_time_input\" placeholder=\"Время выполнения задачи\" style=\"display: none\" type=\"text\" /><div class=\"label-wrapper create_task_select_main\" style=\"display: none\"><div class=\"new_label\">Напиши описание к задаче<\/div><\/div><div class=\"inputs_container solid-no-icon-p16-m\"><div class=\"inputs_container--main\"><input class=\"create_task_select_main create_task_description mb-8\" placeholder=\"Описание задачи\" style=\"display: none\" /><\/div><\/div><div class=\"label-wrapper create_task_select_main\" style=\"display: none\"><div class=\"new_label\">Выберите ответственного<\/div><\/div><div class=\"main-select create_task_select_main\" style=\"display: none\"><select class=\"responsible_task_select\"><option value=\"357198\"><div class=\"client-responsible__item-avatar\"><img src=\"/no-avatar.png\" /><\/div><div class=\"client-responsible__item-name\">gorseninaolesa920@gmail.com<\/div><\/option><\/select><\/div><\/div>\`)\n    \$(\".main-select select\").formSelect()\n    actionEvents()\n    \$(\'.state_select_main_ident\').searchableFormSelect();\n    \$(\'.list_select_main_ident\').searchableFormSelect();\n    \$(\'.label_select_main_ident\').searchableFormSelect();\n})\n\$(\".action_list\").each(function(){\n    let action_list = \$(this)\n    let arr_each = [\"actions\", \"state\", \"list\", \"label\"]\n    arr_each.forEach(function(item){\n        action_list.find(\`.\${item}_select option\`).each(function () {\n            let findClass = \".\" +(item == \"state\" ? \"state\" : \"list\") + \"_\" + (item == \"actions\" ? \"action\" : \"id\")\n            if (action_list.find(findClass).text() === \$(this).attr(\"value\")) {\n                \$(this).attr(\"selected\", \"true\")\n            }\n        })\n    })\n})\n\nfunction setCrmActions () {\n    let main = \$(\'.action_list\')\n    if (main.length !== 0) {\n        main.map((index, item) => {\n            let action = \$(item).find(\'.list_action\').text()\n            if (action == 7) {\n                \$(item).find(\'.responsible_select\').val(\$(item).find(\'.user_id\').text())\n            } else if (action == 8) {\n                \$(item).find(\'.change_order_cost_input\').val(\$(item).find(\'.budget_val\').text())\n            } else if (action == 9) {\n                \$(item).find(\'.finish_order_select\').val(\$(item).find(\'.crm_action\').text())\n            } else if (action == 10) {\n                setCreateTaskData()\n                \$(item).find(\'.responsible_task_select\').val(\$(item).find(\'.user_id\').text())\n                \$(item).find(\'.create_task_name\').val(\$(item).find(\'.task_name\').text())\n                \$(item).find(\'.create_task_description\').val(\$(item).find(\'.task_description\').text())\n                \$(item).find(\'.create_task_priority\').val(\$(item).find(\'.task_priority\').text())\n                let datePart = \$(\"#deadline_date_input\").val();\n                let timePart = \$(\"#deadline_time_input\").val();\n                let [hours, minutes] = timePart.split(\':\');\n                \$(item).find(\'.deadline_date\').val(datePart);\n                \$(item).find(\'.new-window-task__hour-select\').val(hours);\n                \$(item).find(\'.new-window-task__minutes-select\').val(minutes);\n            }\n        })\n    }\n}\nsetCrmActions()\n\nfunction setCreateTaskData () {\n    \$(\"#deadline_date_input\").date_picker();\n    \$(\"#deadline_time_input\").time_picker();\n    \$(\'select\').formSelect();\n}\n\nfunction set_full_time(date = new Date()) {\n    let date_for_input = String(date.getDate()).padStart(2, \'0\') + \'.\' + String(date.getMonth() + 1).padStart(2, \'0\') + \'.\' + date.getFullYear();\n    let hours = date.getHours() < 10 ? \"0\" + date.getHours() : date.getHours()\n    let minutes = date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes()\n    \$(\'.deadline_date\').val(date_for_input);\n    \$(\'.new-window-task__hour-select\').val(hours);\n    \$(\'.new-window-task__minutes-select\').val(minutes);\n    \$(\'select\').formSelect();\n}\n\n\nvar setActionsValue = function () {\n    if (\$(this).hasClass(\"actions_select\")) {\n        let list_el = \$(this).parents(\".action_list\").find(\".list_select_main\")\n        let state_el = \$(this).parents(\".action_list\").find(\".state_select_main\")\n        let label_el = \$(this).parents(\".action_list\").find(\".label_select_main\")\n        let write_code_el = \$(this).parents(\".action_list\").find(\".write_code_select_main\")\n        let change_responsible_el = \$(this).parents(\".action_list\").find(\'.change_responsible_select_main\')\n        let finish_order_el = \$(this).parents(\".action_list\").find(\'.finish_order_select_main\')\n        let change_order_cost_el = \$(this).parents(\".action_list\").find(\'.change_order_cost_select_main\')\n        let create_task_el = \$(this).parents(\".action_list\").find(\'.create_task_select_main\')\n        if (\$(this).val() != \"action\") {\n            list_el.hide()\n            state_el.hide()\n            label_el.hide()\n            write_code_el.hide()\n            change_responsible_el.hide()\n            finish_order_el.hide()\n            change_order_cost_el.hide()\n            create_task_el.hide()\n            if (\$(this).val() == 0) {\n                state_el.show()\n            } else if (\$(this).val() == 4 || \$(this).val() == 5) {\n                label_el.show()\n            } else if (\$(this).val() == 1 || \$(this).val() == 2 || \$(this).val() == 3) {\n                list_el.show()\n            } else if (\$(this).val() == 6) {\n                write_code_el.show()\n                \$(\'.write_code_file_pick\').off(\'click\').on(\'click\', function () {\n                    python_code = \$(this).closest(\'.action_list\').find(\'.python_code\')\n                    writeCodeOnPythonOpenModal(\$(this).closest(\'.write_code_file_solo\'))\n                })\n            } else if (\$(this).val() == 7) {\n                change_responsible_el.show()\n            } else if (\$(this).val() == 8) {\n                change_order_cost_el.show()\n            } else if (\$(this).val() == 9) {\n                finish_order_el.show()\n            } else if (\$(this).val() == 10) {\n                create_task_el.show()\n                setCreateTaskData()\n            }\n        } else {\n            list_el.hide()\n            state_el.hide()\n            label_el.hide()\n            write_code_el.hide()\n            finish_order_el.hide()\n            change_responsible_el.hide()\n            change_order_cost_el.hide()\n            create_task_el.hide()\n        }\n    }\n    let res = {}\n    let list_actions = []\n    let is_state = false\n    \$(\".action_list\").each(function () {\n        let item = {}\n        let action = \$(this).find(\".actions_select\").val()\n        let state_trigger = false\n        console.log(\" action => \", action)\n        if (action && action != \"action\") {\n          item[\"list_action\"] = action\n          let trigger = true\n          if (action == 0 && \$(this).find(\".state_select\").val()) {\n              \$(\"#message_list_action\").val(null)\n              \$(\"#message_state_id\").val(\$(this).find(\".state_select\").val())\n              is_state = true\n              trigger = false\n              state_trigger = true\n          } else if ((action == 1 || action == 2 || action == 3) && \$(this).find(\".list_select\").val()) {\n              item[\"list_id\"] = \$(this).find(\".list_select\").val()\n          } else if ((action == 4 || action == 5) && \$(this).find(\".label_select\").val()) {\n              item[\"list_id\"] = \$(this).find(\".label_select\").val()\n          } else if (action == 6) {\n              item[\"python_code\"] = \$(this).find(\'.python_code\').text()\n          } else if (action == 7) {\n              item[\"crm_action\"] = \"1\"\n              item[\"user_id\"] = \$(this).find(\'.responsible_select\').val()\n          } else if (action == 8) {\n              item[\"crm_action\"] = \"2\"\n              item[\"budget\"] = \$(this).find(\'.change_order_cost_input\').val()\n          } else if (action == 9) {\n              item[\"crm_action\"] = \"3\"\n              item[\"action\"] = \$(this).find(\".finish_order_select\").val()\n          } else if (action == 10) {\n              item[\"crm_action\"] = \"4\"\n              item[\"user_id\"] = \$(this).find(\'.responsible_task_select\').val()\n              item[\"name\"] = \$(this).find(\'.create_task_name\').val()\n              item[\"description\"] = \$(this).find(\'.create_task_description\').val()\n              item[\"priority\"] = \$(this).find(\'.create_task_priority\').val()\n              item[\"deadline_date\"] = \$(this).find(\'#deadline_date_input\').val()\n              item[\"deadline_time\"] = \$(this).find(\'#deadline_time_input\').val()\n          } else {\n              trigger = false\n          }\n          if (trigger) {\n              list_actions.push(item)\n              res.list_actions = list_actions\n          }\n        }\n        if (!state_trigger) {\n            \$(\"#message_list_action\").val(\"\")\n        }\n    })\n    console.log(\"res - \", JSON.stringify(res))\n    if (!is_state) {\n        \$(\"#message_state_id\").val(\"\")\n    }\n    \$(\"#message_actions_settings\").val(JSON.stringify(res))\n}\n\nvar actionEvents = function(){\n\n    \$(\".label-help-icon\").off(\"mouseenter\")\n    \$(\".label-help-icon\").off(\"mouseleave\")\n    \$(\".label-help-icon\").on(\"mouseenter\", function () {\n        \$(this).find(\'.label-help-description\').show()\n    }).on(\"mouseleave\", function () {\n        \$(this).find(\'.label-help-description\').hide()\n    });\n    \$(\".label-help-description\").on(\"mouseenter\", function () {\n        \$(this).hide()\n    })\n    \$(\".remove_action--js\").off(\"click\")\n    \$(\".remove_action--js\").on(\"click\", function () {\n        \$(this).parent().remove()\n        setActionsValue()\n    })\n    \$(\".actions_select, .list_select, .state_select, .label_select, .responsible_select, .finish_order_select, .change_order_cost_select_main, .create_task_select_main\").off(\"change\")\n    \$(\".actions_select, .list_select, .state_select, .label_select, .responsible_select, .finish_order_select, .change_order_cost_select_main, .create_task_select_main\").on(\"change\", setActionsValue)\n}\nactionEvents()\n\n\n\n\n\ndrawEmojis(\$(\".for_emojis--js\"))\n\n\$(\'.btn_vars_modal\').on(\'mousedown\', function (e) {\n    e.stopPropagation()\n    e.preventDefault()\n})\n\$(\'.btn_vars_modal\').on(\'click\', function (e) {\n    e.stopPropagation()\n    e.preventDefault()\n    let html = \"<div class=\\\"salebot-modal\\\"><div class=\\\"salebot-modal__container\\\"><div class=\\\"modal_header\\\"><div class=\\\"modal_header_title\\\">Вставить переменную<\\/div><div class=\\\"modal_header_close\\\"><\\/div><div class=\\\"close_modal_vars_built_in modal-close btn-ghost-grey-square--m\\\"><svg width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\" fill=\\\"none\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\">\\n  <path fill-rule=\\\"evenodd\\\" clip-rule=\\\"evenodd\\\" d=\\\"M7.30298 7.30292C7.59588 7.01003 8.07075 7.01003 8.36364 7.30292L12 10.9393L15.6363 7.30292C15.9292 7.01003 16.4041 7.01003 16.697 7.30292C16.9899 7.59582 16.9899 8.07069 16.697 8.36358L13.0606 11.9999L16.697 15.6363C16.9899 15.9291 16.9899 16.404 16.697 16.6969C16.4041 16.9898 15.9292 16.9898 15.6363 16.6969L12 13.0606L8.36364 16.6969C8.07075 16.9898 7.59588 16.9898 7.30298 16.6969C7.01009 16.404 7.01009 15.9291 7.30298 15.6363L10.9393 11.9999L7.30298 8.36358C7.01009 8.07069 7.01009 7.59582 7.30298 7.30292Z\\\" fill=\\\"currentColor\\\"/>\\n<\\/svg>\\n<\\/div><\\/div><div class=\\\"modal_body\\\"><div class=\\\"modal_form_box\\\"><div class=\\\"users-vars\\\"><div class=\\\"users-vars__title\\\">Встроенные переменные<\\/div><div class=\\\"users-vars__list users-vars__list--messages\\\"><div class=\\\"users-vars__item users-vars__item--messages\\\"><div class=\\\"users-vars__item-descr users-vars__item-descr--messages\\\"> - внутрь скобок вы можете указать название поля ввода из соединения<\\/div><div class=\\\"users-vars__item-name users-vars__item-name--messages\\\"> #{}<\\/div><\\/div><div class=\\\"users-vars__item users-vars__item--messages\\\"><div class=\\\"users-vars__item-descr users-vars__item-descr--messages\\\"> - токен API. Он передается в вызовах API Salebot<\\/div><div class=\\\"users-vars__item-name users-vars__item-name--messages\\\"> #{api_key}<\\/div><\\/div><div class=\\\"users-vars__item users-vars__item--messages\\\"><div class=\\\"users-vars__item-descr users-vars__item-descr--messages\\\"> - в этой переменной содержится ссылка на вложение<\\/div><div class=\\\"users-vars__item-name users-vars__item-name--messages\\\"> #{attachment_url}<\\/div><\\/div><div class=\\\"users-vars__item users-vars__item--messages\\\"><div class=\\\"users-vars__item-descr users-vars__item-descr--messages\\\"> - url вложений к сообщению пользователя в формате JSON массива<\\/div><div class=\\\"users-vars__item-name users-vars__item-name--messages\\\"> #{attachments}<\\/div><\\/div><div class=\\\"users-vars__item users-vars__item--messages\\\"><div class=\\\"users-vars__item-descr users-vars__item-descr--messages\\\"> - ссылка на аватар пользователя (которая отображается в разделе Клиенты)<\\/div><div class=\\\"users-vars__item-name users-vars__item-name--messages\\\"> #{avatar}<\\/div><\\/div><div class=\\\"users-vars__item users-vars__item--messages\\\"><div class=\\\"users-vars__item-descr users-vars__item-descr--messages\\\"> - id клиента в конструкторе. Он передается в вызовы API.<\\/div><div class=\\\"users-vars__item-name users-vars__item-name--messages\\\"> #{client_id}<\\/div><\\/div><div class=\\\"users-vars__item users-vars__item--messages\\\"><div class=\\\"users-vars__item-descr users-vars__item-descr--messages\\\"> - тип мессенджера, откуда пришел клиент. В переменной просто число.<\\/div><div class=\\\"users-vars__item-name users-vars__item-name--messages\\\"> #{client_type}<\\/div><\\/div><div class=\\\"users-vars__item users-vars__item--messages\\\"><div class=\\\"users-vars__item-descr users-vars__item-descr--messages\\\"> - текущая дата в формате dd.mm.yyyy по часовому поясу проекта<\\/div><div class=\\\"users-vars__item-name users-vars__item-name--messages\\\"> #{current_date}<\\/div><\\/div><div class=\\\"users-vars__item users-vars__item--messages\\\"><div class=\\\"users-vars__item-descr users-vars__item-descr--messages\\\"> - время проекта в формате hh:mm<\\/div><div class=\\\"users-vars__item-name users-vars__item-name--messages\\\"> #{current_time}<\\/div><\\/div><div class=\\\"users-vars__item users-vars__item--messages\\\"><div class=\\\"users-vars__item-descr users-vars__item-descr--messages\\\"> - ответ, полученный с сервера, указанного в поле &quot;URL для ответа с сервера&quot;<\\/div><div class=\\\"users-vars__item-name users-vars__item-name--messages\\\"> #{custom_answer}<\\/div><\\/div><div class=\\\"users-vars__item users-vars__item--messages\\\"><div class=\\\"users-vars__item-descr users-vars__item-descr--messages\\\"> - дата, когда человек был добавлен в бота или написал ему первый раз<\\/div><div class=\\\"users-vars__item-name users-vars__item-name--messages\\\"> #{date_of_creation}<\\/div><\\/div><div class=\\\"users-vars__item users-vars__item--messages\\\"><div class=\\\"users-vars__item-descr users-vars__item-descr--messages\\\"> - имя и фамилия собеседника<\\/div><div class=\\\"users-vars__item-name users-vars__item-name--messages\\\"> #{full_name}<\\/div><\\/div><div class=\\\"users-vars__item users-vars__item--messages\\\"><div class=\\\"users-vars__item-descr users-vars__item-descr--messages\\\"> - бот, к которому привязан клиент (В карточке клиента называется &quot;Привязан к боту&quot;)<\\/div><div class=\\\"users-vars__item-name users-vars__item-name--messages\\\"> #{group}<\\/div><\\/div><div class=\\\"users-vars__item users-vars__item--messages\\\"><div class=\\\"users-vars__item-descr users-vars__item-descr--messages\\\"> - ID основного клиента<\\/div><div class=\\\"users-vars__item-name users-vars__item-name--messages\\\"> #{main_client_id}<\\/div><\\/div><div class=\\\"users-vars__item users-vars__item--messages\\\"><div class=\\\"users-vars__item-descr users-vars__item-descr--messages\\\">- тип входящего сообщения (простое: 0б  API: 1, сторонняя CRM: 2, Callback: 3, телефония: 5)<\\/div><div class=\\\"users-vars__item-name users-vars__item-name--messages\\\"> #{message_from_outside}<\\/div><\\/div><div class=\\\"users-vars__item users-vars__item--messages\\\"><div class=\\\"users-vars__item-descr users-vars__item-descr--messages\\\"> - текущее состояние диалога с клиентом. Идентификатор состояния. По умолчанию NONE.<\\/div><div class=\\\"users-vars__item-name users-vars__item-name--messages\\\"> #{message_id}<\\/div><\\/div><div class=\\\"users-vars__item users-vars__item--messages\\\"><div class=\\\"users-vars__item-descr users-vars__item-descr--messages\\\"> - название мессенджера, откуда пришел клиент<\\/div><div class=\\\"users-vars__item-name users-vars__item-name--messages\\\"> #{messenger}<\\/div><\\/div><div class=\\\"users-vars__item users-vars__item--messages\\\"><div class=\\\"users-vars__item-descr users-vars__item-descr--messages\\\"> - имя собеседника<\\/div><div class=\\\"users-vars__item-name users-vars__item-name--messages\\\"> #{name}<\\/div><\\/div><div class=\\\"users-vars__item users-vars__item--messages\\\"><div class=\\\"users-vars__item-descr users-vars__item-descr--messages\\\"> - завтрашняя дата в формате dd.mm.yyyy. Удобно для отправки сообщения завтра.<\\/div><div class=\\\"users-vars__item-name users-vars__item-name--messages\\\"> #{next_day}<\\/div><\\/div><div class=\\\"users-vars__item users-vars__item--messages\\\"><div class=\\\"users-vars__item-descr users-vars__item-descr--messages\\\"> - проигнорировать сообщение<\\/div><div class=\\\"users-vars__item-name users-vars__item-name--messages\\\"> #{none}<\\/div><\\/div><div class=\\\"users-vars__item users-vars__item--messages\\\"><div class=\\\"users-vars__item-descr users-vars__item-descr--messages\\\"> - содержимое заявки, созданной пользователем<\\/div><div class=\\\"users-vars__item-name users-vars__item-name--messages\\\"> #{order}<\\/div><\\/div><div class=\\\"users-vars__item users-vars__item--messages\\\"><div class=\\\"users-vars__item-descr users-vars__item-descr--messages\\\"> - идентификатор заявки(идентификатор клиента и внутренний идентификатор заявки через дефис)<\\/div><div class=\\\"users-vars__item-name users-vars__item-name--messages\\\"> #{order_id}<\\/div><\\/div><div class=\\\"users-vars__item users-vars__item--messages\\\"><div class=\\\"users-vars__item-descr users-vars__item-descr--messages\\\"> - id клиента в мессенджере.<\\/div><div class=\\\"users-vars__item-name users-vars__item-name--messages\\\"> #{platform_id}<\\/div><\\/div><div class=\\\"users-vars__item users-vars__item--messages\\\"><div class=\\\"users-vars__item-descr users-vars__item-descr--messages\\\"> - сообщение пользователя<\\/div><div class=\\\"users-vars__item-name users-vars__item-name--messages\\\"> #{question}<\\/div><\\/div><div class=\\\"users-vars__item users-vars__item--messages\\\"><div class=\\\"users-vars__item-descr users-vars__item-descr--messages\\\"> - текущий timestamp c учетом милисекунд<\\/div><div class=\\\"users-vars__item-name users-vars__item-name--messages\\\"> #{timestamp}<\\/div><\\/div><div class=\\\"users-vars__item users-vars__item--messages\\\"><div class=\\\"users-vars__item-descr users-vars__item-descr--messages\\\"> - номер Whatsapp, на который написал пользователь (удобно передавать его в поля СРМ, чтобы распределять заявки между менеджерами)<\\/div><div class=\\\"users-vars__item-name users-vars__item-name--messages\\\"> #{wa_bot}<\\/div><\\/div><div class=\\\"users-vars__item users-vars__item--messages\\\"><div class=\\\"users-vars__item-descr users-vars__item-descr--messages\\\"> - день недели в виде числа, понедельник - 1, воскресенье - 7<\\/div><div class=\\\"users-vars__item-name users-vars__item-name--messages\\\"> #{weekday}<\\/div><\\/div><\\/div><\\/div><\\/div><\\/div><\\/div><\\/div><script>\\\$(\\\".users-vars__item\\\").on(\\\"mousedown\\\", function (e) {\\n        e.stopPropagation()\\n        e.preventDefault()\\n    })\\n\\\$(\\\".users-vars__item\\\").on(\\\"click\\\", function (e) {\\n        e.stopPropagation()\\n        e.preventDefault()\\n        insertTextAtCursor(\\\$(this).find(\\\".users-vars__item-name\\\").html())\\n        \\\$(\\\".us_modal\\\").remove()\\n})\\n\\n\\\$(\\\'.close_modal_vars_built_in\\\').on(\\\'click\\\', function (){\\n    \\\$(\\\".us_modal\\\").remove()\\n})<\\/script>\"\n    \$(\"body\").prepend(\`<div class=\"us_modal\">\${html}<\/div>\`)\n})\n\$(\".title_to_change\").click(function(){\n    \$(\".title_to_change\").hide()\n    \$(\".message_description_input\").removeClass(\"hidden\")\n    let text = \"\"\n    if(messages_types.includes(\$(this).text())){\n        text = \$(\"#message_description\").val() || \$(this).text()\n    } else {\n        text = \$(this).text()\n    }\n    \$(\"#message_description\").val(text)\n    document.getElementById(\"message_description\").focus()\n    \$(\"#message_description\").select()\n    // \$(\"#message_description\").\n})\n\$(\"#message_description\").on(\"blur keydown\", function(e){\n    if(e.type === \"blur\" || e.keyCode === 13) {\n        let value = \$(this).val()\n        \$(\".title_to_change\").text(value)\n        \$(\".title_to_change\").show()\n\n        \$(\".message_description_input\").addClass(\"hidden\")\n        if (messages_types.includes(value) || !value) {\n            \$(\".title_to_change\").text(messages_types[parseInt(\$(\"#message_message_type\").val())])\n            \$(this).val(\"\")\n        }\n    }\n})\nvar elToAutoResize = [\n    \$(\'#message_variables\'),\n    \$(\'#body-field\'),\n    \$(\'#message_hint\'),\n    \$(\'#message_buttons\'),\n    \$(\'#message_saved_variables\'),\n    \$(\'#message_headers\')\n]\nelToAutoResize.forEach(function(item){\n    if(item.length){\n        M.textareaAutoResize(item)\n    }\n})\nace.config.set(\'basePath\', \'/js\')\nvar calculate_editor = ace.edit(\"redactor_calculate\");\ncalculate_editor.setOptions({\n    enableLiveAutocompletion: true,\n    enableBasicAutocompletion: true,\n    showGutter: true,\n    fontSize: 15,\n    wrapBehavioursEnabled: true,\n    indentedSoftWrap: false,\n    wrap: \"free\",\n    scrollSpeed: 1,\n    maxLines: 50,\n    minLines: 6,\n    vScrollBarAlwaysVisible: false\n});\n\n\$(\"#time_part\").on(\'click\', function(){\n    \$(\".change_time_container\").show()\n})\n\n\n\$(\"#message_timeout\").on(\"input\", function(){\n    let duration = \$(this).val()\n    let type = timeObj[\$(\"#message_timeout_type\").val().toLocaleString()]\n    \$(\".time_duration\").text(\"Задержка\").append(\`\n         <span> \${duration} <\/span>\n    \`)\n    \$(\".time_type\").text(type)\n    if (duration.length == 0) {\n      \$(\".time_duration\").text(\"translation missing: ru.missing_delay\")\n      \$(\".time_type\").text(\"\")\n    }\n})\n\$(\"#message_timeout_type\").on(\"change\", function(){\n    let duration = \$(\"#message_timeout\").val()\n    let type = timeObj[\$(\"#message_timeout_type\").val().toLocaleString()]\n    \$(\".time_type\").text(type)\n    if (duration.length == 0){\n      \$(\".time_type\").text(\"\")\n    }\n})\n\n\$(\'.header_messages_form_action\').on(\'click\', function () {\n    \$(this).find(\'.header_messages_form_action_container\').toggleClass(\'header_messages_form_action_container--active\')\n})\n\n\$(\'.header_messages_form_action_item--mailing\').on(\'click\', function () {\n    \$(this).find(\'.create_mailing_container\').toggleClass(\'create_mailing_container--active\')\n})\n\n\$(document).off(\'.headerMessages\').on(\'mouseup.headerMessages\', function (e) {\n  var clickTarget = \$(\".header_messages_form_action\");\n  var hideList = \$(\".header_messages_form_action_container\")\n  if (\$(e.target).parents(\".header_messages_form_action_container\").length > 0) {\n    hideList.removeClass(\'header_messages_form_action_container--active\');\n  }\n  if (!clickTarget.is(e.target) && clickTarget.has(e.target).length === 0) {\n    hideList.removeClass(\'header_messages_form_action_container--active\');\n  }\n});\n\n\$(\".hide_part_move\").on(\"mousedown\", function(e){\n    e.stopPropagation()\n    e.preventDefault()\n    move_el = \$(this).parents(\".part_new\")\n    move_el.width(move_el.width())\n    move_el.before(part_placeholder)\n    move_el.css(\"z-index\", \"999999999999999999999999999999\")\n    move_el.css(\"position\", \"fixed\")\n    let part_placeholder_el = \$(\".part_placeholder\")\n    part_placeholder_el.width(move_el.width())\n    part_placeholder_el.height(move_el.height())\n    part_placeholder_el.css(\"margin\", move_el.css(\"margin\"))\n    let left = e.clientX - move_el.width() - 35\n    let top = e.clientY - 35\n    move_el.css(\"left\", left)\n    move_el.css(\"top\", top)\n})\n\$(document).off(\".placeholderMove\").on(\"mousemove.placeholderMove\", function(e){\n    if(move_el){\n        let part_placeholder_el = \$(\".part_placeholder\")\n        let left = e.clientX - move_el.width() - 35\n        let top = e.clientY - 35\n        move_el.css(\"left\", left)\n        move_el.css(\"top\", top)\n        if((move_el[0].offsetTop > (part_placeholder_el[0].offsetTop + part_placeholder_el.height() + 10)) && part_placeholder_el.next().next().hasClass(\"part_new\")){\n            part_placeholder_el.next().next().before(part_placeholder)\n            part_placeholder_el.remove()\n            \$(\".part_placeholder\").width(move_el.width())\n            \$(\".part_placeholder\").height(move_el.height())\n            \$(\".part_placeholder\").css(\"margin\", move_el.css(\"margin\"))\n        } else if ((move_el[0].offsetTop < part_placeholder_el[0].offsetTop - 10) && part_placeholder_el.prev().hasClass(\"part_new\")) {\n            part_placeholder_el.prev().before(part_placeholder)\n            part_placeholder_el.remove()\n            \$(\".part_placeholder\").width(move_el.width())\n            \$(\".part_placeholder\").height(move_el.height())\n            \$(\".part_placeholder\").css(\"margin\", move_el.css(\"margin\"))\n        }\n    }\n})\n\$(document).off(\'.moveElement\').on(\"mouseup.moveElement\", function(e) {\n    if(move_el){\n        move_el.css(\"left\", \"inherit\")\n        move_el.css(\"top\", \"inherit\")\n        move_el.css(\"position\", \"relative\")\n        move_el.css(\"z-index\", \"inherit\")\n        move_el.css(\"width\", \"100%\")\n        let part_placeholder_el = \$(\".part_placeholder\")\n        part_placeholder_el.after(move_el)\n        part_placeholder_el.remove()\n        move_el = false\n    }\n})\nvar clearCalculator = function(){\n    calculate_editor.setValue(\"\")\n}\nvar clearEditors = function(){\n    editor_headers.setValue(\"\")\n    editor_post_params.setValue(\"\")\n}\n\$(\".hide_part_remove\").click(function(){\n    let el = \$(this).parents(\".part_new\")\n    dialogContext({\n        message: \"Вы уверены, содержимое будет удалено\",\n        func_action: function(){\n            el.find(\"input, textarea\").each(function () {\n                \$(this).val(\"\")\n            })\n            if (el.find(\".preview_file_file\").length > 0) {\n                el.find(\".remove_file\")[0].click()\n            }\n            if (el.find(\"#textbox\").length > 0) {\n                el.find(\"#textbox\").html(\"\")\n            }\n            if (el.find(\"#message_request_type\").length > 0){\n                clearEditors()\n            }\n            if (el.find(\"#message_variables\").length > 0){\n              clearCalculator()\n            }\n            el.hide()\n            checkActiveParts()\n            toggleplaceholder()\n            if (\$(\"#message_buttons\").length > 0) {\n                \$(\"#message_buttons\").val(\"\")\n                initFormButton()\n            }\n        },\n        yes_button: \"Да\",\n        no_button: \"Нет\",\n        close_func: function () {}\n    })\n})\n\$(\".header_messages_form_id\").click(function(){\n    copyToClipboard(\$(this).text().split(\"#\")[1])\n    M.toast({html:\"ID блока успешно скопирован\"})\n})\n\$(\".setting_buttons_item\").click(function(){\n    let id = \$(this).attr(\"data-type\")\n    if (\$(this).hasClass(\"btn-active__blue\")) {\n        let el = \$(\`#\${id}_part\`)\n        el.hide()\n    } else {\n        \$(\`#\${id}_part\`).show()\n    }\n    checkActiveParts()\n})\nfunction checkActiveParts() {\n    \$(\".part_new\").each(function(){\n        let part = \$(this).attr(\"id\").split(\"_part\")[0]\n        if(\$(this).css(\"display\") != \"none\"){\n            \$(\`.setting_buttons_item_\${part}\`).addClass(\"btn-active__blue\")\n        } else {\n            \$(\`.setting_buttons_item_\${part}\`).removeClass(\"btn-active__blue\")\n        }\n    })\n}\nvar calculatorClicked = false;\n\$(\".header_messages_form_type_container_item\").on(\'click\',function(e){\n  e.stopPropagation()\n  e.preventDefault()\n  let new_desc = \$(this).find(\'.header_messages_form_type_container_item_text\').text()\n  \$(\"#message_message_type\").val(\$(this).find(\".header_messages_form_type_container_item_ident\").text())\n\n  \$(\".header_messages_form_type\").html(\$(this).find(\".header_messages_form_type_container_item_icon\").html())\n  \$(\".title_to_change\").text(new_desc)\n  \$(\".type_text\").text(new_desc)\n  \$(\".header_messages_form_type_container\").hide()\n  if (new_desc === \'Комментарий\' && !calculatorClicked) {\n      \$(\'.setting_buttons_item[data-type=\"text\"]\').click();\n      calculatorClicked = true;\n  }\n  toggleBigButtons()\n})\n\$(\".header_messages_form_type\").click(function(){\n    \$(\".header_messages_form_type_container\").toggle()\n})\n\$(\".addition_settings_trigger\").click(function(){\n    \$(this).parent().find(\".addition_settings\").toggle()\n    \$(this).parent().find(\".addition_settings_trigger\").hide()\n})\n\$(\".addition_settings_trigger_hidden\").click(function () {\n    \$(this).parent(\'.addition_settings\').hide()\n    \$(this).parent().parent().find(\".addition_settings_trigger\").show()\n})\n\nvar editorMaxWidth = \$(document).width() - 300\n\$(\"#editor\").resizable({\n    minWidth: 300,\n    maxWidth: editorMaxWidth,\n    resize: function () {\n        calculate_editor.resize();\n    },\n    stop: function () {\n        const width = \$(\"#editor\").width()\n        \$(\"#editor\").css(\"left\", \"auto\")\n        if (\$(\".project-alert__mail-confirm\").length) {\n            \$(\".project-alert__mail-confirm\").css(\'width\', \`calc(100% - \${width}px)\`)\n        }\n        let redactorConditionConstructorModal = \$(\'.redactor_condition_constructor_modal\')\n        if ((\$(document).width() - width) < 960) {\n            redactorConditionConstructorModal.css(\"width\", \"100%\")\n            redactorConditionConstructorModal.css(\"max-width\", \"90%\")\n            redactorConditionConstructorModal.css(\"z-index\", \"15\")\n            redactorConditionConstructorModal.css(\"left\", \"5%\")\n        } else {\n            redactorConditionConstructorModal.css(\"width\", \"650px\")\n            redactorConditionConstructorModal.css(\"max-width\", \"unset\")\n            redactorConditionConstructorModal.css(\"z-index\", \"15\")\n            redactorConditionConstructorModal.css(\"left\", \"unset\")\n        }\n    }\n});\ncalculate_editor.on(\"change\", function(){\n    let value = calculate_editor.getValue()\n    \$(\"#message_variables\").val(value)\n})\n\$(document).ready(function () {\n\n    if(\$(\"#message_variables\").val()){\n        calculate_editor.setValue(\$(\"#message_variables\").val())\n    }\n})\n\n// editor for headers\nvar editor_headers = ace.edit(\"headers\");\neditor_headers.setOptions({\n    enableLiveAutocompletion: true,\n    enableBasicAutocompletion: true,\n    showGutter: false,\n    fontSize: 15,\n    wrapBehavioursEnabled: true,\n    indentedSoftWrap: false,\n    wrap: \"free\",\n    scrollSpeed: 1,\n    maxLines: 50,\n    minLines: 6,\n    vScrollBarAlwaysVisible: false\n});\n\$(\"#editor\").resizable({\n    resize: function () {\n        editor_headers.resize();\n    }\n});\neditor_headers.on(\"change\", function () {\n    let value = editor_headers.getValue()\n    \$(\"#message_headers\").val(value)\n})\n\$(document).ready(function () {\n\n    if (\$(\"#message_headers\").val()) {\n        editor_headers.setValue(\$(\"#message_headers\").val())\n    }\n})\n//editor for post_params\nif(editor_post_params) {\n    editor_post_params.destroy\n}\nvar editor_post_params = ace.edit(\"post_params\");\neditor_post_params.setOptions({\n    enableLiveAutocompletion: true,\n    enableBasicAutocompletion: true,\n    showGutter: false,\n    fontSize: 15,\n    wrapBehavioursEnabled: true,\n    indentedSoftWrap: false,\n    wrap: \"free\",\n    scrollSpeed: 1,\n    maxLines: 50,\n    minLines: 6,\n    vScrollBarAlwaysVisible: false\n});\n\$(\"#editor\").resizable({\n    resize: function () {\n        editor_post_params.resize();\n        calculate_editor.resize()\n    }\n});\neditor_post_params.on(\"change\", function () {\n    let value = editor_post_params.getValue()\n    \$(\"#message_post_params\").val(value)\n})\ncalculate_editor.resize()\ncalculate_editor.setTheme(\"ace/theme/github\");\ncalculate_editor.session.setMode(\"ace/mode/python\");\ncalculate_editor.setShowPrintMargin(false);\neditor_post_params.resize()\neditor_post_params.setTheme(\"ace/theme/github\");\neditor_post_params.session.setMode(\"ace/mode/python\");\neditor_post_params.setShowPrintMargin(false);\neditor_headers.resize()\neditor_headers.setTheme(\"ace/theme/github\");\neditor_headers.session.setMode(\"ace/mode/python\");\neditor_headers.setShowPrintMargin(false);\n\$(document).ready(function () {\n\n    if (\$(\"#message_post_params\").val()) {\n        editor_post_params.setValue(\$(\"#message_post_params\").val())\n    }\n})\n\n\nfunction save_replace_markdown(text, clear_escaping){\n    let tempLine = text.replace(new RegExp(/<div>/g), str => \"§divOpen§\")\n        .replace(new RegExp(/<br>/g), str => \"§break§\")\n        .replace(new RegExp(/<\\/div>/g), str => \"§divClose§\")\n    if (clear_escaping)\n        tempLine = tempLine.replace(regexp_clear_escaping, str => str[1])\n    else\n        tempLine = tempLine.replace(reg_exp_escaping, str => \"\\\\\" + str)\n    return tempLine.replace(new RegExp(/§break§/g), str => \"<br>\")\n        .replace(new RegExp(/§divOpen§/g), str => \"<div>\")\n        .replace(new RegExp(/§divClose§/g), str => \"<\/div>\");\n}\n\nfunction save_replace_html(text, clear_escaping) {\n    let tempLine = text.replace(new RegExp(/<div>/g), str => \"§divOpen§\")\n        .replace(new RegExp(/<br>/g), str => \"§break§\")\n        .replace(new RegExp(/<\\/div>/g), str => \"§divClose§\")\n    if (clear_escaping)\n        tempLine = tempLine.replace(regexp_clear_escaping, str => str[1])\n    else\n        tempLine = tempLine.replace(reg_exp_escaping, str => \"\\\\\" + str)\n    return tempLine.replace(new RegExp(/§break§/g), str => \"<br>\")\n        .replace(new RegExp(/§divOpen§/g), str => \"<div>\")\n        .replace(new RegExp(/§divClose§/g), str => \"<\/div>\");\n}\n\nfunction toggleMarkdownBlock(){\n    if (\$(\".preview_file_solo\").length >= 2) {\n      \$(\'.markdown_block_label\').show()\n      \$(\".actions-toggles__item_enable_markdown\").addClass(\"btn-block__red\")\n      \$(\".setting_buttons_item_buttons\").addClass(\"btn-block__red\")\n    } else {\n      \$(\".actions-toggles__item_enable_markdown\").removeClass(\"btn-block__red\")\n      \$(\".setting_buttons_item_buttons\").removeClass(\"btn-block__red\")\n      \$(\'.markdown_block_label\').hide()\n    }\n}\n\n\$(\'#message_enable_markdown\').change(function(){\n    let text = \$(\'#textbox\').html();\n    let result = \'\'\n    toggleMarkdownBlock()\n    if(this.checked){\n      \$(\'#message_enable_html\').prop(\"checked\", false)\n        \$(\".actions-toggles__item_enable_html\").removeClass(\"btn-active__blue\")\n      \$(\".actions-toggles__item_enable_markdown\").addClass(\"btn-active__blue\")\n      result = save_replace_markdown(text, false)\n    } else {\n      \$(\".actions-toggles__item_enable_markdown\").removeClass(\"btn-active__blue\")\n      result = save_replace_markdown(text, true)\n    }\n    \$(\'#textbox\').html(result);\n    setWordsLenght();\n})\n\$(\'#message_enable_html\').change(function(){\n    let text = \$(\'#textbox\').html();\n    let result = text\n    if(this.checked){\n      \$(\'#message_enable_markdown\').prop(\"checked\", false)\n      \$(\".actions-toggles__item_enable_markdown\").removeClass(\"btn-active__blue\")\n      \$(\".actions-toggles__item_enable_html\").addClass(\"btn-active__blue\")\n      result = save_replace_html(text, true)\n    } else {\n      \$(\".actions-toggles__item_enable_html\").removeClass(\"btn-active__blue\")\n      result = save_replace_html(text, false)\n    }\n    \$(\'#textbox\').html(result);\n    setWordsLenght();\n})\nif(\"false\" == \"true\"){\n    \$(\".actions-toggles__item_enable_markdown\").addClass(\"btn-active__blue\")\n}\nif(\"false\" == \"true\"){\n    \$(\".actions-toggles__item_enable_html\").addClass(\"btn-active__blue\")\n}\n\$(\'#message_protected_content\').change(function(){\n    if(this.checked){\n        \$(\".actions-toggles__item_protected_content\").addClass(\"btn-active__blue\")\n    } else {\n        \$(\".actions-toggles__item_protected_content\").removeClass(\"btn-active__blue\")\n    }\n})\nif(\$(\'#message_protected_content\').is(\':checked\')){\n  \$(\".actions-toggles__item_protected_content\").addClass(\"btn-active__blue\")\n}\n\nif (\$(\'#message_disable_notification\').is(\':checked\')) {\n    \$(\".actions-toggles__item_disable_notification\").addClass(\"btn-active__blue\")\n}\n\$(\'#message_disable_notification\').change(function () {\n    if (this.checked) {\n        \$(\".actions-toggles__item_disable_notification\").addClass(\"btn-active__blue\")\n    } else {\n        \$(\".actions-toggles__item_disable_notification\").removeClass(\"btn-active__blue\")\n    }\n})\n\nif (\$(\'#message_callback_if_seen\').is(\':checked\')) {\n    \$(\".actions-toggles__item_callback_if_seen\").addClass(\"btn-active__blue\")\n}\n\$(\'#message_callback_if_seen\').change(function () {\n    if (this.checked) {\n        \$(\".actions-toggles__item_callback_if_seen\").addClass(\"btn-active__blue\")\n    } else {\n        \$(\".actions-toggles__item_callback_if_seen\").removeClass(\"btn-active__blue\")\n    }\n})\n\n\$(\'#message_save_to_log\').change(function(){\n    if(this.checked){\n        \$(\".actions-toggles__item_message_save_to_log\").addClass(\"btn-active__blue\")\n    } else {\n        \$(\".actions-toggles__item_message_save_to_log\").removeClass(\"btn-active__blue\")\n    }\n})\nif(\$(\'#message_save_to_log\').is(\':checked\')){\n    \$(\".actions-toggles__item_message_save_to_log\").addClass(\"btn-active__blue\")\n}\n\n\$(\'#clear_escaping\').on(\'click\', function(){\n    let text = \$(\'#body-field\').val();\n    let result = text.replace(regexp_clear_escaping, str => str[1]);\n    \$(\'#body-field\').val(result)\n});\n\nfunction save_message(close = false, change= false){\n  needToClose = close\n  form_change_trigger = change\n  \$(\".simple_form\").submit()\n}\n\n\$(\".total_success_button\").click(function(e){\n    \$(\".total_success_button\").css(\"background\", \"#82858A\")\n    \$(\".total_success_button\").html(buttonSpinnerSVG)\n    save_message(true)\n})\n\$(\".succes_help_button_dnt_close\").click(function(){\n    \$(this).html(buttonSpinnerSVG)\n    save_message()\n})\n\$(\"#editor\").on(\"resize\", function(){\n    localStorage.setItem(\"salebot_editor_width\", \$(\"#editor\").width())\n})\nif(localStorage.getItem(\"salebot_editor_width\")){\n    let width = localStorage.getItem(\"salebot_editor_width\")\n    \$(\".scroll_button_helper\").width(width)\n    \$(\"#editor\").width(width)\n}\n\$(\"#text_part\").append(\`\n  <div class=\"super_ident_class\" id=\"body_count\">\${\'true\' ? \'0\' : \$(\"#body-field\").text().length}/4000<\/div>\n\`)\nvar insertTextAtCursorMessages = function (html, is_text = false) {\n    var sel, range;\n    if (window.getSelection) {\n        sel = window.getSelection();\n        if (sel.anchorNode != document.querySelector(\"#textbox\")) {\n            form_message.focus()\n        }\n        if (sel.getRangeAt && sel.rangeCount) {\n            range = sel.getRangeAt(0);\n            range.deleteContents();\n            var el = document.createElement(\"div\");\n            if (is_text) {\n                el.innerText = html;\n            } else {\n                el.innerHTML = html;\n            }\n            var frag = document.createDocumentFragment(), node, lastNode;\n            while ((node = el.firstChild)) {\n                lastNode = frag.appendChild(node);\n            }\n            range.insertNode(frag);\n            if (lastNode) {\n                range = range.cloneRange();\n                range.setStartAfter(lastNode);\n                range.collapse(false);\n                sel.removeAllRanges();\n                sel.addRange(range);\n            }\n        }\n    } else if (document.selection && document.selection.type != \"Control\") {\n        document.selection.createRange().pasteHTML(html);\n    }\n    form_message.focus()\n};\nif (dropArea) {\n    ;[\'dragenter\', \'dragover\', \'dragleave\', \'drop\'].forEach(eventName => {\n        dropArea.addEventListener(eventName, function(e){\n            e.preventDefault()\n            e.stopPropagation()\n        }, false)\n    })\n    dropArea.addEventListener(\"click\", function () {\n        \$(\"#message_file\").click()\n    })\n    ;[\'dragenter\', \'dragover\'].forEach(eventName => {\n        dropArea.addEventListener(eventName, highlight, false)\n    })\n    ;[\'dragleave\', \'drop\'].forEach(eventName => {\n        dropArea.addEventListener(eventName, unhighlight, false)\n    })\n\n    function highlight(e) {\n        dropArea.classList.add(\'highlight\')\n    }\n\n    function unhighlight(e) {\n        dropArea.classList.remove(\'highlight\')\n    }\n\n    dropArea.addEventListener(\'drop\', function(e){\n        \$(\"#message_file\").prop(\"files\", e.dataTransfer.files)\n        addFileFunction(e)\n    }, false)\n}\n\nfunction mark_error(file_id){\n    \$(\".ident_file_\" + file_id).parent().remove()\n}\n\nfunction destroy_file_by_id(file_id, parent = null){\n    \$.ajax({\n        url: \`/projects/569981/messages//destroy_file/\${file_id}\`,\n        type: \"DELETE\",\n        success: function () {\n            if(parent){\n                parent.remove()\n                toggleMarkdownBlock()\n            } else {\n                \$(\".ident_file_\" + file_id).parent().remove()\n            }\n        }\n    })\n}\nfunction destroy_file_func(e){\n    e.stopPropagation()\n    e.preventDefault()\n    let parent = \$(this).parents(\".preview_file_solo\")\n    let file_id = parent.find(\".ident_id\").text()\n    if(file_id && file_id !==\"undefined\"){\n        destroy_file_by_id(file_id, parent)\n    } else {\n        console.log(\"removing file\")\n        \$.ajax({\n            url: \`/projects/569981/messages//destroy_link_file\`,\n            type: \"DELETE\",\n            data: {\n                link: parent.find(\".url_ident\").text() || parent.find(\'a\').eq(0).attr(\'href\')\n            },\n            success: function () {\n                parent.remove()\n            }\n        })\n    }\n}\n\$(\'.remove_file\').off(\"click\")\n\$(\'.remove_file\').click(destroy_file_func)\nfunction addLinkToFileList(){\n    let link = \$(\"#message_attachment_url\").val()\n    \$(\"#message_attachment_url\").val(\"\")\n    \$.ajax({\n        url:\'/projects/569981/messages/upload_link_file\',\n        type:\"POST\",\n        data: {\n            message_id: \"\",\n            link: link,\n            type: \$(\"#message_attachment_type\").val()\n        },\n        success: function(data){\n            if(data.error){\n                return M.toast({html: \"Вы превышаете лимит 10 файлов в одном блоке\"})\n            }\n            success_add_func(data)\n        }\n    })\n}\nfunction success_add_func(data, file = null){\n    \$(\".preview_file_file\").removeClass(\"hidden\")\n\n\n    let fileItem = file\n    let blobURL = \"\"\n    let blobType = \"\"\n    let fileSize = \"\"\n    let name = \"\"\n    if(fileItem){\n        blobURL = fileItem.url\n        blobType = fileItem.type\n        fileSize = (parseFloat(fileItem.size)/1048576).toPrecision(3) + \" mb\"\n        name = fileItem.name\n    } else {\n        blobURL = data.url\n        blobType = data.type\n        fileSize = \"\"\n        name = data.url\n    }\n    if (!blobURL) {\n        blobURL = window.URL.createObjectURL(fileItem);\n    }\n    let typeHTML\n    if (blobType.startsWith(\"image\")) {\n        typeHTML = \`<img src=\"\${blobURL}\"/>\`\n    } else if (blobType.startsWith(\"audio\")) {\n        typeHTML = audioSVG\n    } else if (blobType.startsWith(\"video\")) {\n        typeHTML = \`<video src=\"\${blobURL}\"/>\`\n    } else {\n        typeHTML = fileSVG\n    }\n    \$(\".preview_files_container\").append(identFileHTML({\n        identId: data.file_id,\n        blobURL,\n        typeHTML,\n        name,\n        fileSize\n    }))\n    toggleMarkdownBlock()\n    \$(\".file_preview_pick\").off(\"click\")\n    \$(\".file_preview_pick\").on(\"click\", function (e) {\n        e.stopPropagation()\n    })\n    \$(\'.remove_file\').off(\"click\")\n    \$(\'.remove_file\').click(destroy_file_func)\n}\n\$(\"#message_attachment_url\").on(\"keypress\", function(e){\n    if(e.keyCode === 13){\n        addLinkToFileList()\n    }\n})\n\nfunction identFileHTML (obj) {\n    return \`<div class=\"ident_file_\${obj.identId} preview_file_solo\">\n                        <a class=\"file_preview_pick\" href=\"\${obj.blobURL}\" target=\"_blank\">\${obj.typeHTML}\n                            <div class=\"remove_file\">\n                                <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                                  <path d=\"M0 0H16V16H4C1.79086 16 0 14.2091 0 12V0Z\" fill=\"#1F2937\" fill-opacity=\"0.9\"/>\n                                  <path d=\"M5.19683 4.1363C4.90394 3.8434 4.42907 3.8434 4.13617 4.1363C3.84328 4.42919 3.84328 4.90406 4.13617 5.19696L5.19683 4.1363ZM10.8028 11.8636C11.0957 12.1565 11.5706 12.1565 11.8635 11.8636C12.1564 11.5707 12.1564 11.0959 11.8635 10.803L10.8028 11.8636ZM11.8635 5.19696C12.1564 4.90406 12.1564 4.42919 11.8635 4.1363C11.5706 3.8434 11.0957 3.8434 10.8028 4.1363L11.8635 5.19696ZM4.13617 10.803C3.84328 11.0959 3.84328 11.5707 4.13617 11.8636C4.42907 12.1565 4.90394 12.1565 5.19683 11.8636L4.13617 10.803ZM4.13617 5.19696L10.8028 11.8636L11.8635 10.803L5.19683 4.1363L4.13617 5.19696ZM10.8028 4.1363L4.13617 10.803L5.19683 11.8636L11.8635 5.19696L10.8028 4.1363Z\" fill=\"white\"/>\n                                 <\/svg>\n                            <\/div>\n                            <div class=\"hidden ident_id\">\${obj.identId}<\/div>\n                        <\/a>\n                        <div class=\"file_information\">\n                            <div class=\"file_preview_pick_name\">\${obj.name}<\/div>\n                            <div class=\"file_preview_size\">\${obj.fileSize}<\/div>\n                        <\/div>\n                      <\/div>\`\n}\n\nfunction addFileFunction (e) {\n    e.preventDefault()\n    e.stopPropagation()\n    let message_id = \"\"\n    let file = \$(\"#message_file\").prop(\"files\")[\$(\"#message_file\").prop(\"files\").length - 1]\n    if (message_id != \'\') {\n        let formData = new FormData()\n        formData.append(\"file\", file)\n        formData.append(\"attachments_type\", \$(\"#message_attachment_type\").val())\n        formData.append(\"message_id\", message_id)\n        \$(\".preview_files_container\").append(\`<div class=\"file_loading\"><div class=\"load_screen_page\"><div class=\"windows8\"><div class=\"wBall\" id=\"wBall_1\"><div class=\"wInnerBall\"><\/div><\/div><div class=\"wBall\" id=\"wBall_2\"><div class=\"wInnerBall\"><\/div><\/div><div class=\"wBall\" id=\"wBall_3\"><div class=\"wInnerBall\"><\/div><\/div><div class=\"wBall\" id=\"wBall_4\"><div class=\"wInnerBall\"><\/div><\/div><div class=\"wBall\" id=\"wBall_5\"><div class=\"wInnerBall\"><\/div><\/div><\/div><div class=\"preloader_text\"><\/div><\/div><\/div>\`)\n        \$(\'.load_screen_page .windows8\').css(\'transform\', \'translateX(0)\')\n        \$(\'.load_screen_page .windows8\').css(\'transform\', \'translateY(10%)\')\n        \$(\'.load_screen_page .windows8\').css(\'scale\', \'0.7\')\n        \$(\'.load_screen_page .windows8\').css(\'margin\', \'20px auto\')\n        \$.ajax({\n            url: \"/projects/569981/messages/upload_file\",\n            type: \"POST\",\n            data: formData,\n            contentType: false,\n            processData: false,\n            success: function (data) {\n                \$(\".file_loading\").remove()\n                if (data.error === \"file_type_in_not_valid\") {\n                    return M.toast({html: \"Выберите файл, которые соответсвет типу других файлов в блоке\"})\n                } else if (data.error === \"file_limit\") {\n                    return M.toast({html: \"Вы превышаете лимит 10 файлов в одном блоке\"})\n                } else if (data.error === \"file_too_big\") {\n                    return M.toast({html: \"Размер файла слишком большой. Максимум 20 мб\"})\n                }\n                success_add_func(data, file)\n            }\n        })\n    } else {\n        if (blob_file_list.length >= 10) {\n            return M.toast({html: \"Вы превышаете лимит 10 файлов в одном блоке\"})\n        }\n        blob_file_list.push({file: file, ident_id: Math.random().toString(36).slice(2)})\n        \$(\".preview_file_file\").html(\"\")\n        blob_file_list.forEach(function (item) {\n            if (!item) {\n                return\n            }\n            \$(\".preview_file_file\").removeClass(\"hidden\")\n            // \$(\".dropzone-area\").addClass(\"hidden\")\n            let fileItem = item.file\n            let blobURL = fileItem.url\n            let blobType = fileItem.type\n            let fileSize = (parseFloat(fileItem.size) / 1048576).toPrecision(3) + \" mb\"\n            let name = fileItem.name\n            if (!blobURL) {\n                blobURL = window.URL.createObjectURL(fileItem);\n            }\n            let typeHTML\n            if (blobType.startsWith(\"image\")) {\n                typeHTML = \`<img src=\"\${blobURL}\"/>\`\n            } else if (blobType.startsWith(\"audio\")) {\n                typeHTML = audioSVG\n            } else if (blobType.startsWith(\"video\")) {\n                typeHTML = \`<video src=\"\${blobURL}\"/>\`\n            } else {\n                typeHTML = fileSVG\n            }\n            \$(\".preview_files_container\").append(identFileHTML({\n                identId: item.ident_id,\n                typeHTML,\n                blobURL,\n                fileSize,\n                name,\n            }))\n            toggleMarkdownBlock()\n            \$(\".file_preview_pick\").off(\"click\")\n            \$(\".file_preview_pick\").on(\"click\", function (e) {\n                e.stopPropagation()\n            })\n            \$(\'.remove_file\').off(\"click\")\n            \$(\'.remove_file\').click(function (e) {\n                e.stopPropagation()\n                e.preventDefault()\n                let id = \$(this).parent().find(\".ident_id\").text()\n                blob_file_list = blob_file_list.map(function (item) {\n                    return item.ident_id != id ? item : false\n                })\n                \$(\`.ident_file_\${id}\`).remove()\n            })\n        })\n    }\n    \$(\"#message_file\").val(null)\n    \$(\"#message_file\").prop(\"files\", null)\n}\n\$(\"#message_file\").on(\"change\", addFileFunction)\n\$(\".attachment-list__btn--js\").click(function () {\n    if (\$(this).hasClass(\"btn-active__blue\")) {\n        \$(\".attachment-list__btn--js\").removeClass(\"btn-active__blue\")\n        \$(\"#message_attachment_type\").val(\"\")\n        \$(\".dropzone-area\").slideUp()\n        \$(\".for_shortener_link\").slideUp()\n    } else {\n        \$(\".attachment-list__btn--js\").removeClass(\"btn-active__blue\")\n        \$(this).addClass(\"btn-active__blue\")\n        let type = \$(this).attr(\"data-type\")\n        if (type == \"link\") {\n            \$(\".for_shortener_link\").slideDown()\n        } else {\n            \$(\".for_shortener_link\").slideUp()\n        }\n        \$(\"#message_attachment_type\").val(type)\n        \$(\".dropzone-area\").slideDown()\n\n        if (type == \"image\") {\n            \$(\"#message_file\").attr(\"accept\", \".jpg, .png, .jpeg, .gif, .svg, .jpe, .webp\")\n        } else if (type == \"video\") {\n            \$(\"#message_file\").attr(\"accept\", \".mp4, .flv, .mov\")\n        } else if (type == \"audio\") {\n            \$(\"#message_file\").attr(\"accept\", \".ogg, .midi, .mp3, .wav, .oga, .mpeg, .m4a\")\n        } else {\n            \$(\"#message_file\").attr(\"accept\", \"\")\n        }\n    }\n})\n\n\$(\".for_shortener_link\").click(function () {\n    \$(this).find(\".check_box\").toggleClass(\"check_box_checked\")\n    if (\$(this).find(\".check_box\").hasClass(\"check_box_checked\")) {\n        \$(\"#message_attachment_type\").val(\"link_shortener\")\n    } else {\n        \$(\"#message_attachment_type\").val(\"link\")\n    }\n})\n\$(\".num-message\").click(function(){\n    copyToClipboard(\$(this).text().substring(1))\n    closeRappidPopups()\n    new joint.ui.FlashMessage({\n        title: \"Уведомление\",\n        type: \'info\',\n        content: \"ID блока успешно скопирован\",\n        closeAnimation: {delay: 4000}\n    }).open();\n})\n\$(\".message_timeout_type\").on(\"click\", function(){\n    setTimeout(function(){\n        \$(\".message_timeout_type\").find(\"ul\").css(\"opacity\", \"1\")\n    }, 100)\n})\nif (!\$(\"#message_show_answers\").is(\":checked\")){\n    \$(\".if_show_buttons\").hide()\n}\n\$(\"#message_show_answers\").on(\"change\", function(){\n    if (\$(\"#message_show_answers\").is(\":checked\")) {\n        \$(\".if_show_buttons\").slideDown()\n    } else {\n        \$(\".if_show_buttons\").slideUp()\n    }\n})\nfunction initFormButton(){\n    if (\$(\"#message_buttons\").val()) {\n        if (\$(\"#message_buttons\").val().trim().startsWith(\"#{\")) {\n            \$(\`.form_button_new\`).html(\"\")\n            \$(\`.form_button_new\`).append(\`\n                  <div class=\"form_button_new-row form_button_new-row_bottom\">\n                      <div class=\"btn-dashed-white--m w-100\">Кнопки указаны в переменной<\/div>\n                  <\/div>\n            \`)\n        } else {\n            if (isJSON(\$(\"#message_buttons\").val())) {\n                drawButtons(JSON.parse(\$(\"#message_buttons\").val()))\n            } else {\n                let buttons = []\n                \$(\"#message_buttons\").val().split(\'\\n\').forEach(function(button, line){\n                    let btn_obj   = {line, index_in_line: 0, type: \"reply\"}\n                    let color     = \'\'\n                    if(button.split(\"#\").length > 1){\n                        color = \"#\" + button.split(\"#\")[1]\n                    }\n                    if(color){\n                        btn_obj[\'color\'] = color\n                    }\n                    btn_obj.text = button.split(\"#\")[0].trim()\n                    buttons.push(btn_obj)\n                })\n                console.log(\'11---------1111\')\n                drawButtons(buttons)\n            }\n        }\n    } else {\n        \$(\`.form_button_new\`).html(\"\")\n        \$(\`.form_button_new\`).append(\`\n                        <div class=\"form_button_new-row form_button_new-row_bottom\">\n                            <a style=\"width:100%\" data-remote=\"true\" href=\"/projects/569981/buttons_form/new?line=\${\$(\".form_button_new-row\").length + 1}\">\n                                <div class=\"form_button_new-add-big--js\">\n                                    <div class=\"btn-dashed-white--m w-100\">\n                                        <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                                            <path d=\"M12.75 6C12.75 5.58579 12.4142 5.25 12 5.25C11.5858 5.25 11.25 5.58579 11.25 6H12.75ZM11.25 18C11.25 18.4142 11.5858 18.75 12 18.75C12.4142 18.75 12.75 18.4142 12.75 18H11.25ZM18 12.75C18.4142 12.75 18.75 12.4142 18.75 12C18.75 11.5858 18.4142 11.25 18 11.25V12.75ZM6 11.25C5.58579 11.25 5.25 11.5858 5.25 12C5.25 12.4142 5.58579 12.75 6 12.75V11.25ZM11.25 6V18H12.75V6H11.25ZM18 11.25H6V12.75H18V11.25Z\" fill=\"#95A3BA\"/>\n                                        <\/svg>\n                                        <span>Добавить кнопку<\/span>\n                                    <\/div>\n                                <\/div>\n                            <\/a>\n                        <\/div>\n                    \`)\n    }\n}\ninitFormButton()\nfunction normalizeIndexInLine(current){\n    let res = []\n    let current_line = 0\n    let lines = {}\n    current.sort(function (a, b) {\n        if (a.line >  b.line) return 1\n        if (a.line == b.line) return 0\n        if (a.line <  b.line) return -1\n    })\n    current.forEach(function(button, index, arr){\n        let line = button.line || button.line == 0 ? button.line : current_line\n        let index_in_line = button.index_in_line ? button.index_in_line : 0\n        if((button.type == \"reply\" || button.type == \"inline\" || button.type == \"auto\") && !default_value){\n            default_value = button.type\n            document.getElementById(default_value + \"_button\").click()\n        }\n        if((button.type == \"reply\" || button.type == \"inline\" || button.type == \"auto\") && default_value && button.type != default_value){\n            button.type = default_value\n        }\n        if(!lines[\"line_\"+line]){\n            lines[\"line_\"+line] = []\n        }\n        lines[\"line_\"+line].push({button, index_in_line, line})\n        current_line++\n    })\n    let line_index = 0\n    for(let key in lines){\n        lines[key].sort(function (a, b) {\n            if (a.index_in_line > b.index_in_line) return 1\n            if (a.index_in_line == b.index_in_line) return 0\n            if (a.index_in_line < b.index_in_line) return -1\n        })\n        lines[key].forEach(function(obj, index){\n            obj.button.index_in_line = index\n            obj.button.line = line_index\n            res.push(obj.button)\n        })\n        line_index++\n    }\n    \$(\"#message_buttons\").val(JSON.stringify(res))\n    return res\n}\nfunction removeButton(button){\n  let current = JSON.parse(\$(\"#message_buttons\").val())\n  current = current.filter(function(button_loop, index, arr){\n    if (button.vk_pay || button.login_tg) {\n      return button_loop.id !== button.id\n    } else {\n      return !haveSameData(button, button_loop)\n    }\n  })\n\n  \$(\"#message_buttons\").val(JSON.stringify(current))\n  form_change_trigger = true\n  drawButtons(JSON.parse(\$(\"#message_buttons\").val()))\n}\nfunction drawButtons(current_buttons) {\n    current_buttons = normalizeIndexInLine(current_buttons)\n    \$(\".form_button_type\").show()\n    let current_line = 0\n    let buttons_obj = {}\n    let placeholder_button = \`<div class=\"placeholder_button\"><\/div>\`\n    \$(\`.form_button_new\`).html(\"\")\n    let btns = current_buttons.sort(function (a, b) {\n        if (a.line > b.line) return 1\n        if (a.line == b.line) return 0\n        if (a.line < b.line) return -1\n    })\n    btns.forEach(function (button, index, buttons) {\n        let line = button.line || button.line == 0 ? button.line : current_line\n        let index_in_line = button.index_in_line ? button.index_in_line : 0\n        if (\$(\`.form_button_new-row_\${line}\`).length === 0) {\n            \$(\`.form_button_new\`).append(\`\n                <div class=\"form_button_new-row form_button_new-row_\${line}\">\n                    <div class=\"form_button_new-buttons form_button_new-buttons_\${line}\">\n                    <\/div>\n                    <a data-remote=\"true\" href=\"/projects/569981/buttons_form/new?line=\${line}\">\n                        <div class=\"form_button_new-add--js\">\n                            <div class=\"btn-ghost-grey-square--m\">\n                                <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                                    <path d=\"M12.75 6C12.75 5.58579 12.4142 5.25 12 5.25C11.5858 5.25 11.25 5.58579 11.25 6H12.75ZM11.25 18C11.25 18.4142 11.5858 18.75 12 18.75C12.4142 18.75 12.75 18.4142 12.75 18H11.25ZM18 12.75C18.4142 12.75 18.75 12.4142 18.75 12C18.75 11.5858 18.4142 11.25 18 11.25V12.75ZM6 11.25C5.58579 11.25 5.25 11.5858 5.25 12C5.25 12.4142 5.58579 12.75 6 12.75V11.25ZM11.25 6V18H12.75V6H11.25ZM18 11.25H6V12.75H18V11.25Z\" fill=\"#95A3BA\"/>\n                                <\/svg>\n                            <\/div>\n                        <\/div>\n                    <\/a>\n                <\/div>\n            \`)\n        }\n        if (!buttons_obj[\`line_\${line}\`]) {\n            buttons_obj[\`line_\${line}\`] = []\n        }\n        buttons_obj[\`line_\${line}\`].push({button, index_in_line, line})\n        current_line += 1\n    })\n    let button_index = 0\n    let button_translate = false\n    let button_first_move = false\n    for (let key in buttons_obj) {\n        let arr = buttons_obj[key]\n        let line = key.split(\"line_\")[1]\n        arr.sort(function (a, b) {\n            if (a.index_in_line > b.index_in_line) return 1\n            if (a.index_in_line == b.index_in_line) return 0\n            if (a.index_in_line < b.index_in_line) return -1\n        })\n        arr.forEach(function (button, index, buttons) {\n            let addition_type = \`\`\n            if (button.button.type == \'phone\') {\n                addition_type = \`<div class=\"addition_type\">\n                                    <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                                        <path d=\"M14.25 5.27936C16.6812 5.97562 18.5896 7.90944 19.25 10.3556M9.14286 5H6.31818C5.59017 5 5 5.59017 5 6.31818C5 13.5983 10.9017 19.5 18.1818 19.5C18.9098 19.5 19.5 18.9098 19.5 18.1818V15.3571L16.3929 13.2857L14.7817 14.8968C14.5019 15.1767 14.0837 15.2637 13.7321 15.0821C13.1358 14.774 12.1681 14.1952 11.2143 13.2857C10.2377 12.3545 9.66548 11.3511 9.37829 10.744C9.21734 10.4037 9.31052 10.0109 9.57669 9.74474L11.2143 8.10714L9.14286 5Z\"\n                                              stroke=\"#111827\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n                                    <\/svg>\n                                 <\/div>\`\n            } else if (button.button.type == \'location\') {\n                addition_type = \`<div class=\"addition_type\">\n                                    <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                                        <path d=\"M18.5 11.25C18.5 15.25 12.25 19.5 12.25 19.5C12.25 19.5 6 15.25 6 11.25C6 7.75 8.93629 5 12.25 5C15.5637 5 18.5 7.75 18.5 11.25Z\" stroke=\"#111827\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n                                        <path d=\"M12.25 13.5C13.4926 13.5 14.5 12.4926 14.5 11.25C14.5 10.0074 13.4926 9 12.25 9C11.0074 9 10 10.0074 10 11.25C10 12.4926 11.0074 13.5 12.25 13.5Z\" stroke=\"#111827\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\n                                    <\/svg>\n                                 <\/div>\`\n            } else if (button.button.url) {\n                addition_type = \`<div class=\"addition_type\">\n                                    <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                                        <path d=\"M18.5018 5.49564C16.5077 3.50145 13.2629 3.50145 11.2685 5.49564L5.0682 11.6959C3.64386 13.1204 3.64395 15.4382 5.06839 16.8626C5.78067 17.5748 6.71598 17.931 7.65167 17.9309C8.58711 17.9308 9.52292 17.5748 10.2351 16.8626L15.9185 11.179C16.3325 10.765 16.5606 10.2146 16.5607 9.62905C16.5607 9.04352 16.3327 8.49308 15.9186 8.07896C15.0638 7.2243 13.6731 7.22433 12.8185 8.07911L9.10177 11.7957C8.81642 12.0811 8.81642 12.5437 9.10171 12.8291C9.38702 13.1145 9.84968 13.1144 10.1351 12.8291L13.8518 9.11243C14.1367 8.82752 14.6002 8.82746 14.8852 9.11237C15.0232 9.25037 15.0992 9.43387 15.0992 9.62902C15.0992 9.82418 15.0232 10.0076 14.8852 10.1457L9.20174 15.8292C8.34702 16.6838 6.95639 16.6839 6.10173 15.8292C5.24708 14.9745 5.24701 13.5838 6.10158 12.7291L12.3018 6.52899C13.7264 5.10449 16.0442 5.10449 17.4685 6.52899C18.1586 7.21899 18.5387 8.13646 18.5387 9.1123C18.5387 10.0881 18.1586 11.0056 17.4685 11.6957L11.2684 17.896C10.9831 18.1813 10.9831 18.644 11.2684 18.9293C11.4111 19.0721 11.5981 19.1433 11.7851 19.1433C11.9721 19.1433 12.1591 19.072 12.3018 18.9293L18.5018 12.7291C19.4679 11.763 20 10.4786 20 9.11233C20 7.74611 19.4679 6.46167 18.5018 5.49564Z\" fill=\"#111827\"/>\n                                    <\/svg>\n                                 <\/div>\`\n            }\n            let bg_color = button.button.color && !button.button.color.startsWith(\"#{\") ? button.button.color : false\n            let variable_color = button.button.color && button.button.color.startsWith(\"#{\")\n            let ident = Math.random().toString(36).slice(2)\n            let second_ident = Math.random().toString(36).slice(2)\n            \$(\`.form_button_new-buttons_\${line}\`).append(\`\n              <div class=\"form_button_new-button form_button_new-button_\${button_index}\" style=\"\${bg_color ? \'border-color:\' + bg_color + \';color:\' + bg_color : \'\'}\">\n                <div class=\"remove_button_click remove_button_\${button_index}\">+<\/div>\n                <div class=\"is_variable_color\">\${variable_color ? \"Цвет указан переменной\" : \"\"}<\/div>\n                <div class=\"hidden button_json \${second_ident}\"><\/div>\n                <span class=\"\${ident}\"><\/span>\n                \${addition_type ? addition_type : \'\'}\n              <\/div>\n            \`)\n            \$(\`.\${second_ident}\`).text(JSON.stringify(button.button))\n            \$(\`.\${ident}\`).text(button.button.text ? button.button.text : \'\')\n            \$(\".remove_button_\" + button_index).click(function () {\n                removeButton(button.button)\n            })\n            \$(\".remove_button_\" + button_index).on(\"pointerdown\", function (e) {\n                e.preventDefault()\n                e.stopPropagation()\n            })\n            \$(\".form_button_new-button_\" + button_index).on(\"pointerdown\", function (e) {\n                button_translate = \$(this)\n                button_first_move = true\n            })\n            if(\$(\".form_button_new .form_button_new-button\").length > 1) {\n                \$(\".form_button_new-button_\" + button_index).on(\"pointermove\", function (e) {\n                    if (button_translate && \$(this)[0].classList[1] != button_translate[0].classList[1]) {\n                        if (\$(this).next().hasClass(\'placeholder_button\')) {\n                            \$(\".placeholder_button\").remove()\n                            \$(this).before(placeholder_button)\n                        } else {\n                            \$(\".placeholder_button\").remove()\n                            \$(this).after(placeholder_button)\n                        }\n                        \$(\".form_button_new-buttons\").each(function () {\n                            if (\$(this).find(\".form_button_new-button\").length == 0 && \$(this).find(\".placeholder_button\").length == 0) {\n                                console.log(\'p3p3p3pp3p3p3p3p3\')\n                                \$(this).parent().remove()\n                            }\n                        })\n                    }\n                })\n            }\n            \$(\".form_button_new\").off(\"pointermove\")\n            \$(\"body\").off(\"pointerup\")\n            if(\$(\".form_button_new .form_button_new-button\").length > 1) {\n                \$(\".form_button_new\").on(\"pointermove\", function (e) {\n                    if (button_translate && \$(this).find(\".form_button_new-button\").length == 1 && \$(this).find(\".form_button_new-button\")[0].classList[1] == button_translate[0].classList[1]) {\n                        \$(\".placeholder_button\").remove()\n                        \$(this).append(placeholder_button)\n                    }\n                    if (button_translate) {\n                        if (button_first_move) {\n                            button_translate.css(\"width\", button_translate[0].offsetWidth)\n                            button_translate.after(placeholder_button)\n                            button_translate.css(\"position\", \"fixed\")\n                            button_translate.parent().css(\"z-index\", \"999999999\")\n                            button_translate.css(\"z-index\", \"999999999\")\n                            button_first_move = false\n                        }\n                        button_translate.css(\"left\", e.pageX)\n                        button_translate.css(\"top\", e.pageY)\n                    }\n                })\n            }\n            \$(\"body\").on(\"pointerup\", function () {\n                if (button_translate) {\n                    if (button_first_move) {\n                        button_first_move = false\n                        \$.ajax({\n                            url: \"/projects/569981/buttons_form/new\",\n                            type: \"GET\",\n                            data: JSON.parse(button_translate.find(\".button_json\").text())\n                        })\n                    }\n                    let prev_container = button_translate.parent()\n                    \$(\".placeholder_button\").after(button_translate)\n                    button_translate.css(\"position\", \"relative\")\n                    button_translate.css(\"left\", \"0\")\n                    button_translate.css(\"top\", \"0\")\n                    button_translate.css(\"width\", \"100%\")\n                    button_translate.parent().css(\"z-index\", \"1\")\n                    button_translate.css(\"z-index\", \"1\")\n                    \$(\".placeholder_button\").remove()\n                    if (prev_container.find(\".form_button_new-button\").length == 0) {\n                        prev_container.parent().remove()\n                    }\n                    button_translate = false\n                    form_change_trigger = true\n                    let buttons_json = []\n                    \$(\".form_button_new-buttons\").each(function (line) {\n                        \$(this).find(\".form_button_new-button\").each(function (index_in_line) {\n                            let obj = JSON.parse(\$(this).find(\".button_json\").text())\n                            obj.line = line\n                            obj.index_in_line = index_in_line\n                            buttons_json.push(obj)\n                        })\n                        line++\n                    })\n                    \$(\"#message_buttons\").val(JSON.stringify(buttons_json))\n                }\n            })\n            button_index++\n        })\n    }\n    \$(\`.form_button_new\`).append(\`\n        <div class=\"form_button_new-row form_button_new-row_bottom\">\n            <a style=\"width:100%\" data-remote=\"true\" href=\"/projects/569981/buttons_form/new?line=\${\$(\".form_button_new-row\").length + 1}\">\n                <div class=\"form_button_new-add-big--js\">\n                    <div class=\"btn-dashed-white--m w-100\">\n                        <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                            <path d=\"M12.75 6C12.75 5.58579 12.4142 5.25 12 5.25C11.5858 5.25 11.25 5.58579 11.25 6H12.75ZM11.25 18C11.25 18.4142 11.5858 18.75 12 18.75C12.4142 18.75 12.75 18.4142 12.75 18H11.25ZM18 12.75C18.4142 12.75 18.75 12.4142 18.75 12C18.75 11.5858 18.4142 11.25 18 11.25V12.75ZM6 11.25C5.58579 11.25 5.25 11.5858 5.25 12C5.25 12.4142 5.58579 12.75 6 12.75V11.25ZM11.25 6V18H12.75V6H11.25ZM18 11.25H6V12.75H18V11.25Z\" fill=\"#95A3BA\"/>\n                        <\/svg>\n                        <span>Добавить кнопку<\/span>\n                    <\/div>\n                <\/div>\n            <\/a>\n        <\/div>\n    \`)\n\n\$(\".inline_button_label, .reply_button_label, .auto_button_label\").off(\"click\")\n\$(\".inline_button_label, .reply_button_label, .auto_button_label\").on(\"click\", function (event) {\n    if (\$(event.target).is(\"span\")) {\n        changeButtonType(\$(this)[0].id)\n    }\n})\n    \$(\".form_button_new-add-big--js, .form_button_new-add--js\").on(\"pointermove\", function (e) {\n        if (button_translate) {\n            if (button_translate.parent().find(\".placeholder_button\").length == 1 && button_translate.parent().find(\'.form_button_new-button\').length == 1) {\n                return\n            }\n            \$(\".placeholder_button\").remove()\n            let line = \$(\".form_button_new-buttons\").length + 1\n            let el = \$(this).hasClass(\"form_button_new-add-big--js\") ? \$(\".form_button_new-row_bottom\").prev() : \$(this).parent().parent()\n            el.after(\`\n                <div class=\"form_button_new-row form_button_new-row_\${line}\">\n                    <div class=\"form_button_new-buttons form_button_new-buttons_\${line}\">\n                        \${placeholder_button}\n                    <\/div>\n                    <a data-remote=\"true\" href=\"/projects/569981/buttons_form/new?line=\${line}\">\n                        <div class=\"form_button_new-add--js\">\n                            <div class=\"btn-dashed-white--m w-100\">\n                                <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                                    <path d=\"M12.75 6C12.75 5.58579 12.4142 5.25 12 5.25C11.5858 5.25 11.25 5.58579 11.25 6H12.75ZM11.25 18C11.25 18.4142 11.5858 18.75 12 18.75C12.4142 18.75 12.75 18.4142 12.75 18H11.25ZM18 12.75C18.4142 12.75 18.75 12.4142 18.75 12C18.75 11.5858 18.4142 11.25 18 11.25V12.75ZM6 11.25C5.58579 11.25 5.25 11.5858 5.25 12C5.25 12.4142 5.58579 12.75 6 12.75V11.25ZM11.25 6V18H12.75V6H11.25ZM18 11.25H6V12.75H18V11.25Z\" fill=\"#95A3BA\"/>\n                                <\/svg>\n                            <\/div>\n                        <\/div>\n                    <\/a>\n                <\/div>\n            \`)\n            \$(\".form_button_new-buttons\").each(function () {\n                if (\$(this).find(\".form_button_new-button\").length == 0 && \$(this).find(\".placeholder_button\").length == 0) {\n                    \$(this).parent().remove()\n                }\n            })\n        }\n    })\n}\n\n\nif (true) {\n    if (localStorage.getItem(\"salebot_button_type\")) {\n        default_value = localStorage.getItem(\"salebot_button_type\")\n        \$(\`#\${default_value} > input\`).prop(\"checked\", true)\n    }\n}\n\nfunction changeButtonType(new_type) {\n    default_value = new_type\n    localStorage.setItem(\"salebot_button_type\", new_type)\n    let obj = JSON.parse(\$(\"#message_buttons\").val())\n    obj.forEach(function (button, index) {\n        let current_type = button.type\n        if (current_type == \"reply\" || current_type == \"inline\" || current_type == \"auto\") {\n            button.type = new_type\n        }\n        if (button.web_app) {\n            if (new_type == \"reply\") {\n                button.type = \"web_app\"\n            } else {\n                button.type = new_type\n            }\n        }\n    })\n    \$(\"#message_buttons\").val(JSON.stringify(obj))\n    drawButtons(JSON.parse(\$(\"#message_buttons\").val()))\n}\n\$(\"#message_buttons\").on(\"blur\", initFormButton)\n\$(\".simple_form\").on(\"submit\", function(e){\n    let comment_trigger = false && m_type.val() == 8\n    let post_params_trigger = parseInt(\$(\"#message_request_type\").val()) > 0 && \$(\"#message_post_params\").val() == \'\'\n    let expression_trigger = \$(\"#message_condition\").val().split(/!=|==/g).length > 1\n    if(\$(\"#message_buttons\").val() == \"[]\"){\n        \$(\"#message_buttons\").val(\'\')\n    }\n    if(comment_trigger && !confirm(\"Все стрелки к этому блоку будут удалены. Сменить тип на комментарий?\")){\n        e.preventDefault()\n        e.stopPropagation()\n    }\n    if(post_params_trigger && !confirm(\"Вы выбрали POST запрос и не указали JSON POST-параметров. Вы хотите сохранить блок ?\")){\n        e.preventDefault()\n        e.stopPropagation()\n    }\n    if(expression_trigger && !confirm(\"Вы написали логическое выражение в условие, а не в переменную для сравнения. Оставить как есть ?\")){\n        e.preventDefault()\n        e.stopPropagation()\n    }\n})\n\$(\".preview_file\").click(function(e){\n    e.stopPropagation()\n    e.preventDefault()\n    let url = \"\"\n    let type = \"\"\n    let el = \$(\".preview_file_file\")\n    if (type) {\n        \$(\".preview_file\").remove()\n        if (type.startsWith(\"audio\")) {\n            el.html(\`<audio onerror=\"file_on_error(\'\${url}\')\" src=\"\${url}\" style=\"margin-bottom: 10px\" class=\"file_item get_content_type\" controls=\"true\"/>\`)\n        } else if (type.startsWith(\"image\")) {\n            el.html(\`<img onerror=\"file_on_error(\'\${url}\')\" src=\"\${url}\" class=\"file_preview_img\"/>\`)\n        } else if (type.startsWith(\"video\")) {\n            el.html(\`<video onerror=\"file_on_error(\'\${url}\')\" src=\"\${url}\" class=\"file_preview_video\" controls=\"true\"/>\`)\n        } else if (type.startsWith(\"text\")) {\n            el.html(\`<a href=\"\${url}\" class=\"link_file\" target=\"_blank\">Ссылка: \${url}<\/a>\`)\n        } else {\n            el.html(\`<a href=\"\${url}\" class=\"link_file\" target=\"_blank\">Неопределенный файл: \${url}<\/a>\`)\n        }\n    } else {\n        \$.ajax({\n            url: \"https://chatter.salebot.pro/get_extension\",\n            type: \"POST\",\n            data: {url: url},\n            success: function (data) {\n                \$(\".preview_file\").remove()\n                if (data != \"404\") {\n                    if (data == (\".ogg\") || data == (\".midi\") || data == (\".mp3\") || data == (\".wav\") || data == (\".m4a\") || data == (\".oga\")) {\n                        el.html(\`<audio onerror=\"file_on_error(\'\${url}\')\" src=\"\${url}\" style=\"margin-bottom: 10px\" class=\"file_item get_content_type\" controls=\"true\"/>\`)\n                    } else if (data == (\".png\") || data == (\".jpg\") || data == (\".jpeg\") || data == (\".gif\") || data == (\".svg\") || data == (\".jpe\")) {\n                        el.html(\`<img onerror=\"file_on_error(\'\${url}\')\" src=\"\${url}\" class=\"file_preview_img\"/>\`)\n                    } else if (data == (\".mp4\") || data == (\".flv\") || data == (\".mov\")) {\n                        el.html(\`<video onerror=\"file_on_error(\'\${url}\')\" src=\"\${url}\" class=\"file_preview_video\" controls=\"true\"/>\`)\n                    } else if (data.search(\"htm\") != -1) {\n                        el.html(\`<a href=\"\${url}\" class=\"link_file\" target=\"_blank\">Ссылка: \${url}<\/a>\`)\n                    } else {\n                        el.html(\`<a href=\"\${url}\" target=\"_blank\" class=\"chat-message__attach file_item get_content_type\">\n                                                             <span class=\"chat-message__attach-name\">Вложение<\/span>\n                                                             \${fileSVG}\n                                                       <\/a>\`)\n                    }\n                } else {\n                    el.html(\`<a href=\"\${url}\" class=\"link_file\" target=\"_blank\">Неопределенный файл: \${url}<\/a>\`)\n                }\n            },\n            error: function (error) {\n                \$(\".preview_file\").remove()\n                el.append(\`<div class=\"file_on_error\">Произошла ошибка<\/div>\`)\n            }\n        })\n    }\n})\n\$(\".simple_form input, .simple_form textarea, .simple_form select\").on(\"input change\", function(){\n    form_change_trigger = true\n})\n\$(\".btn-success\").on(\'mouseover\', function () {\n    get_center()\n});\n\$(\"#message_attachment_url\").on(\"change\", function(){\n    console.log(\"CHANGE FILES\")\n\n})\n\$(\".btn-success\").on(\'click\', function (e) {\n    if((\$(\'#message_attachment_url\').val() != \'\' || \$(\"#message_file\").val() != \"\") && \$(\"#message_attachment_type\").val() == \'\'){\n        M.toast({html:\"translation missing: ru.req_for_attachment\"})\n        e.preventDefault()\n        e.stopPropagation()\n    }\n});\n\$(\"#editor\").resizable({\n    handles: \'w\'\n});\n\$(\'.pro_s\').click(function () {\n    \$(this).toggleClass(\'lnk--active\')\n    \$(\'#pro_part\').toggle();\n});\n\$(\'.buttons_s\').click(function () {\n    \$(this).toggleClass(\'lnk--active\')\n    \$(\'#buttons_part\').toggle();\n});\n\$(\'.attachment_s\').click(function () {\n    \$(this).toggleClass(\'lnk--active\')\n    \$(\'#attachment_part\').toggle();\n});\n\n// new joint.ui.Tooltip({\n//     rootTarget: document.body,\n//     target: \"[data-tooltip]\",\n//     padding: 15,\n//     animation: {\n//         delay: \"500ms\",\n//         duration: \"100ms\"\n//     }\n// });\n\$(\'select\').formSelect();\n\n\$(\'.state_select_main_ident\').searchableFormSelect();\n\$(\'.list_select_main_ident\').searchableFormSelect();\n\$(\'.label_select_main_ident\').searchableFormSelect();\n\nif (m_request_type.val().length > 0 || \$(\'#message_variables\').val().length > 0) {\n    \$(\'.pro_s\').remove();\n    \$(\'#pro_part\').show();\n}\n\nif (\$(\'#message_hint\').val().length > 0 ||\n    \$(\'#message_buttons\').val().length > 0){\n}\n\nif (\$(\'#message_attachment_type\').val().length > 0) {\n    \$(\'.attachment_s\').remove();\n    \$(\'#attachment_part\').show();\n}\n\nif (parseInt(m_type.val()) == 1 || parseInt(m_type.val()) == 3 ||\n    parseInt(m_type.val()) == 4 || parseInt(m_type.val()) == 5) {\n    mc.show();\n}\nif (parseInt(m_type.val()) == 3) {\n    mt.show()\n}\nif (m_request_type.val() !== \'\') {\n    mu.show();\n    var val = parseInt(m_request_type.val());\n    if (needShowParams(val)) {\n        m_post_params.show();\n    }\n}\nm_request_type.change(function () {\n    if (m_request_type.val() === \'\') {\n        mu.slideUp();\n    } else {\n        var val = parseInt(m_request_type.val());\n        if (needShowParams(val)) {\n            m_post_params.show();\n        } else {\n            m_post_params.hide();\n        }\n        mu.slideDown();\n    }\n});\n\nm_type.change(function () {\n    console.log(m_type.val())\n    if (m_type.val() == 1 || m_type.val() == 3 || m_type.val() == 4 || m_type.val() == 5) {\n        mc.slideDown();\n    } else {\n        mc.slideUp();\n    }\n    if (parseInt(m_type.val()) == 3) {\n        mt.slideDown();\n    } else {\n        mt.slideUp();\n    }\n    if (m_type.val() == 8) {\n        \$(\'#additional_types\').hide()\n        \$(\'#additional_functions\').hide()\n    } else {\n        \$(\'#additional_types\').show()\n        \$(\'#additional_functions\').show()\n    }\n});\n\nfunction needShowParams(val) {\n    return val == 1 || val == 2 || val == 3 || val == 4 || val == 5\n}\n\$(document).off(\'.dropDown\').on(\"pointerup.dropDown\", function (e) {\n\n    if (!\$(\".dropdown-content.select-dropdown\").is(e.target) && !\$(\".change_time_container\").is(e.target)) {\n        \$(\".change_time_container\").hide()\n    }\n    if(!\$(\"#message_description\").is(e.target)){\n        \$(\".title_to_change\").show()\n        \$(\".message_description_input\").addClass(\"hidden\")\n    }\n})\n\$(document).off(\'.headerMessageType\').on(\"click.headerMessageType\", function (e) {\n    var clickTarget = \$(\".header_messages_form_type\");\n    var hideList = \$(\".header_messages_form_type_container\")\n    if (\$(e.target).parents(\".header_messages_form_type_container\").length > 0) {\n      hideList.hide()\n    }\n    if (!clickTarget.is(e.target) && clickTarget.has(e.target).length === 0) {\n      hideList.hide()\n    }\n})\ncheckActiveParts()\n\n\$(\'.editor_close_bar\').on(\"click\", function (e) {\n  \$(\'#editor\').hide()\n});\n\n\nvar toggleplaceholder = function (e) {\n    if (form_message.html() != \"\") {\n        textbox_placeholder.addClass(\"hidden\")\n    } else {\n        textbox_placeholder.removeClass(\"hidden\")\n    }\n}\n\nfunction isWindows() {\n    return navigator.platform.indexOf(\'Win\') > -1\n}\nvar form_message_on_paste = function (e) {\n    e.originalEvent.stopPropagation()\n    e.originalEvent.preventDefault()\n    document.execCommand(\"insertText\", false, e.originalEvent.clipboardData.getData(\"text\").replace(/\\r\\n|\\r|\\n/gm, \"\\n\"));\n    toggleplaceholder()\n}\nvar setWordsLenght = function () {\n    \$(\"#message_answer\").val(regexp())\n    let len = \$(\"#message_answer\").val().length\n    \$(\".super_ident_class\").text(len + \"/4000\")\n    if (len > 1024 && file_selected) {\n        M.toast({html: \"Текст сообщения превышает длину в 1024 символа, ваша фотография будет прикреплена ссылкой\"})\n    }\n}\n\n\$(\"#text_part\").on(\"input\", setWordsLenght);\n\nform_message.on(\"input\", function(){\n    toggleplaceholder()\n    form_change_trigger = true\n})\nform_message.on(\'paste\', function(e){\n    form_message_on_paste(e)\n});\nform_message.on(\'blur\', function(e){\n    setWordsLenght()\n});\ntextbox_placeholder.on(\"click\", () => form_message.focus())\nvar insertTextAtCursor = function (html, is_text = false) {\n    var sel, range;\n    if (window.getSelection) {\n        sel = window.getSelection();\n        if (sel.anchorNode != document.querySelector(\"#textbox\")) {\n            form_message.focus()\n        }\n        if (sel.getRangeAt && sel.rangeCount) {\n            range = sel.getRangeAt(0);\n            range.deleteContents();\n            var el = document.createElement(\"div\");\n            if (is_text) {\n                el.innerText = html;\n            } else {\n                el.innerHTML = html;\n            }\n            var frag = document.createDocumentFragment(), node, lastNode;\n            while ((node = el.firstChild)) {\n                lastNode = frag.appendChild(node);\n            }\n            range.insertNode(frag);\n            if (lastNode) {\n                range = range.cloneRange();\n                range.setStartAfter(lastNode);\n                range.collapse(false);\n                sel.removeAllRanges();\n                sel.addRange(range);\n            }\n        }\n    } else if (document.selection && document.selection.type != \"Control\") {\n        document.selection.createRange().pasteHTML(html);\n    }\n    form_message.focus()\n    toggleplaceholder()\n};\nvar emojis = \$(\".emojis\")\nvar emojipicker = \$(\".emojipicker_for_messages--js\")\nvar emoji_item = \$(\".emoji_item\")\nvar emoji_type_changer = function (e) {\n    e.stopPropagation()\n    e.preventDefault()\n    let type = \$(this).find(\".type_id\").text()\n    \$(\".emoji_type\").addClass(\"hidden\")\n    \$(\".\" + type + \"_type_emoji\").removeClass(\"hidden\")\n}\nvar emoji_click = function (e) {\n    e.stopPropagation()\n    e.preventDefault()\n    insertTextAtCursor(\$(this).html())\n    toggleplaceholder()\n}\n\nemojipicker.off(\'click\').on(\'click\', function (e) {\n  e.stopPropagation()\n  e.preventDefault()\n  if (\$(this).hasClass(\'btn-active__blue\')) {\n    emojis.addClass(\"hidden\")\n    \$(this).removeClass(\'btn-active__blue\')\n  } else {\n    emojis.removeClass(\"hidden\")\n    \$(this).addClass(\'btn-active__blue\')\n  }\n\n  emoji_item.Emoji()\n  \$(\".emoji_prew\").Emoji()\n});\n\n\$(\'.emojis\').off(\'mousemove\').on(\'mousemove\', function () {\n  \$(\'.joint-tooltip\').remove()\n})\n\n//определить !\n\$(\".type_ident\").mousedown(emoji_type_changer)\nemoji_item.mousedown(emoji_click)\n\$(document).off(\'.documentMouseUp\').on(\'mouseup.documentMouseUp\',function (e) {\n  if (\$(\'.for_emojis--js\').has(e.target).length === 0 && emojipicker.has(e.target).length === 0)  {\n    emojis.addClass(\'hidden\');\n    emojipicker.removeClass(\'btn-active__blue\')\n  }\n});\nvar toggleBigButtons = function (){\n    let type = parseInt(\$(\"#message_message_type\").val())\n    \$(\".setting_buttons_item_condition\").hide()\n    \$(\".setting_buttons_item_time\").hide()\n    let condition_types = [1,3,4,5]\n    if (condition_types.includes(type)) {\n        \$(\".setting_buttons_item_condition\").show()\n        mc.show()\n    }\n    if (type == 3) {\n        \$(\".setting_buttons_item_time\").show()\n        mt.show()\n        \$(\'.message_response_only_to_callback\').hide()\n    }\n    if (!condition_types.includes(type)) {\n        mc.hide()\n    }\n    if (type != 3) {\n        mt.hide()\n        \$(\'.message_response_only_to_callback\').show()\n    }\n    checkActiveParts()\n}\nvar regexp = function () {\n    let res = form_message.html().replace(emoji_regexp, \"\$1\")\n        .replace(div_br_regexp, \"\\n\")\n        .replace(br_regexp, \"\\n\")\n        .replace(div_regexp, \"\\n\")\n        .replace(font_regexp, \"\")\n        .replace(font_c_regexp, \"\")\n        .replace(div_c_regexp, \"\")\n        .replace(space_regexp, \" \")\n        .replace(span_regexp, \"\$1\")\n        .replace(pre_regexp, \"\$1\")\n        .replace(/&amp;/g, \"&\")\n    res = html_escape(res)\n    return res\n}\nfunction insertTextInTexarea(){\n  let text = html_escape(\$(\"#message_answer\").val().replace(/\\n/g, \"<\/br>\"))\n  return text\n}\nform_message.html(insertTextInTexarea())\n\ntoggleplaceholder()\ntoggleBigButtons()\ncheckActiveParts()\nsetWordsLenght()\n\n\$(\`.attachment-list__btn--js[data-type=\'\${attachment_type_new_style}\']\`).click()\nif(attachment_type_new_style === \"link_shortener\"){\n    \$(\`.attachment-list__btn--js[data-type=\'link\']\`).click()\n    \$(\".for_shortener_link .check_box\").addClass(\"check_box_checked\")\n    \$(\"#message_attachment_type\").val(\"link_shortener\")\n}\n\nif (\$(\'#message_analytics_value\').val() === \'\') {\n  \$(\'.analytics_value_input\').hide()\n} else {\n  \$(\'.add_action_analytics_variables\').hide()\n}\n\$(\'.add_action_analytics_variables\').off(\'click\').on(\'click\', function () {\n  \$(\'.analytics_value_input\').show()\n  \$(\'.add_action_analytics_variables\').hide()\n})\ntoggleMarkdownBlock()\n\n\$(\".messages-generate-text-icon\").on(\"click\", function (){\n    \$.ajax({\n        url: \'/projects/569981/ai_assistant/generate_text_modal\',\n        method: \"POST\",\n        data: {\n            type: 1\n        }\n    })\n})<\/script>");
        }
    }
}
//перерендер тулипов
$(document).ready(function () {
  renderTooltips()
});

if (false) {
    const url = new URL(document.location);
    const searchParams = url.searchParams;
    searchParams.delete("need_reload");
    window.history.pushState({}, '', url.toString());
    location.reload()
}

setTitle("Репетитор", "Конструктор воронок")
setMenuChecked('.messages');


var sheet_param = "" || null
var stroke_color = "#4C5D75"
var arrow_stroke_color = "#95A3BA"
var sheets = []
var form_change_trigger = false
var needToClose = true
var current_time = false
var fileIconPreview = `<svg width="15" height="11" x="5" y="35" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 11" fill="transparent">
    <path d="M8.64583 3.5415H6.16667V1.06234M2.66667 9.37484H7.625C8.26935 9.37484 8.79167 8.85252 8.79167 8.20817V3.39567L6.3125 0.916504H2.66667C2.02233 0.916504 1.5 1.43884 1.5 2.08317V8.20817C1.5 8.85252 2.02233 9.37484 2.66667 9.37484Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>`
var linkIconPreview = `<svg width="15" height="11" x="5" y="35" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11 11" fill="transparent">
    <path d="M7.91245 5.87079L8.64162 5.14162C9.60815 4.17509 9.60815 2.60812 8.64162 1.64162C7.6751 0.675124 6.10815 0.675124 5.14162 1.64162L4.41245 2.37079M2.37079 4.41245L1.64162 5.14162C0.675124 6.10814 0.675124 7.67509 1.64162 8.64162C2.60812 9.60814 4.1751 9.60814 5.14162 8.64162L5.87079 7.91245M6.45412 3.82912L3.82912 6.45412" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>`
var videoIconPreview = `<svg width="12" height="10" x="5" y="35" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 10" fill="transparent">
    <path d="M7.99992 3.6V3.5C7.99992 2.39543 7.10449 1.5 5.99992 1.5H3.33325C2.22868 1.5 1.33325 2.39543 1.33325 3.5V6.5C1.33325 7.60457 2.22868 8.5 3.33325 8.5H5.99992C7.10449 8.5 7.99992 7.60457 7.99992 6.5V6.4M7.99992 3.6L10.6666 2.2V7.8L7.99992 6.4M7.99992 3.6V6.4" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"/>
    </svg>`
var imageIconPreview = `<svg width="15" height="11" x="5" y="35" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11 11" fill="transparent">
    <path d="M0.916748 7.47925L2.51869 5.44149C2.97294 4.86364 3.84189 4.84474 4.32085 5.40229L5.72925 7.04175M4.513 5.626C5.11803 4.85641 5.96101 3.76607 6.0159 3.69513C6.01782 3.69259 6.01969 3.69019 6.02167 3.68768C6.47679 3.11357 7.34292 3.09597 7.82085 3.65227L9.22925 5.29175M2.08341 9.37508H8.20842C8.85277 9.37508 9.37508 8.85277 9.37508 8.20842V2.08341C9.37508 1.43908 8.85277 0.916748 8.20842 0.916748H2.08341C1.43908 0.916748 0.916748 1.43908 0.916748 2.08341V8.20842C0.916748 8.85277 1.43908 9.37508 2.08341 9.37508Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>`
var audioIconPreview = `<svg width="15" height="11" x="5" y="35" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="volume-down" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" class="svg-inline--fa fa-volume-down fa-w-12 fa-5x"><path fill="currentColor" d="M215.03 72.04L126.06 161H24c-13.26 0-24 10.74-24 24v144c0 13.25 10.74 24 24 24h102.06l88.97 88.95c15.03 15.03 40.97 4.47 40.97-16.97V89.02c0-21.47-25.96-31.98-40.97-16.98zm123.2 108.08c-11.58-6.33-26.19-2.16-32.61 9.45-6.39 11.61-2.16 26.2 9.45 32.61C327.98 229.28 336 242.62 336 257c0 14.38-8.02 27.72-20.92 34.81-11.61 6.41-15.84 21-9.45 32.61 6.43 11.66 21.05 15.8 32.61 9.45 28.23-15.55 45.77-45 45.77-76.88s-17.54-61.32-45.78-76.87z" class=""></path></svg>`
var apiIconPreview = `<svg  width="10" height="10" x="125" y="37" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 10" fill="none">
    <path d="M3.39575 0.770752H1.93742C1.29309 0.770752 0.770752 1.29309 0.770752 1.93742V8.06242C0.770752 8.70677 1.29309 9.22908 1.93742 9.22908H8.06242C8.70677 9.22908 9.22908 8.70677 9.22908 8.06242V6.60408M9.22908 3.39575V0.770752H6.60408M9.08325 0.916585L4.85408 5.14575" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>`
var interSheetSvg = `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="11" x="15" y="19" viewBox="0 0 16 11" fill="none"><path d="M1 10H1.70252C3.12519 10 4.44079 9.24435 5.15763 8.01548L6.34237 5.98451C7.05921 4.75564 8.37481 4 9.79748 4L14 4M14 4L10.7581 7M14 4L10.7581 1" stroke="#626F7F" stroke-width="1.8" stroke-linecap="round"/></svg>`
var copyTitle = 'Кликните в то место, куда хотите скопировать выделенные элементы или нажмите ESC, чтобы отменить копирование.</br><span style="font-weight: 600">Вы можете перейти в другой проект, и сделать вставку в нем. </span>'
var selected_block;
var romb_path = 'M0 -8 L-10 0 L0 8 L10 0 Z';
var arrow_path = 'M 0 -2.5 L -5 0 L 0 2.5 Z';
var items = {};
var iconAttachments = [];
var apiAttachments = [];
var commentsBlocks = [];
var element = $('#paper-html-elements');
var messages = [{"id":41903637,"project_id":569981,"condition":"/start","answer":"Здравствуйте! Я ваш виртуальный помощник по репетиторству английского языка. Рад приветствовать вас на этом увлекательном пути изучения языка, который откроет перед вами новые горизонты и возможности. Независимо от вашего уровня — будь то новичок или продвинутый — я здесь, чтобы поддержать вас и помочь достичь ваших целей.\r\n\r\nМоя задача — сделать процесс обучения интересным и эффективным. Мы можем работать над грамматикой, словарным запасом и навыками общения. Я предложу вам разнообразные упражнения и материалы, которые помогут закрепить полученные знания. \r\n\r\nДавайте вместе сделаем изучение английского языка увлекательным и продуктивным!","description":"","x":330,"y":262,"message_type":1,"action_url":"","created_at":"2025-02-14T04:43:27.316+03:00","updated_at":"2025-02-14T08:47:36.984+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"[{\"line\":0,\"index_in_line\":0,\"text\":\"Начнём обучение.\",\"type\":\"inline\"}]","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{\"attachments\":[]}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41903643,"project_id":569981,"condition":"#{none}","answer":"Введите Ваш уровень.","description":"","x":330,"y":410,"message_type":0,"action_url":"","created_at":"2025-02-14T04:50:23.748+03:00","updated_at":"2025-02-14T08:37:06.333+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"[{\"line\":0,\"index_in_line\":0,\"text\":\"A1.\",\"type\":\"inline\"},{\"line\":1,\"index_in_line\":0,\"text\":\"A2.\",\"type\":\"inline\"},{\"line\":2,\"index_in_line\":0,\"text\":\"B1.\",\"type\":\"inline\"},{\"line\":3,\"index_in_line\":0,\"text\":\"B2.\",\"type\":\"inline\"}]","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":false,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{\"attachments\":[]}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41903748,"project_id":569981,"condition":"A1.","answer":"Уровень A1 в английском языке представляет собой начальную стадию изучения, где учащиеся осваивают базовые слова и фразы, связанные с повседневной жизнью. На этом уровне они могут строить простые предложения в настоящем времени и задавать элементарные вопросы. Учащиеся способны читать и понимать короткие тексты, такие как объявления или меню. Они также могут вести простые диалоги, представляя себя и обсуждая знакомые темы. Уровень A1 — это основа для дальнейшего изучения языка и развития уверенности в общении.","description":"","x":590,"y":920,"message_type":1,"action_url":"","created_at":"2025-02-14T05:23:13.622+03:00","updated_at":"2025-02-14T09:14:11.899+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"\"Не желаете выучить пару словечек?\" Места B1. Предметы B1. Друзья B1. Чувства B1. Эмоции B1.","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"[{\"line\":0,\"index_in_line\":0,\"text\":\"Упражнения А1.\",\"type\":\"reply\"},{\"line\":1,\"index_in_line\":0,\"text\":\"Новые слова (1) А1.\",\"type\":\"reply\"}]","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{\"attachments\":[]}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41903750,"project_id":569981,"condition":"A2.","answer":"Уровень A2 в английском языке представляет собой элементарный уровень, на котором учащиеся могут понимать и использовать простые фразы и выражения, связанные с повседневными задачами. Они способны общаться на знакомые темы, такие как работа, семья и досуг, и могут задавать и отвечать на простые вопросы. Учащиеся начинают читать короткие тексты и понимать основное содержание, а также писать простые заметки и сообщения. На этом уровне они учатся использовать простые грамматические конструкции, такие как прошедшее и будущее время. Уровень A2 помогает укрепить уверенность в использовании языка и подготавливает к более сложным аспектам общения.","description":"","x":710,"y":230,"message_type":1,"action_url":"","created_at":"2025-02-14T05:25:08.260+03:00","updated_at":"2025-02-14T07:17:23.367+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"[{\"line\":0,\"index_in_line\":0,\"text\":\"Упражнения А2.\",\"type\":\"reply\"},{\"line\":1,\"index_in_line\":0,\"text\":\"Новые слова (1) А2.\",\"type\":\"reply\"}]","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{\"attachments\":[]}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41903752,"project_id":569981,"condition":"B1.","answer":"Уровень B1 в английском языке обозначает промежуточный уровень владения, на котором учащиеся могут понимать основные идеи текстов на знакомые темы, такие как работа, учеба и досуг. Они способны общаться в большинстве ситуаций, возникающих во время путешествий в англоговорящих странах. Учащиеся могут описывать свои впечатления, мечты и амбиции, а также давать простые объяснения и обоснования своих мнений. На этом уровне происходит активное расширение словарного запаса и улучшение грамматических навыков, включая использование различных времен и конструкций. Уровень B1 позволяет уверенно участвовать в разговорах и понимать более сложные тексты, что открывает новые возможности для общения и обучения.","description":"","x":60,"y":480,"message_type":1,"action_url":"","created_at":"2025-02-14T05:26:57.994+03:00","updated_at":"2025-02-14T09:19:24.579+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"\"На какую тему Вы бы хотели выучить слова?\"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"[{\"line\":0,\"index_in_line\":0,\"text\":\"Упражнения B1.\",\"type\":\"reply\"},{\"line\":1,\"index_in_line\":0,\"text\":\"Словечки В1.\",\"type\":\"reply\"}]","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{\"attachments\":[]}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41903754,"project_id":569981,"condition":"B2.","answer":"Уровень B2 в английском языке обозначает Upper Intermediate, что позволяет учащимся уверенно общаться на разнообразные темы. На этом уровне они способны понимать основные идеи сложных текстов, включая специализированные статьи и обсуждения. Учащиеся могут выражать свои мысли и мнения ясно и подробно, а также аргументировать свою точку зрения. Они начинают свободно использовать различные грамматические конструкции и расширяют свой словарный запас, включая идиомы и фразовые глаголы. Уровень B2 открывает двери к более глубокому пониманию языка и культуре, позволяя вести обсуждения на более высоком уровне сложности.","description":"","x":-40,"y":1150,"message_type":1,"action_url":"","created_at":"2025-02-14T05:29:48.104+03:00","updated_at":"2025-02-14T14:44:00.910+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"[{\"line\":0,\"index_in_line\":0,\"text\":\"Упражнения B2.\",\"type\":\"reply\"},{\"line\":1,\"index_in_line\":0,\"text\":\"Новые слова (1) B2.\",\"type\":\"reply\"}]","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{\"attachments\":[]}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41903962,"project_id":569981,"condition":"Упражнения A1.","answer":"Какую бы тему Вы хотели изучить?","description":"","x":480,"y":1020,"message_type":1,"action_url":"","created_at":"2025-02-14T05:52:33.128+03:00","updated_at":"2025-02-14T09:07:21.984+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"Не желаете выучить пару словечек? Места B1. Предметы B1. Друзья B1. Чувства B1. Эмоции B1.","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"[{\"line\":0,\"index_in_line\":0,\"text\":\"Алфавит и произношение A1.\",\"type\":\"inline\"},{\"line\":1,\"index_in_line\":0,\"text\":\"Существительные A1.\",\"type\":\"inline\"},{\"line\":2,\"index_in_line\":0,\"text\":\"Местоимения A1.\",\"type\":\"inline\"},{\"line\":3,\"index_in_line\":0,\"text\":\"Глаголы A1.\",\"type\":\"inline\"},{\"line\":4,\"index_in_line\":0,\"text\":\"Прилагательные A1.\",\"type\":\"inline\"},{\"line\":5,\"index_in_line\":0,\"text\":\"Числа и время A1.\",\"type\":\"inline\"}]","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{\"attachments\":[]}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41903969,"project_id":569981,"condition":"Упражнения A2.","answer":"Какую бы тему Вы хотели изучить?","description":"","x":590,"y":330,"message_type":1,"action_url":"","created_at":"2025-02-14T06:00:42.450+03:00","updated_at":"2025-02-14T07:17:45.380+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"[{\"line\":0,\"index_in_line\":0,\"text\":\"Настоящее время A2.\",\"type\":\"inline\"},{\"line\":1,\"index_in_line\":0,\"text\":\"Прошедшее время A2.\",\"type\":\"inline\"},{\"line\":2,\"index_in_line\":0,\"text\":\"Будущее время A2.\",\"type\":\"inline\"},{\"line\":3,\"index_in_line\":0,\"text\":\"Предлоги места и времени A2.\",\"type\":\"inline\"},{\"line\":4,\"index_in_line\":0,\"text\":\"Вопроситнльные слова A2.\",\"type\":\"inline\"},{\"line\":5,\"index_in_line\":0,\"text\":\"Модальные глаголы A2.\",\"type\":\"inline\"},{\"line\":6,\"index_in_line\":0,\"text\":\"Глаголы состояния A2.\",\"type\":\"inline\"},{\"line\":7,\"index_in_line\":0,\"text\":\"Простые устойчивые выражения A2.\",\"type\":\"inline\"}]","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{\"attachments\":[]}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41903972,"project_id":569981,"condition":"Упражнения B1.","answer":"С чего начнём?","description":"","x":-60,"y":550,"message_type":1,"action_url":"","created_at":"2025-02-14T06:04:24.231+03:00","updated_at":"2025-02-14T09:20:21.685+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"\"На какую тему Вы бы хотели выучить слова?\"","comparision_method":1,"enter_once":false,"hint":"","headers":"","buttons":"[{\"line\":0,\"index_in_line\":0,\"text\":\"Путешествия и туризм B1.\",\"type\":\"inline\"},{\"line\":1,\"index_in_line\":0,\"text\":\"Здоровье и фитнес B1.\",\"type\":\"inline\"},{\"line\":2,\"index_in_line\":0,\"text\":\"Технологии и медиа B1.\",\"type\":\"inline\"},{\"line\":3,\"index_in_line\":0,\"text\":\"Социальные проблемы B1.\",\"type\":\"inline\"},{\"line\":4,\"index_in_line\":0,\"text\":\"Личные отношения B1.\",\"type\":\"inline\"}]","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":true,"actions_settings":"{}","attachments_settings":"{\"attachments\":[]}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":true,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41903977,"project_id":569981,"condition":"B2.","answer":"Какую бы тему Вы хотели изучить?","description":"","x":-160,"y":1250,"message_type":1,"action_url":"","created_at":"2025-02-14T06:08:09.927+03:00","updated_at":"2025-02-14T07:39:05.841+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"[{\"line\":0,\"index_in_line\":0,\"text\":\"Условные предложения B2.\",\"type\":\"inline\"},{\"line\":1,\"index_in_line\":0,\"text\":\"Непрямая речь B2.\",\"type\":\"inline\"},{\"line\":2,\"index_in_line\":0,\"text\":\"Глаголы с предлогами B2.\",\"type\":\"inline\"},{\"line\":3,\"index_in_line\":0,\"text\":\"Степени сравнения наречий B2.\",\"type\":\"inline\"},{\"line\":4,\"index_in_line\":0,\"text\":\"Инфинитивы B2.\",\"type\":\"inline\"},{\"line\":5,\"index_in_line\":0,\"text\":\"Фразовые глаголы B2.\",\"type\":\"inline\"},{\"line\":6,\"index_in_line\":0,\"text\":\"Экология и окружающая среда B2.\",\"type\":\"inline\"},{\"line\":7,\"index_in_line\":0,\"text\":\"Образование и обучение B2.\",\"type\":\"inline\"}]","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{\"attachments\":[]}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41903992,"project_id":569981,"condition":"Новые слова (1) A1.","answer":"На какую тему Вы бы хотели выучить слова?","description":"","x":730,"y":1020,"message_type":1,"action_url":"","created_at":"2025-02-14T06:17:38.810+03:00","updated_at":"2025-02-14T09:07:11.845+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"Не желаете выучить пару словечек? Места B1. Предметы B1. Друзья B1. Чувства B1. Эмоции B1.","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"[{\"line\":0,\"index_in_line\":0,\"text\":\"Приветствия и прощания A1.\",\"type\":\"inline\"},{\"line\":1,\"index_in_line\":0,\"text\":\"Личные местоимения A1.\",\"type\":\"inline\"},{\"line\":2,\"index_in_line\":0,\"text\":\"Основные глаголы A1.\",\"type\":\"inline\"},{\"line\":3,\"index_in_line\":0,\"text\":\"Числа A1.\",\"type\":\"inline\"},{\"line\":4,\"index_in_line\":0,\"text\":\"Цвета A1.\",\"type\":\"inline\"}]","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{\"attachments\":[]}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41903998,"project_id":569981,"condition":"Новые слова (1) A2.","answer":"На какую тему Вы бы хотели выучить слова?","description":"","x":840,"y":330,"message_type":1,"action_url":"","created_at":"2025-02-14T06:21:45.571+03:00","updated_at":"2025-02-14T09:01:16.361+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"B1, B2, A1, упражнения ","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"[{\"line\":0,\"index_in_line\":0,\"text\":\"Описание людей A2.\",\"type\":\"inline\"},{\"line\":1,\"index_in_line\":0,\"text\":\"Описание вещей A2.\",\"type\":\"inline\"},{\"line\":2,\"index_in_line\":0,\"text\":\"Размеры A2.\",\"type\":\"inline\"},{\"line\":3,\"index_in_line\":0,\"text\":\"Семья A2.\",\"type\":\"inline\"},{\"line\":4,\"index_in_line\":0,\"text\":\"Друзья A2.\",\"type\":\"inline\"},{\"line\":5,\"index_in_line\":0,\"text\":\"Еда A2.\",\"type\":\"inline\"},{\"line\":6,\"index_in_line\":0,\"text\":\"Напитки A2.\",\"type\":\"inline\"}]","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{\"attachments\":[]}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41904004,"project_id":569981,"condition":"Словечки B1.","answer":"Не желаете выучить пару словечек?","description":"","x":140,"y":580,"message_type":1,"action_url":"","created_at":"2025-02-14T06:25:21.240+03:00","updated_at":"2025-02-14T09:19:36.919+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"\"На какую тему Вы бы хотели выучить слова?\"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"[{\"line\":0,\"index_in_line\":0,\"text\":\"Места B1.\",\"type\":\"inline\"},{\"line\":1,\"index_in_line\":0,\"text\":\"Предметы B1.\",\"type\":\"inline\"},{\"line\":2,\"index_in_line\":0,\"text\":\"Друзья B1.\",\"type\":\"inline\"},{\"line\":3,\"index_in_line\":0,\"text\":\"Чувства B1.\",\"type\":\"inline\"},{\"line\":4,\"index_in_line\":0,\"text\":\"Эмоции B1.\",\"type\":\"inline\"}]","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{\"attachments\":[]}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41904006,"project_id":569981,"condition":"Новые слова (1) B2. ","answer":"На какую тему Вы бы хотели выучить слова?","description":"","x":60,"y":1260,"message_type":1,"action_url":"","created_at":"2025-02-14T06:27:52.511+03:00","updated_at":"2025-02-14T08:59:05.319+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"B1, A1, A2, упражнения","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"[{\"line\":0,\"index_in_line\":0,\"text\":\"Взаимодействия B2.\",\"type\":\"inline\"},{\"line\":1,\"index_in_line\":0,\"text\":\"Работа B2.\",\"type\":\"inline\"},{\"line\":2,\"index_in_line\":0,\"text\":\"Образование B2.\",\"type\":\"inline\"},{\"line\":3,\"index_in_line\":0,\"text\":\"Наука B2.\",\"type\":\"inline\"},{\"line\":4,\"index_in_line\":0,\"text\":\"Здоровье B2.\",\"type\":\"inline\"},{\"line\":5,\"index_in_line\":0,\"text\":\"Общество B2.\",\"type\":\"inline\"},{\"line\":6,\"index_in_line\":0,\"text\":\"Культура B2.\",\"type\":\"inline\"}]","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{\"attachments\":[]}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41904121,"project_id":569981,"condition":"Алфавит и произношение A1.","answer":"A - эй, B - би, C - си, D - ди, E - и, F - эф, G - джи, H - эйч, I - ай, J - джей, K - кей, L - эл, M - эм, N - эн, O - оу, P - пи, Q - кью, R - ар, S - эс, T - ти, U - ю, V - ви, W - дабл-ю, X - экс, Y - уай, Z - зи или зед. \r\n","description":"","x":480,"y":1090,"message_type":1,"action_url":"","created_at":"2025-02-14T06:56:57.137+03:00","updated_at":"2025-02-14T06:57:03.363+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41904133,"project_id":569981,"condition":"Существительные A1.","answer":"\r\n1. apple - яблоко\r\n\r\n2. book - книга\r\n\r\n3. car - машина\r\n\r\n4. dog - собака\r\n\r\n5. cat - кот\r\n\r\n6. house - дом\r\n\r\n7. school - школа\r\n\r\n8. table - стол\r\n\r\n9. chair - стул\r\n\r\n10. friend - друг\r\n\r\n11. family - семья\r\n\r\n12. water - вода\r\n\r\n13. food - еда\r\n\r\n14. city - город\r\n\r\n15. street - улица","description":"","x":480,"y":1160,"message_type":1,"action_url":"","created_at":"2025-02-14T06:59:09.807+03:00","updated_at":"2025-02-14T06:59:35.735+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41904140,"project_id":569981,"condition":"Местоимения A1.","answer":"\r\n\r\n1. I - я\r\n\r\n2. you - ты/вы\r\n\r\n3. he - он\r\n\r\n4. she - она\r\n\r\n5. it - оно (для животных и предметов)\r\n\r\n6. we - мы\r\n\r\n7. they - они\r\n","description":"","x":480,"y":1220,"message_type":1,"action_url":"","created_at":"2025-02-14T07:01:10.004+03:00","updated_at":"2025-02-14T07:01:15.245+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41904143,"project_id":569981,"condition":"Глаголы A1.","answer":"1. be - быть\r\n\r\n2. have - иметь\r\n\r\n3. do - делать\r\n\r\n4. go - идти/ехать\r\n\r\n5. come - приходить\r\n\r\n6. see - видеть\r\n\r\n7. hear - слышать\r\n\r\n8. speak - говорить\r\n\r\n9. say - сказать\r\n\r\n10. like - нравиться\r\n\r\n11. want - хотеть\r\n\r\n12. need - нуждаться\r\n\r\n13. make - делать/создавать\r\n\r\n14. take - брать\r\n\r\n15. give - давать","description":"","x":480,"y":1290,"message_type":1,"action_url":"","created_at":"2025-02-14T07:02:54.533+03:00","updated_at":"2025-02-14T07:03:13.796+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41904146,"project_id":569981,"condition":"Прилагательные A1.","answer":"1. big - большой\r\n\r\n2. small - маленький\r\n\r\n3. good - хороший\r\n\r\n4. bad - плохой\r\n\r\n5. happy - счастливый\r\n\r\n6. sad - грустный\r\n\r\n7. hot - горячий\r\n\r\n8. cold - холодный\r\n\r\n9. new - новый\r\n\r\n10. old - старый","description":"","x":480,"y":1360,"message_type":1,"action_url":"","created_at":"2025-02-14T07:04:50.570+03:00","updated_at":"2025-02-14T07:05:02.497+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41904149,"project_id":569981,"condition":"Числа и время A1.","answer":"1. 0 - zero\r\n\r\n2. 1 - one\r\n\r\n3. 2 - two\r\n\r\n4. 3 - three\r\n\r\n5. 4 - four\r\n\r\n6. 5 - five\r\n\r\n7. 6 - six\r\n\r\n8. 7 - seven\r\n\r\n9. 8 - eight\r\n\r\n10. 9 - nine\r\n\r\n11. 10 - ten","description":"","x":480,"y":1420,"message_type":1,"action_url":"","created_at":"2025-02-14T07:06:36.538+03:00","updated_at":"2025-02-14T07:06:43.659+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41904155,"project_id":569981,"condition":"Приветствия и прощания A1.","answer":"1. Hello! - Привет!\r\n\r\n2. Hi! - Привет!\r\n\r\n3. Good morning! - Доброе утро!\r\n\r\n4. Good afternoon! - Добрый день!\r\n\r\n5. Good evening! - Добрый вечер!\r\n\r\n6. Goodbye! - До свидания!\r\n\r\n7. Bye! - Пока!\r\n\r\n8. See you later! - Увидимся позже!\r\n\r\n9. See you soon! - Увидимся скоро!\r\n\r\n10. Take care! - Береги себя!\r\n","description":"","x":730,"y":1090,"message_type":1,"action_url":"","created_at":"2025-02-14T07:11:03.216+03:00","updated_at":"2025-02-14T07:11:13.906+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41904167,"project_id":569981,"condition":"Личные местоимения A1. ","answer":"1. I - я\r\n\r\n2. You - ты / вы\r\n\r\n3. He - он\r\n\r\n4. She - она\r\n\r\n5. It - оно (для предметов и животных)\r\n\r\n6. We - мы\r\n\r\n7. They - они\r\n\r\n8. Me - меня (объектное местоимение)\r\n\r\n9. You - тебя / вас (объектное местоимение)\r\n\r\n10. Him - его (объектное местоимение, для \"he\")\r\n\r\n11. Her - её (объектное местоимение, для \"she\")\r\n\r\n12. Us - нас (объектное местоимение, для \"we\")\r\n\r\n13. Them - их (объектное местоимение, для \"they\")\r\n","description":"","x":730,"y":1150,"message_type":1,"action_url":"","created_at":"2025-02-14T07:12:15.357+03:00","updated_at":"2025-02-14T07:12:30.449+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41904170,"project_id":569981,"condition":"Основные глаголы A1. ","answer":"1. Be - быть\r\n\r\n2. Have - иметь\r\n\r\n3. Do - делать\r\n\r\n4. Go - идти, ехать\r\n\r\n5. Come - приходить\r\n\r\n6. See - видеть\r\n\r\n7. Look - смотреть\r\n\r\n8. Say - говорить\r\n\r\n9. Get - получать\r\n\r\n10. Make - делать, создавать\r\n\r\n11. Like - нравиться\r\n\r\n12. Want - хотеть\r\n","description":"","x":730,"y":1210,"message_type":1,"action_url":"","created_at":"2025-02-14T07:13:29.939+03:00","updated_at":"2025-02-14T07:14:37.226+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41904175,"project_id":569981,"condition":"Числа A1.","answer":"1. One - один\r\n\r\n2. Two - два\r\n\r\n3. Three - три\r\n\r\n4. Four - четыре\r\n\r\n5. Five - пять\r\n\r\n6. Six - шесть\r\n\r\n7. Seven - семь\r\n\r\n8. Eight - восемь\r\n\r\n9. Nine - девять\r\n\r\n10. Ten - десять\r\n\r\nДалее числа от 11 до 20:\r\n\r\n11. Eleven - одиннадцать  \r\n\r\n12. Twelve - двенадцать  \r\n\r\n13. Thirteen - тринадцать  \r\n\r\n14. Fourteen - четырнадцать  \r\n\r\n15. Fifteen - пятнадцать  \r\n\r\n16. Sixteen - шестнадцать  \r\n\r\n17. Seventeen - семнадцать  \r\n\r\n18. Eighteen - восемнадцать  \r\n\r\n19. Nineteen - девятнадцать  \r\n\r\n20. Twenty - двадцать  \r\n\r\nТакже полезно знать десятки:\r\n\r\n• Thirty - тридцать  \r\n\r\n• Forty - сорок  \r\n\r\n• Fifty - пятьдесят  \r\n\r\n• Sixty - шестьдесят  \r\n\r\n• Seventy - семьдесят  \r\n\r\n• Eighty - восемьдесят  \r\n\r\n• Ninety - девяносто  \r\n\r\n• Hundred - сто  \r\n","description":"","x":730,"y":1280,"message_type":1,"action_url":"","created_at":"2025-02-14T07:14:30.106+03:00","updated_at":"2025-02-14T07:14:50.891+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41904179,"project_id":569981,"condition":"Цвета A1.","answer":"1. Red - красный\r\n\r\n2. Blue - синий\r\n\r\n3. Green - зеленый\r\n\r\n4. Yellow - желтый\r\n\r\n5. Black - черный\r\n\r\n6. White - белый\r\n\r\n7. Gray (или Grey) - серый\r\n\r\n8. Pink - розовый\r\n\r\n9. Orange - оранжевый\r\n\r\n10. Purple - фиолетовый\r\n","description":"","x":720,"y":1340,"message_type":1,"action_url":"","created_at":"2025-02-14T07:15:43.420+03:00","updated_at":"2025-02-14T07:15:48.339+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41904182,"project_id":569981,"condition":"Настоящее время A2.","answer":"\r\n\r\n\r\n\r\n▎1. Present Simple (простое настоящее время)\r\n\r\nИспользуется для описания регулярных действий, фактов и общих истин.\r\n\r\nФормула:\r\n\r\n• Утверждение: Subject + base form of the verb (для he, she, it добавляется -s или -es)\r\n\r\n  • Пример: She reads books.\r\n\r\n• Отрицание: Subject + do/does not + base form of the verb\r\n\r\n  • Пример: He does not read books.\r\n\r\n• Вопрос: Do/Does + subject + base form of the verb?\r\n\r\n  • Пример: Do you read books?\r\n\r\n▎2. Present Continuous (настоящее продолженное время)\r\n\r\nИспользуется для описания действий, происходящих в данный момент.\r\n\r\nФормула:\r\n\r\n• Утверждение: Subject + am/is/are + verb + -ing\r\n\r\n  • Пример: They are reading a book.\r\n\r\n• Отрицание: Subject + am/is/are not + verb + -ing\r\n\r\n  • Пример: She is not reading a book.\r\n\r\n• Вопрос: Am/Is/Are + subject + verb + -ing?\r\n\r\n  • Пример: Are you reading a book?\r\n\r\n▎3. Present Perfect (настоящее совершенное время)\r\n\r\nИспользуется для описания действий, которые произошли в прошлом и имеют связь с настоящим.\r\n\r\nФормула:\r\n\r\n• Утверждение: Subject + have/has + past participle\r\n\r\n  • Пример: I have read that book.\r\n\r\n• Отрицание: Subject + have/has not + past participle\r\n\r\n  • Пример: She has not read that book.\r\n\r\n• Вопрос: Have/Has + subject + past participle?\r\n\r\n  • Пример: Have you read that book?\r\n\r\n▎4. Present Perfect Continuous (настоящее совершенное продолженное время)\r\n\r\nИспользуется для описания действий, которые начались в прошлом и продолжаются до настоящего момента или только что завершились.\r\n\r\nФормула:\r\n\r\n• Утверждение: Subject + have/has been + verb + -ing\r\n\r\n  • Пример: They have been reading for two hours.\r\n\r\n• Отрицание: Subject + have/has not been + verb + -ing\r\n\r\n  • Пример: He has not been reading for long.\r\n\r\n• Вопрос: Have/Has + subject + been + verb + -ing?\r\n\r\n  • Пример: Have you been reading for a long time?\r\n\r\n","description":"","x":590,"y":390,"message_type":1,"action_url":"","created_at":"2025-02-14T07:19:19.893+03:00","updated_at":"2025-02-14T07:19:26.486+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41904189,"project_id":569981,"condition":"Прошедшее время А2.","answer":"\r\n\r\n\r\n▎1. Past Simple (простое прошедшее время)\r\n\r\nИспользуется для описания действий, которые произошли и завершились в прошлом.\r\n\r\nФормула:\r\n\r\n• Утверждение: Subject + past form of the verb (для неправильных глаголов используется вторая форма)\r\n\r\n  • Пример: She visited her friend.\r\n\r\n• Отрицание: Subject + did not + base form of the verb\r\n\r\n  • Пример: He did not visit his friend.\r\n\r\n• Вопрос: Did + subject + base form of the verb?\r\n\r\n  • Пример: Did you visit your friend?\r\n\r\n▎2. Past Continuous (прошедшее продолженное время)\r\n\r\nИспользуется для описания действий, которые происходили в определенный момент в прошлом.\r\n\r\nФормула:\r\n\r\n• Утверждение: Subject + was/were + verb + -ing\r\n\r\n  • Пример: They were reading a book at 5 PM.\r\n\r\n• Отрицание: Subject + was/were not + verb + -ing\r\n\r\n  • Пример: She was not reading a book.\r\n\r\n• Вопрос: Was/Were + subject + verb + -ing?\r\n\r\n  • Пример: Were you reading a book?\r\n\r\n▎3. Past Perfect (прошедшее совершенное время)\r\n\r\nИспользуется для описания действий, которые завершились до другого действия в прошлом.\r\n\r\nФормула:\r\n\r\n• Утверждение: Subject + had + past participle\r\n\r\n  • Пример: I had finished my homework before dinner.\r\n\r\n• Отрицание: Subject + had not + past participle\r\n\r\n  • Пример: She had not finished her homework.\r\n\r\n• Вопрос: Had + subject + past participle?\r\n\r\n  • Пример: Had you finished your homework?\r\n\r\n▎4. Past Perfect Continuous (прошедшее совершенное продолженное время)\r\n\r\nИспользуется для описания действий, которые начались в прошлом и продолжались до другого момента в прошлом.\r\n\r\nФормула:\r\n\r\n• Утверждение: Subject + had been + verb + -ing\r\n\r\n  • Пример: They had been reading for two hours before dinner.\r\n\r\n• Отрицание: Subject + had not been + verb + -ing\r\n\r\n  • Пример: He had not been reading for long.\r\n\r\n• Вопрос: Had + subject + been + verb + -ing?\r\n\r\n  • Пример: Had you been reading for a long time?\r\n","description":"","x":590,"y":450,"message_type":1,"action_url":"","created_at":"2025-02-14T07:20:35.837+03:00","updated_at":"2025-02-14T07:20:44.946+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41904191,"project_id":569981,"condition":"Будущее время A2.","answer":"\r\n\r\n\r\n▎1. Future Simple (простое будущее время)\r\n\r\nИспользуется для описания действий, которые произойдут в будущем.\r\n\r\nФормула:\r\n\r\n• Утверждение: Subject + will + base form of the verb\r\n\r\n  • Пример: She will visit her friend.\r\n\r\n• Отрицание: Subject + will not (won't) + base form of the verb\r\n\r\n  • Пример: He will not visit his friend.\r\n\r\n• Вопрос: Will + subject + base form of the verb?\r\n\r\n  • Пример: Will you visit your friend?\r\n\r\n▎2. Future Continuous (будущее продолженное время)\r\n\r\nИспользуется для описания действий, которые будут происходить в определенный момент в будущем.\r\n\r\nФормула:\r\n\r\n• Утверждение: Subject + will be + verb + -ing\r\n\r\n  • Пример: They will be reading a book at 5 PM.\r\n\r\n• Отрицание: Subject + will not be + verb + -ing\r\n\r\n  • Пример: She will not be reading a book.\r\n\r\n• Вопрос: Will + subject + be + verb + -ing?\r\n\r\n  • Пример: Will you be reading a book?\r\n\r\n▎3. Future Perfect (будущее совершенное время)\r\n\r\nИспользуется для описания действий, которые завершатся до определенного момента в будущем.\r\n\r\nФормула:\r\n\r\n• Утверждение: Subject + will have + past participle\r\n\r\n  • Пример: I will have finished my homework by dinner.\r\n\r\n• Отрицание: Subject + will not have + past participle\r\n\r\n  • Пример: She will not have finished her homework.\r\n\r\n• Вопрос: Will + subject + have + past participle?\r\n\r\n  • Пример: Will you have finished your homework?\r\n\r\n▎4. Future Perfect Continuous (будущее совершенное продолженное время)\r\n\r\nИспользуется для описания действий, которые начнутся в будущем и будут продолжаться до другого момента в будущем.\r\n\r\nФормула:\r\n\r\n• Утверждение: Subject + will have been + verb + -ing\r\n\r\n  • Пример: They will have been reading for two hours by dinner.\r\n\r\n• Отрицание: Subject + will not have been + verb + -ing\r\n\r\n  • Пример: He will not have been reading for long.\r\n\r\n• Вопрос: Will + subject + have been + verb + -ing?\r\n\r\n  • Пример: Will you have been reading for a long time?\r\n\r\n","description":"","x":590,"y":510,"message_type":1,"action_url":"","created_at":"2025-02-14T07:21:48.688+03:00","updated_at":"2025-02-14T07:22:02.991+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41904193,"project_id":569981,"condition":"Предлоги места и времени A2.","answer":"Предлоги места и времени в английском языке играют важную роль в построении предложений и выражении различных смыслов. \r\n\r\n▎Предлоги места\r\n\r\n1. In — в, внутри\r\n\r\n   • Пример: The cat is in the box. (Кошка в коробке.)\r\n\r\n2. On — на\r\n\r\n   • Пример: The book is on the table. (Книга на столе.)\r\n\r\n3. At — у, в (определённое место)\r\n\r\n   • Пример: She is at the bus stop. (Она на автобусной остановке.)\r\n\r\n4. Under — под\r\n\r\n   • Пример: The dog is under the bed. (Собака под кроватью.)\r\n\r\n5. Above — над\r\n\r\n   • Пример: The picture is above the sofa. (Картина над диваном.)\r\n\r\n6. Below — ниже\r\n\r\n   • Пример: The temperature is below freezing. (Температура ниже нуля.)\r\n\r\n7. Next to / Beside — рядом с\r\n\r\n   • Пример: The bank is next to the supermarket. (Банк рядом с супермаркетом.)\r\n\r\n8. Between — между\r\n\r\n   • Пример: The park is between the school and the library. (Парк между школой и библиотекой.)\r\n\r\n9. Behind — за\r\n\r\n   • Пример: The car is parked behind the building. (Машина припаркована за зданием.)\r\n\r\n10. In front of — перед\r\n\r\n    • Пример: The statue is in front of the museum. (Статуя перед музеем.)\r\n\r\n▎Предлоги времени\r\n\r\n1. In — в (для месяцев, годов, времен года)\r\n\r\n   • Пример: I was born in July. (Я родился в июле.)\r\n\r\n   • Пример: We will travel in 2024. (Мы поедем в 2024 году.)\r\n\r\n2. On — в (для дней и дат)\r\n\r\n   • Пример: My birthday is on Monday. (Мой день рождения в понедельник.)\r\n\r\n   • Пример: The meeting is on March 5th. (Встреча 5 марта.)\r\n\r\n3. At — в (для точного времени)\r\n\r\n   • Пример: The train arrives at 3 PM. (Поезд прибывает в 3 часа дня.)\r\n\r\n4. Before — до\r\n\r\n   • Пример: I will finish my work before dinner. (Я закончу свою работу до ужина.)\r\n\r\n5. After — после\r\n\r\n   • Пример: We will go for a walk after lunch. (Мы пойдем на прогулку после обеда.)\r\n\r\n6. During — во время\r\n\r\n   • Пример: I read a book during the flight. (Я читал книгу во время полета.)\r\n\r\n7. Until / Till — до тех пор, пока\r\n\r\n   • Пример: I will wait here until you come back. (Я буду ждать здесь, пока ты не вернешься.)\r\n\r\n8. Since — с, начиная с (для обозначения начала времени)\r\n\r\n   • Пример: I have lived here since 2010. (Я живу здесь с 2010 года.)\r\n\r\n9. For — в течение (для обозначения продолжительности)\r\n\r\n   • Пример: I have been studying English for three years. (Я учу английский в течение трех лет.)\r\n\r\n","description":"","x":590,"y":570,"message_type":1,"action_url":"","created_at":"2025-02-14T07:23:12.780+03:00","updated_at":"2025-02-14T07:23:19.904+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41904196,"project_id":569981,"condition":"Вопроситнльные слова A2.","answer":"В английском языке есть несколько основных вопросительных слов, которые используются для формирования вопросов. Вот список наиболее распространённых из них с примерами:\r\n\r\n▎Вопросительные слова\r\n\r\n1. Who — кто\r\n\r\n   • Пример: Who is your best friend? (Кто твой лучший друг?)\r\n\r\n2. What — что, какой\r\n\r\n   • Пример: What do you want to eat? (Что ты хочешь поесть?)\r\n\r\n3. Where — где\r\n\r\n   • Пример: Where do you live? (Где ты живёшь?)\r\n\r\n4. When — когда\r\n\r\n   • Пример: When is your birthday? (Когда твой день рождения?)\r\n\r\n5. Why — почему\r\n\r\n   • Пример: Why are you late? (Почему ты опоздал?)\r\n\r\n6. How — как\r\n\r\n   • Пример: How do you get to work? (Как ты добираешься до работы?)\r\n\r\n7. Which — который, какой (из нескольких)\r\n\r\n   • Пример: Which dress do you like more? (Какое платье тебе нравится больше?)\r\n\r\n8. Whose — чей\r\n\r\n   • Пример: Whose bag is this? (Чья это сумка?)\r\n\r\n▎Дополнительные вопросительные слова\r\n\r\n9. How much — сколько (для неисчисляемых существительных)\r\n\r\n   • Пример: How much does this cost? (Сколько это стоит?)\r\n\r\n10. How many — сколько (для исчисляемых существительных)\r\n\r\n    • Пример: How many apples do you want? (Сколько яблок ты хочешь?)\r\n\r\n11. How long — как долго\r\n\r\n    • Пример: How long will you stay? (Как долго ты останешься?)\r\n\r\n12. How often — как часто\r\n\r\n    • Пример: How often do you exercise? (Как часто ты занимаешься спортом?)\r\n\r\n13. How far — как далеко\r\n\r\n    • Пример: How far is the nearest station? (Как далеко ближайшая станция?)\r\n\r\nЭти вопросительные слова помогают задавать различные вопросы и получать информацию о людях, предметах, местах, времени и других аспектах. ","description":"","x":590,"y":630,"message_type":1,"action_url":"","created_at":"2025-02-14T07:24:16.753+03:00","updated_at":"2025-02-14T07:24:34.177+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41904200,"project_id":569981,"condition":"Модальные глаголы A2.","answer":"Модальные глаголы в английском языке — это особая категория глаголов, которые используются для выражения возможностей, вероятностей, разрешений, обязанностей и других нюансов. Вот основные модальные глаголы с их значениями и примерами:\r\n\r\n▎Основные модальные глаголы\r\n\r\n1. Can — может, умеет\r\n\r\n   • Использование: для выражения способности или возможности.\r\n\r\n   • Пример: She can speak three languages. (Она может говорить на трёх языках.)\r\n\r\n2. Could — мог, умел\r\n\r\n   • Использование: прошедшая форма от \"can\"; также используется для вежливых просьб.\r\n\r\n   • Пример: I could swim when I was a child. (Я мог плавать, когда был ребёнком.)\r\n\r\n3. May — может, возможно\r\n\r\n   • Использование: для выражения разрешения или вероятности.\r\n\r\n   • Пример: You may leave the room. (Вы можете покинуть комнату.)\r\n\r\n4. Might — мог бы, возможно\r\n\r\n   • Использование: для выражения меньшей вероятности, чем \"may\".\r\n\r\n   • Пример: It might rain later. (Возможно, позже пойдёт дождь.)\r\n\r\n5. Must — должен\r\n\r\n   • Использование: для выражения необходимости или обязательства.\r\n\r\n   • Пример: You must wear a seatbelt. (Вы должны носить ремень безопасности.)\r\n\r\n6. Shall — должен (в основном в вопросах)\r\n\r\n   • Использование: чаще используется в формальных контекстах или для предложения.\r\n\r\n   • Пример: Shall we go for a walk? (Пойдём на прогулку?)\r\n\r\n7. Should — следует\r\n\r\n   • Использование: для выражения совета или рекомендации.\r\n\r\n   • Пример: You should see a doctor. (Тебе следует обратиться к врачу.)\r\n\r\n8. Will — будет\r\n\r\n   • Использование: для выражения будущего времени или волеизъявления.\r\n\r\n   • Пример: I will call you tomorrow. (Я позвоню тебе завтра.)\r\n\r\n9. Would — бы\r\n\r\n   • Использование: прошедшая форма от \"will\"; также используется для вежливых просьб и гипотетических ситуаций.\r\n\r\n   • Пример: I would like a cup of tea, please. (Я бы хотел чашку чая, пожалуйста.)\r\n\r\n▎Особенности использования\r\n\r\n• Модальные глаголы не требуют \"to\" перед ними (например, \"to can\" — неверно).\r\n\r\n• Они не изменяются по лицам и числам (например, \"I can\", \"he can\", \"they can\" — все формы одинаковы).\r\n\r\n• После модальных глаголов обычно следует основной глагол без \"to\" (например, \"can go\", \"must do\").\r\n\r\n▎Примеры предложений с модальными глаголами\r\n\r\n1. You can join us if you want. (Ты можешь присоединиться к нам, если хочешь.)\r\n\r\n2. He should finish his homework before going out. (Ему следует закончить домашнее задание перед выходом на улицу.)\r\n\r\n3. They might come to the party tonight. (Возможно, они придут на вечеринку сегодня вечером.)\r\n\r\n4. You mustn't smoke here. (Здесь нельзя курить.)\r\n\r\n","description":"","x":590,"y":690,"message_type":1,"action_url":"","created_at":"2025-02-14T07:25:29.655+03:00","updated_at":"2025-02-14T07:25:40.961+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41904247,"project_id":569981,"condition":"Описание людей A2.","answer":"Описание людей на английском языке может включать в себя различные аспекты, такие как внешность, характер, увлечения и другие характеристики. Вот несколько ключевых моментов, которые помогут вам составить описание.\r\n\r\n▎Внешность (Appearance)\r\n\r\n1. Волосы (Hair)\r\n\r\n   • Color: blonde, brown, black, red, gray\r\n\r\n   • Length: short, medium, long\r\n\r\n   • Style: straight, curly, wavy\r\n\r\n   Пример: She has long, straight brown hair. (У неё длинные прямые каштановые волосы.)\r\n\r\n2. Глаза (Eyes)\r\n\r\n   • Color: blue, green, brown, hazel\r\n\r\n   • Shape: round, almond-shaped\r\n\r\n   Пример: He has bright blue eyes. (У него яркие голубые глаза.)\r\n\r\n3. Рост (Height)\r\n\r\n   • Tall, short, average height\r\n\r\n   Пример: She is tall and slender. (Она высокая и стройная.)\r\n\r\n4. Телосложение (Build)\r\n\r\n   • Slim, athletic, overweight, muscular\r\n\r\n   Пример: He has an athletic build. (У него атлетическое телосложение.)\r\n\r\n5. Особенности (Features)\r\n\r\n   • Freckles, dimples, scars\r\n\r\n   Пример: She has freckles on her cheeks. (У неё веснушки на щеках.)\r\n\r\n▎Характер (Personality)\r\n\r\n1. Прилагательные для описания характера:\r\n\r\n   • Friendly (дружелюбный)\r\n\r\n   • Funny (смешной)\r\n\r\n   • Shy (скромный)\r\n\r\n   • Outgoing (общительный)\r\n\r\n   • Kind (добрый)\r\n\r\n   • Hardworking (трудолюбивый)\r\n\r\n   Пример: He is very friendly and always makes people laugh. (Он очень дружелюбный и всегда заставляет людей смеяться.)\r\n\r\n▎Увлечения и интересы (Hobbies and Interests)\r\n\r\n• Sports: football, basketball, swimming\r\n\r\n• Arts: painting, music, dancing\r\n\r\n• Reading, traveling, cooking\r\n\r\nПример: She loves painting and often spends her weekends at art galleries. (Она любит рисовать и часто проводит выходные в художественных галереях.)\r\n\r\n▎Примеры описаний\r\n\r\n1. Пример 1:\r\n\r\n   • \"My friend Sarah is a tall girl with long curly black hair and green eyes. She is very outgoing and loves meeting new people. In her free time, she enjoys playing basketball and reading mystery novels.\"\r\n\r\n2. Пример 2:\r\n\r\n   • \"John is a short man with a muscular build and short brown hair. He has a great sense of humor and is always making jokes. He loves to travel and has visited many countries around the world.\"\r\n\r\n▎Заключение\r\n\r\nПри описании людей важно использовать разнообразные прилагательные и фразы, чтобы создать полное представление о человеке.","description":"","x":840,"y":390,"message_type":1,"action_url":"","created_at":"2025-02-14T07:32:23.609+03:00","updated_at":"2025-02-14T07:32:57.686+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{\"attachments\":[]}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41904251,"project_id":569981,"condition":"Описание вещей A2.","answer":"Описание вещей на английском языке также может включать в себя различные аспекты, такие как внешний вид, материал, размер, цвет и функциональность. Вот несколько ключевых моментов, которые помогут вам составить описание предметов.\r\n\r\n▎Внешний вид (Appearance)\r\n\r\n1. Цвет (Color)\r\n\r\n   • Red, blue, green, yellow, black, white, gray, etc.\r\n   \r\n   Пример: The car is bright red. (Машина ярко-красного цвета.)\r\n\r\n2. Размер (Size)\r\n\r\n   • Small, medium, large, tiny, huge\r\n   \r\n   Пример: The box is small enough to fit in my backpack. (Коробка достаточно мала, чтобы поместиться в мой рюкзак.)\r\n\r\n3. Форма (Shape)\r\n\r\n   • Round, square, rectangular, triangular\r\n   \r\n   Пример: The table is rectangular. (Стол прямоугольный.)\r\n\r\n4. Материал (Material)\r\n\r\n   • Wood, metal, plastic, glass, fabric\r\n   \r\n   Пример: The chair is made of wood. (Стул сделан из дерева.)\r\n\r\n5. Детали (Details)\r\n\r\n   • Patterns (striped, polka-dotted), textures (smooth, rough)\r\n   \r\n   Пример: The fabric is soft and has a floral pattern. (Ткань мягкая и имеет цветочный узор.)\r\n\r\n▎Функциональность (Functionality)\r\n\r\n• What the item is used for.\r\n  \r\nПример: This blender is used for making smoothies and soups. (Этот блендер используется для приготовления смузи и супов.)\r\n\r\n▎Примеры описаний\r\n\r\n1. Пример 1:\r\n\r\n   • \"This is a beautiful vase made of glass. It is tall and slender with a light blue color. The surface is smooth, and it has a delicate floral design etched into it. It can be used to hold fresh flowers or as a decorative piece on a table.\"\r\n\r\n2. Пример 2:\r\n\r\n   • \"The backpack is made of durable fabric and comes in a dark green color. It has multiple compartments for organizing books and supplies. The straps are padded for comfort, making it easy to carry around.\"\r\n\r\n3. Пример 3:\r\n\r\n   • \"This smartphone has a sleek design with a large touch screen. It is black and made of metal and glass. The camera is high-quality, perfect for taking photos in any light condition.\"\r\n\r\n▎Заключение\r\n\r\nПри описании вещей важно использовать разнообразные прилагательные и фразы, чтобы создать полное представление о предмете.","description":"","x":840,"y":450,"message_type":1,"action_url":"","created_at":"2025-02-14T07:33:39.288+03:00","updated_at":"2025-02-14T07:33:47.243+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41904257,"project_id":569981,"condition":"Размеры A2.","answer":"Размеры на английском языке могут быть описаны с использованием различных единиц измерения, в зависимости от того, о чем идет речь (одежда, обувь, предметы и т.д.). Вот основные категории и примеры:\r\n\r\n▎1. Общие размеры (General Sizes)\r\n\r\n• Маленький (Small): S\r\n\r\n• Средний (Medium): M\r\n\r\n• Большой (Large): L\r\n\r\n• Очень большой (Extra Large): XL\r\n\r\n• Маленький плюс (Small Plus): S+\r\n\r\n• Большой плюс (Large Plus): L+\r\n\r\n▎2. Размеры одежды (Clothing Sizes)\r\n\r\n• Женская одежда (Women’s Clothing Sizes)\r\n\r\n  • 0, 2, 4, 6, 8, 10, 12, 14, 16, и т.д.\r\n\r\n  \r\n• Мужская одежда (Men’s Clothing Sizes)\r\n\r\n  • S, M, L, XL или числовые размеры (например, 38, 40, 42)\r\n\r\n▎3. Обувь (Shoe Sizes)\r\n\r\n• Женская обувь (Women’s Shoe Sizes)\r\n\r\n  • Обычно от 5 до 12 (например, 7, 8.5)\r\n\r\n• Мужская обувь (Men’s Shoe Sizes)\r\n\r\n  • Обычно от 7 до 15 (например, 9, 11)\r\n\r\n▎4. Измерения длины и высоты (Length and Height Measurements)\r\n\r\n• Дюймы (Inches): \r\n\r\n  • Например, \"5 inches\" (5 дюймов)\r\n\r\n  \r\n• Сантиметры (Centimeters):\r\n\r\n  • Например, \"10 centimeters\" (10 сантиметров)\r\n\r\n• Футы (Feet):\r\n\r\n  • Например, \"6 feet tall\" (высотой 6 футов)\r\n\r\n▎5. Объем и вес (Volume and Weight)\r\n\r\n• Литры (Liters):\r\n\r\n  • Например, \"2 liters\" (2 литра)\r\n\r\n  \r\n• Галлоны (Gallons):\r\n\r\n  • Например, \"1 gallon\" (1 галлон)\r\n\r\n• Унции (Ounces) и фунты (Pounds):\r\n\r\n  • Например, \"16 ounces\" (16 унций) или \"2 pounds\" (2 фунта)\r\n\r\n▎Примеры использования размеров\r\n\r\n1. Одежда: \r\n\r\n   • \"I wear a medium size dress.\" (Я ношу платье среднего размера.)\r\n\r\n   \r\n2. Обувь:\r\n\r\n   • \"My shoe size is 9.\" (Мой размер обуви — 9.)\r\n\r\n3. Высота:\r\n\r\n   • \"He is 6 feet tall.\" (Он ростом 6 футов.)\r\n\r\n4. Вес:\r\n\r\n   • \"The package weighs 2 pounds.\" (Посылка весит 2 фунта.)\r\n","description":"","x":840,"y":510,"message_type":1,"action_url":"","created_at":"2025-02-14T07:34:27.107+03:00","updated_at":"2025-02-14T07:34:45.077+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41904261,"project_id":569981,"condition":"Семья A2.","answer":"Семья (family) — это важная тема в английском языке, и существует множество слов и фраз, связанных с ней. Вот основные термины и их значения:\r\n\r\n▎Основные члены семьи\r\n\r\n1. Mother - Мать\r\n\r\n2. Father - Отец\r\n\r\n3. Parents - Родители\r\n\r\n4. Sister - Сестра\r\n\r\n5. Brother - Брат\r\n\r\n6. Siblings - Братья и сестры (суммарно)\r\n\r\n7. Grandmother (Grandma) - Бабушка\r\n\r\n8. Grandfather (Grandpa) - Дедушка\r\n\r\n9. Grandparents - Бабушки и дедушки\r\n\r\n10. Aunt - Тетя\r\n\r\n11. Uncle - Дядя\r\n\r\n12. Cousin - Двоюродный брат или сестра\r\n\r\n▎Расширенные члены семьи\r\n\r\n1. Niece - Племянница\r\n\r\n2. Nephew - Племянник\r\n\r\n3. In-laws - Свекры и свекрови, т.е. родители супруга или супруги (например, mother-in-law - свекровь)\r\n\r\n4. Stepfather - Отчим\r\n\r\n5. Stepmother - Мачеха\r\n\r\n6. Stepsibling - Сводный брат или сводная сестра\r\n\r\n▎Примеры предложений\r\n\r\n1. My mother is a teacher. (Моя мама — учитель.)\r\n\r\n2. I have one brother and two sisters. (У меня один брат и две сестры.)\r\n\r\n3. My grandparents live in another city. (Мои бабушка и дедушка живут в другом городе.)\r\n\r\n4. She is my aunt, and he is my uncle. (Она моя тетя, а он мой дядя.)\r\n\r\n5. I have a cousin who is the same age as me. (У меня есть двоюродный брат, который моего возраста.)\r\n\r\n▎Вопросы о семье\r\n\r\n1. How many siblings do you have? (Сколько у тебя братьев и сестер?)\r\n\r\n2. What does your father do? (Кем работает твой отец?)\r\n\r\n3. Do you spend time with your grandparents? (Ты проводишь время с бабушкой и дедушкой?)\r\n","description":"","x":840,"y":570,"message_type":1,"action_url":"","created_at":"2025-02-14T07:35:28.873+03:00","updated_at":"2025-02-14T07:35:39.751+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41904266,"project_id":569981,"condition":"Друзья A2.","answer":"Друзья (friends) — это важная часть нашей жизни, и в английском языке есть множество слов и фраз, связанных с дружбой. Вот основные термины и примеры, которые помогут вам говорить о друзьях:\r\n\r\n▎Основные термины\r\n\r\n1. Friend - Друг\r\n\r\n2. Best friend - Лучший друг\r\n\r\n3. Close friend - Близкий друг\r\n\r\n4. Childhood friend - Друг детства\r\n\r\n5. Acquaintance - Знакомый\r\n\r\n6. Buddy - Приятель (неформальное слово)\r\n\r\n7. Pal - Дружище (неформальное слово)\r\n\r\n8. Companion - Компаньон, спутник\r\n\r\n▎Примеры предложений\r\n\r\n1. I have a best friend who I can always rely on.  \r\n   (У меня есть лучший друг, на которого я всегда могу положиться.)\r\n\r\n2. We met in high school and became close friends.  \r\n   (Мы встретились в старшей школе и стали близкими друзьями.)\r\n\r\n3. I enjoy spending time with my childhood friends.  \r\n   (Мне нравится проводить время с друзьями детства.)\r\n\r\n4. He is just an acquaintance; we don’t know each other very well.  \r\n   (Он просто знакомый; мы не очень хорошо знаем друг друга.)\r\n\r\n5. My buddy and I are going to the movies this weekend.  \r\n   (Мой приятель и я собираемся в кино в эти выходные.)\r\n\r\n▎Вопросы о друзьях\r\n\r\n1. How did you meet your best friend?  \r\n   (Как вы встретились с вашим лучшим другом?)\r\n\r\n2. What do you like to do with your friends?  \r\n   (Что вам нравится делать с друзьями?)\r\n\r\n3. Do you have any childhood friends that you still keep in touch with?  \r\n   (Есть ли у вас друзья детства, с которыми вы все еще поддерживаете связь?)\r\n\r\n▎Фразы для общения с друзьями\r\n\r\n1. Let’s hang out this weekend!  \r\n   (Давай встретимся в эти выходные!)\r\n\r\n2. I’m always here for you.  \r\n   (Я всегда рядом, чтобы поддержать тебя.)\r\n\r\n3. We should catch up soon!  \r\n   (Нам нужно скоро встретиться и поболтать!)\r\n","description":"","x":840,"y":630,"message_type":1,"action_url":"","created_at":"2025-02-14T07:36:19.647+03:00","updated_at":"2025-02-14T07:36:34.799+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41904296,"project_id":569981,"condition":"Еда A2.","answer":"Еда — это важная часть культуры и общения. В английском языке есть множество слов и фраз, связанных с едой. Вот основные термины, типы еды и примеры, которые помогут вам говорить об этом.\r\n\r\n▎Основные термины\r\n\r\n1. Food - Еда\r\n\r\n2. Meal - Прием пищи\r\n\r\n3. Breakfast - Завтрак\r\n\r\n4. Lunch - Обед\r\n\r\n5. Dinner - Ужин\r\n\r\n6. Snack - Перекус\r\n\r\n7. Dessert - Десерт\r\n\r\n▎Типы еды\r\n\r\n1. Vegetables - Овощи\r\n\r\n   • Примеры: carrot (морковь), broccoli (брокколи), potato (картофель)\r\n\r\n   \r\n2. Fruits - Фрукты\r\n\r\n   • Примеры: apple (яблоко), banana (банан), orange (апельсин)\r\n\r\n3. Meat - Мясо\r\n\r\n   • Примеры: chicken (курица), beef (говядина), pork (свинина)\r\n\r\n4. Fish and seafood - Рыба и морепродукты\r\n\r\n   • Примеры: salmon (лосось), shrimp (креветки), tuna (тунец)\r\n\r\n5. Grains - Зерновые\r\n\r\n   • Примеры: rice (рис), bread (хлеб), pasta (макароны)\r\n\r\n6. Dairy products - Молочные продукты\r\n\r\n   • Примеры: milk (молоко), cheese (сыр), yogurt (йогурт)\r\n\r\n▎Примеры предложений\r\n\r\n1. I usually have toast and coffee for breakfast.  \r\n   (Я обычно ем тосты и пью кофе на завтрак.)\r\n\r\n2. What do you want for lunch today?  \r\n   (Что ты хочешь пообедать сегодня?)\r\n\r\n3. For dinner, we’re having pasta with tomato sauce.  \r\n   (На ужин у нас паста с томатным соусом.)\r\n\r\n4. I love eating fresh fruits for a snack.  \r\n   (Мне нравится есть свежие фрукты в качестве перекуса.)\r\n\r\n5. Do you have any dessert after your meal?  \r\n   (У вас есть десерт после еды?)\r\n\r\n▎Вопросы о еде\r\n\r\n1. What is your favorite food?  \r\n   (Какая твоя любимая еда?)\r\n\r\n2. Do you prefer cooking at home or eating out?  \r\n   (Ты предпочитаешь готовить дома или есть в ресторане?)\r\n\r\n3. Have you ever tried any exotic foods?  \r\n   (Ты когда-нибудь пробовал экзотическую еду?)\r\n\r\n▎Фразы для общения о еде\r\n\r\n1. Let’s go out for dinner sometime!  \r\n   (Давай как-нибудь сходим поужинать!)\r\n\r\n2. I’m really hungry! What’s for dinner?  \r\n   (Я очень голоден! Что на ужин?)\r\n\r\n3. This dish is delicious! What’s in it?  \r\n   (Это блюдо вкусное! Что в нем?)\r\n","description":"","x":840,"y":690,"message_type":1,"action_url":"","created_at":"2025-02-14T07:36:58.617+03:00","updated_at":"2025-02-14T07:37:31.837+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{\"attachments\":[]}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41904343,"project_id":569981,"condition":"Напитки A2.","answer":"\r\n\r\n\r\n▎Основные термины\r\n\r\n1. Drink - Напиток\r\n\r\n2. Beverage - Напиток (формальный термин)\r\n\r\n3. Alcoholic drink - Алкогольный напиток\r\n\r\n4. Non-alcoholic drink - Безалкогольный напиток\r\n\r\n▎Типы напитков\r\n\r\n1. Water - Вода\r\n\r\n   • Sparkling water - Газированная вода\r\n\r\n   • Still water - Негазированная вода\r\n\r\n2. Juice - Сок\r\n\r\n   • Примеры: orange juice (апельсиновый сок), apple juice (яблочный сок), grape juice (виноградный сок)\r\n\r\n3. Soda - Газировка\r\n\r\n   • Примеры: cola (кола), lemon-lime soda (лимонно-лаймовая газировка)\r\n\r\n4. Tea - Чай\r\n\r\n   • Примеры: black tea (черный чай), green tea (зеленый чай), herbal tea (травяной чай)\r\n\r\n5. Coffee - Кофе\r\n\r\n   • Примеры: espresso (эспрессо), latte (латте), cappuccino (капучино)\r\n\r\n6. Milk - Молоко\r\n\r\n   • Almond milk - Миндальное молоко\r\n\r\n   • Soy milk - Соевое молоко\r\n\r\n7. Alcoholic beverages - Алкогольные напитки\r\n\r\n   • Beer - Пиво\r\n\r\n   • Wine - Вино\r\n\r\n     • Примеры: red wine (красное вино), white wine (белое вино)\r\n\r\n   • Spirits - Спиртные напитки\r\n\r\n     • Примеры: vodka (водка), whiskey (виски), rum (ром)\r\n\r\n▎Примеры предложений\r\n\r\n1. Can I get you something to drink?  \r\n   (Могу я предложить вам что-нибудь выпить?)\r\n\r\n2. I prefer coffee over tea in the morning.  \r\n   (Я предпочитаю кофе чаю по утрам.)\r\n\r\n3. Would you like some juice with your breakfast?  \r\n   (Хотите немного сока к завтраку?)\r\n\r\n4. This soda is really refreshing!  \r\n   (Эта газировка действительно освежающая!)\r\n\r\n5. What kind of wine goes well with this dish?  \r\n   (Какое вино хорошо сочетается с этим блюдом?)\r\n\r\n▎Вопросы о напитках\r\n\r\n1. What’s your favorite drink?  \r\n   (Какой твой любимый напиток?)\r\n\r\n2. Do you prefer hot or cold beverages?  \r\n   (Ты предпочитаешь горячие или холодные напитки?)\r\n\r\n3. Have you ever tried making your own cocktails?  \r\n   (Ты когда-нибудь пробовал делать свои собственные коктейли?)\r\n\r\n▎Фразы для общения о напитках\r\n\r\n1. Let’s grab a drink after work!  \r\n   (Давай выпьем что-нибудь после работы!)\r\n\r\n2. I’ll have a glass of water, please.  \r\n   (Я буду стакан воды, пожалуйста.)\r\n\r\n3. This cocktail is delicious! What’s in it?  \r\n   (Этот коктейль вкусный! Что в нем?)\r\n\r\n","description":"","x":840,"y":750,"message_type":1,"action_url":"","created_at":"2025-02-14T07:38:35.597+03:00","updated_at":"2025-02-14T07:38:53.603+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41904353,"project_id":569981,"condition":"Условные предложения B2.","answer":"Условные предложения в английском языке (conditional sentences) используются для выражения условий и их последствий. Они делятся на несколько типов, каждый из которых имеет свои особенности. Вот основные типы условных предложений:\r\n\r\n### 1. Нулевое условие (Zero Conditional)\r\n\r\n**Структура:**  \r\nIf + Present Simple, Present Simple\r\n\r\n**Пример:**  \r\n- If you heat water to 100 degrees Celsius, it boils.  \r\n(Если вы нагреете воду до 100 градусов Цельсия, она закипит.)\r\n\r\n**Использование:**  \r\nИспользуется для общих истин или фактов.\r\n\r\n---\r\n\r\n### 2. Первое условие (First Conditional)\r\n\r\n**Структура:**  \r\nIf + Present Simple, will + Base Form of the Verb\r\n\r\n**Пример:**  \r\n- If it rains tomorrow, I will stay at home.  \r\n(Если завтра пойдет дождь, я останусь дома.)\r\n\r\n**Использование:**  \r\nИспользуется для реальных и возможных ситуаций в будущем.\r\n\r\n---\r\n\r\n### 3. Второе условие (Second Conditional)\r\n\r\n**Структура:**  \r\nIf + Past Simple, would + Base Form of the Verb\r\n\r\n**Пример:**  \r\n- If I had a million dollars, I would travel the world.  \r\n(Если бы у меня был миллион долларов, я бы путешествовал по миру.)\r\n\r\n**Использование:**  \r\nИспользуется для гипотетических или маловероятных ситуаций в настоящем или будущем.\r\n\r\n---\r\n\r\n### 4. Третье условие (Third Conditional)\r\n\r\n**Структура:**  \r\nIf + Past Perfect, would have + Past Participle\r\n\r\n**Пример:**  \r\n- If I had known about the party, I would have gone.  \r\n(Если бы я знал о вечеринке, я бы пошел.)\r\n\r\n**Использование:**  \r\nИспользуется для обсуждения гипотетических ситуаций в прошлом, которые не произошли.\r\n\r\n---\r\n\r\n### 5. Смешанные условия (Mixed Conditionals)\r\n\r\nСмешанные условия объединяют элементы второго и третьего условий.\r\n\r\n**Пример:**  \r\n- If I had studied harder (Third Conditional), I would be a doctor now (Second Conditional).  \r\n(Если бы я учился усерднее, я был бы доктором сейчас.)\r\n\r\n**Использование:**  \r\nИспользуются для выражения ситуации, когда причина и следствие относятся к разным временным периодам.\r\n\r\n---\r\n\r\n### Упражнения для практики\r\n\r\n1. Заполните пропуски:\r\n   - If it ___ (rain) tomorrow, I ___ (stay) at home.\r\n   - If I ___ (be) you, I ___ (take) the job.\r\n\r\n2. Переведите на английский:\r\n   - Если бы у меня была машина, я бы ездил на работу быстрее.\r\n   - Если она придет вовремя, мы успеем на фильм.\r\n\r\n","description":"","x":-160,"y":1310,"message_type":1,"action_url":"","created_at":"2025-02-14T07:41:53.813+03:00","updated_at":"2025-02-14T07:43:15.635+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{\"attachments\":[]}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41904356,"project_id":569981,"condition":"Непрямая речь B2.","answer":"Непрямая речь (reported speech) в английском языке используется для передачи слов другого человека, не цитируя их дословно. При этом необходимо учитывать изменения в грамматике, времени, местоимениях и наречиях. Вот основные правила и примеры.\r\n\r\n▎1. Изменение времен\r\n\r\nПри переходе в непрямую речь время глагола обычно сдвигается на одно время назад:\r\n\r\n• Present Simple → Past Simple\r\n\r\n  • Прямой: She says, \"I like chocolate.\"\r\n\r\n  • Непрямая: She says that she likes chocolate.\r\n\r\n• Present Continuous → Past Continuous\r\n\r\n  • Прямой: He says, \"I am reading a book.\"\r\n\r\n  • Непрямая: He says that he is reading a book.\r\n\r\n• Past Simple → Past Perfect\r\n\r\n  • Прямой: They said, \"We went to the park.\"\r\n\r\n  • Непрямая: They said that they had gone to the park.\r\n\r\n• Future Simple → Conditional\r\n\r\n  • Прямой: She will say, \"I will call you.\"\r\n\r\n  • Непрямая: She said that she would call me.\r\n\r\n▎2. Изменение местоимений\r\n\r\nПри передаче речи также меняются местоимения:\r\n\r\n• Прямой: He said, \"I will help you.\"\r\n\r\n• Непрямая: He said that he would help me.\r\n\r\n▎3. Изменение наречий времени и места\r\n\r\nНекоторые наречия также меняются:\r\n\r\n• now → then\r\n\r\n• today → that day\r\n\r\n• tomorrow → the next day / the following day\r\n\r\n• yesterday → the day before\r\n\r\n• here → there\r\n\r\n▎4. Вопросительные предложения\r\n\r\nЕсли передаете вопрос, порядок слов изменяется, и используется \"if\" или \"whether\" для вопросов с ответом \"да/нет\":\r\n\r\n• Прямой: She asked, \"Do you like ice cream?\"\r\n\r\n• Непрямая: She asked if I liked ice cream.\r\n\r\nДля специальных вопросов (с вопросительными словами) порядок слов сохраняется:\r\n\r\n• Прямой: He asked, \"Where are you going?\"\r\n\r\n• Непрямая: He asked where I was going.\r\n\r\n▎5. Приказания и просьбы\r\n\r\nДля передачи приказаний или просьб используется \"to\" + глагол:\r\n\r\n• Прямой: She said, \"Close the door.\"\r\n\r\n• Непрямая: She told me to close the door.\r\n\r\n▎Примеры\r\n\r\n1. Прямой: John said, \"I am tired.\"  \r\n   Непрямая: John said that he was tired.\r\n\r\n2. Прямой: Mary asked, \"What time is it?\"  \r\n   Непрямая: Mary asked what time it was.\r\n\r\n3. Прямой: Tom said, \"I will finish my work tomorrow.\"  \r\n   Непрямая: Tom said that he would finish his work the next day.\r\n\r\n▎Упражнения для практики\r\n\r\n1. Переведите в непрямую речь:\r\n\r\n   • Sarah said, \"I love this song.\"\r\n\r\n   • They asked, \"Are you coming to the party?\"\r\n\r\n2. Преобразуйте в прямую речь:\r\n\r\n   • He said that he was busy.\r\n\r\n   • She asked if I wanted tea.\r\n\r\n","description":"","x":-160,"y":1370,"message_type":1,"action_url":"","created_at":"2025-02-14T07:44:08.868+03:00","updated_at":"2025-02-14T07:44:29.744+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41904359,"project_id":569981,"condition":"Глаголы с предлогами B2.","answer":"Глаголы с предлогами (phrasal verbs) в английском языке представляют собой сочетания глаголов с предлогами или наречиями, которые придают словосочетанию особое значение. Вот несколько основных категорий и примеры таких глаголов:\r\n\r\n▎1. Глаголы с предлогами, изменяющие значение\r\n\r\n• give up — сдаваться, прекращать\r\n\r\n  • I decided to give up smoking.\r\n\r\n  \r\n• look after — заботиться о\r\n\r\n  • She looks after her younger brother.\r\n\r\n• run into — столкнуться с (внезапно встретить)\r\n\r\n  • I ran into an old friend at the store.\r\n\r\n• take off — взлетать (о самолете), снимать (одежду)\r\n\r\n  • The plane took off on time.\r\n\r\n  • Please take off your shoes.\r\n\r\n▎2. Глаголы с предлогами, означающие движение\r\n\r\n• go out — выходить (на улицу, на вечеринку)\r\n\r\n  • We are going out for dinner tonight.\r\n\r\n• come back — возвращаться\r\n\r\n  • When will you come back?\r\n\r\n• get in — входить, садиться (в транспорт)\r\n\r\n  • We got in the car and drove away.\r\n\r\n• get out — выходить (из транспорта)\r\n\r\n  • Please get out of the car.\r\n\r\n▎3. Глаголы с предлогами, относящиеся к общению\r\n\r\n• talk about — говорить о\r\n\r\n  • Let’s talk about your plans.\r\n\r\n• ask for — просить о\r\n\r\n  • He asked for help with his homework.\r\n\r\n• listen to — слушать\r\n\r\n  • I love listening to music.\r\n\r\n▎4. Глаголы с предлогами, относящиеся к состояниям и ощущениям\r\n\r\n• worry about — беспокоиться о\r\n\r\n  • Don’t worry about the exam; you’ll do great.\r\n\r\n• think about — думать о\r\n\r\n  • I’ve been thinking about changing my job.\r\n\r\n• dream of — мечтать о\r\n\r\n  • She dreams of traveling the world.\r\n\r\n▎5. Глаголы с предлогами, относящиеся к действиям\r\n\r\n• give in — уступать\r\n\r\n  • After a long argument, he finally gave in.\r\n\r\n• put off — откладывать\r\n\r\n  • We had to put off the meeting until next week.\r\n\r\n• carry on — продолжать\r\n\r\n  • Please carry on with your work.\r\n\r\n▎Примеры использования в предложениях\r\n\r\n1. give up: \r\n\r\n   • After several attempts, he decided to give up trying to fix the car.\r\n\r\n  \r\n2. look after: \r\n\r\n   • My parents are going on vacation, so I will look after the house.\r\n\r\n3. run into: \r\n\r\n   • I ran into my teacher at the grocery store yesterday.\r\n\r\n4. take off: \r\n\r\n   • The pilot announced that we would take off shortly.\r\n\r\n5. talk about: \r\n\r\n   • We need to talk about your performance in the project.\r\n\r\n▎Упражнения для практики\r\n\r\n1. Заполните пропуски подходящими фразовыми глаголами:\r\n\r\n   • I need to  this project before the deadline.\r\n\r\n   • Can you  me when you arrive?\r\n\r\n2. Переведите на английский язык:\r\n\r\n   • Я мечтаю о путешествии по Европе.\r\n\r\n   • Он беспокоится о своих экзаменах.\r\n","description":"","x":-160,"y":1440,"message_type":1,"action_url":"","created_at":"2025-02-14T07:45:21.361+03:00","updated_at":"2025-02-14T07:45:42.718+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41904361,"project_id":569981,"condition":"Степени сравнения наречий B2.","answer":"В английском языке наречия, как и прилагательные, могут иметь степени сравнения: положительную, сравнительную и превосходную. Вот основные правила и примеры их образования.\r\n\r\n▎1. Положительная степень (Positive Degree)\r\n\r\nЭто базовая форма наречия, которая не сравнивает действия. Например:\r\n\r\n• fast (быстро)\r\n\r\n• carefully (осторожно)\r\n\r\n• well (хорошо)\r\n\r\n▎2. Сравнительная степень (Comparative Degree)\r\n\r\nСравнительная степень используется для сравнения двух действий. Обычно для образования сравнительной степени наречий добавляется суффикс -er или используется слово more.\r\n\r\n• Односложные наречия: добавляем -er.\r\n\r\n  • fast → faster (быстрее)\r\n\r\n  • hard → harder (усерднее)\r\n\r\n• Многосложные наречия: используем more.\r\n\r\n  • carefully → more carefully (более осторожно)\r\n\r\n  • quickly → more quickly (более быстро)\r\n\r\n▎3. Превосходная степень (Superlative Degree)\r\n\r\nПревосходная степень используется для обозначения наивысшей степени качества среди трех и более действий. Обычно для образования превосходной степени наречий добавляется суффикс -est или используется слово most.\r\n\r\n• Односложные наречия: добавляем -est.\r\n\r\n  • fast → fastest (самый быстрый)\r\n\r\n  • hard → hardest (самый усердный)\r\n\r\n• Многосложные наречия: используем most.\r\n\r\n  • carefully → most carefully (наиболее осторожно)\r\n\r\n  • quickly → most quickly (наиболее быстро)\r\n\r\n▎Примеры использования\r\n\r\n1. Положительная степень:\r\n\r\n   • She runs fast. (Она бегает быстро.)\r\n\r\n2. Сравнительная степень:\r\n\r\n   • He runs faster than his brother. (Он бегает быстрее своего брата.)\r\n\r\n   • She speaks more clearly than before. (Она говорит более четко, чем раньше.)\r\n\r\n3. Превосходная степень:\r\n\r\n   • He is the fastest runner in the team. (Он самый быстрый бегун в команде.)\r\n\r\n   • She sings the most beautifully of all the contestants. (Она поет наиболее красиво из всех конкурсантов.)\r\n\r\n▎Исключения\r\n\r\nНекоторые наречия имеют неправильные формы сравнения:\r\n\r\n• well → better → best (хорошо → лучше → самый хороший)\r\n\r\n• badly → worse → worst (плохо → хуже → самый плохой)\r\n\r\n","description":"","x":-160,"y":1500,"message_type":1,"action_url":"","created_at":"2025-02-14T07:46:47.920+03:00","updated_at":"2025-02-14T07:46:58.948+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41904363,"project_id":569981,"condition":"Инфинитивы B2.","answer":"Инфинитив в английском языке — это базовая форма глагола, которая обычно используется с частицей \"to\". Инфинитив может выполнять различные функции в предложении, такие как подлежащее, дополнение или часть составного сказуемого. Вот основные аспекты, связанные с инфинитивами:\r\n\r\n▎1. Образование инфинитива\r\n\r\nПростой инфинитив: \r\n\r\n• Например: to eat (есть), to run (бежать), to read (читать).\r\n\r\n▎2. Функции инфинитива\r\n\r\n• Подлежащее:\r\n\r\n  • To travel is my dream. (Путешествовать — моя мечта.)\r\n\r\n  \r\n• Дополнение:\r\n\r\n  • I want to learn English. (Я хочу учить английский.)\r\n\r\n  \r\n• Часть составного сказуемого:\r\n\r\n  • He seems to be happy. (Он кажется счастливым.)\r\n\r\n▎3. Инфинитив без \"to\"\r\n\r\nИнфинитив может использоваться без частицы \"to\" после некоторых модальных глаголов и определенных выражений. Например:\r\n\r\n• I can swim. (Я могу плавать.)\r\n\r\n• You must study harder. (Ты должен учиться усерднее.)\r\n\r\n▎4. Сложный инфинитив\r\n\r\nСложный инфинитив образуется с помощью \"to\" и формы глагола с \"have\" или \"be\":\r\n\r\n• to have eaten (поесть)\r\n\r\n• to be running (бежать)\r\n\r\n▎5. Инфинитивы в различных временах\r\n\r\nИнфинитив может также указывать на время действия:\r\n\r\n• Настоящее время: to eat (есть)\r\n\r\n• Прошедшее время: to have eaten (поесть)\r\n\r\n• Будущее время: to be eating (есть в данный момент)\r\n\r\n▎6. Инфинитивы с различными значениями\r\n\r\nИнфинитив может использоваться в разных контекстах и иметь различные значения:\r\n\r\n• Цель: \r\n\r\n  • She studies hard to pass the exam. (Она усердно учится, чтобы сдать экзамен.)\r\n\r\n  \r\n• Причина:\r\n\r\n  • He was happy to help. (Он был рад помочь.)\r\n\r\n▎7. Инфинитивы и предлоги\r\n\r\nИнфинитив может следовать за некоторыми предлогами:\r\n\r\n• I am looking forward to meeting you. (Я с нетерпением жду встречи с тобой.)\r\n\r\n▎Примеры использования инфинитивов\r\n\r\n1. Как подлежащее:\r\n\r\n   • To read books is enjoyable. (Чтение книг приносит удовольствие.)\r\n\r\n2. Как дополнение:\r\n\r\n   • She decided to leave early. (Она решила уйти пораньше.)\r\n\r\n3. В сочетании с модальными глаголами:\r\n\r\n   • They should go now. (Им следует идти сейчас.)\r\n\r\n4. В сложных формах:\r\n\r\n   • He seems to have forgotten the meeting. (Он, похоже, забыл о встрече.)","description":"","x":-160,"y":1560,"message_type":1,"action_url":"","created_at":"2025-02-14T07:47:22.315+03:00","updated_at":"2025-02-14T07:49:19.866+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{\"attachments\":[]}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41904371,"project_id":569981,"condition":"Фразовые глаголы B2.","answer":"Фразовые глаголы — это комбинации глаголов с предлогами или наречиями, которые образуют новое значение. Они широко используются в разговорном английском языке и могут быть трудными для понимания, так как их значение часто не выводится из значений отдельных слов. Вот основные аспекты, связанные с фразовыми глаголами:\r\n\r\n▎1. Структура фразовых глаголов\r\n\r\nФразовые глаголы обычно состоят из:\r\n\r\n• Глагол + предлог/наречие:\r\n\r\n  • Например: give up (сдаваться), look after (заботиться), turn off (выключать).\r\n\r\n▎2. Классификация фразовых глаголов\r\n\r\n• Транзитивные: требуют дополнение.\r\n\r\n  • Например: turn off (выключать) — \"Please turn off the light.\"\r\n\r\n  \r\n• Интранзитивные: не требуют дополнения.\r\n\r\n  • Например: wake up (просыпаться) — \"I usually wake up at 7 AM.\"\r\n\r\n▎3. Значение фразовых глаголов\r\n\r\nЗначение фразового глагола часто отличается от значения основного глагола. Вот несколько примеров:\r\n\r\n• Give up: сдаваться.\r\n\r\n  • I won't give up! (Я не сдамся!)\r\n\r\n  \r\n• Look after: заботиться о ком-то.\r\n\r\n  • Can you look after my dog? (Можешь присмотреть за моей собакой?)\r\n\r\n• Take off: взлетать или снимать (одежду).\r\n\r\n  • The plane will take off at 3 PM. (Самолет вылетит в 3 часа дня.)\r\n\r\n▎4. Примеры популярных фразовых глаголов\r\n\r\nВот некоторые распространенные фразовые глаголы и их значения:\r\n\r\n1. Break down: ломаться, выходить из строя.\r\n\r\n   • My car broke down on the way. (Моя машина сломалась по дороге.)\r\n\r\n2. Come back: возвращаться.\r\n\r\n   • When will you come back? (Когда ты вернешься?)\r\n\r\n3. Find out: выяснять, находить информацию.\r\n\r\n   • I need to find out the truth. (Мне нужно выяснить правду.)\r\n\r\n4. Get along: ладить, быть в хороших отношениях.\r\n\r\n   • Do you get along with your neighbors? (Ты ладишь со своими соседями?)\r\n\r\n5. Look forward to: с нетерпением ждать.\r\n\r\n   • I look forward to seeing you. (Я с нетерпением жду встречи с тобой.)\r\n\r\n▎5. Использование фразовых глаголов в предложениях\r\n\r\nФразовые глаголы могут быть использованы в различных контекстах:\r\n\r\n• I need to pick up** some groceries on my way home. (Мне нужно забрать продукты по пути домой.)\r\n\r\n  \r\n• She decided to give up** smoking for her health. (Она решила бросить курить ради своего здоровья.)\r\n\r\n▎6. Советы по изучению фразовых глаголов\r\n\r\n• Запоминайте их в контексте: Учите фразовые глаголы вместе с предложениями, чтобы лучше запомнить их значение и использование.\r\n\r\n  \r\n• Практикуйтесь в разговоре: Используйте фразовые глаголы в своих разговорах, чтобы привыкнуть к ним.\r\n\r\n• Создавайте ассоциации: Придумывайте образы или истории, связанные с каждым фразовым глаголом.\r\n\r\n","description":"","x":-160,"y":1620,"message_type":1,"action_url":"","created_at":"2025-02-14T07:51:15.629+03:00","updated_at":"2025-02-14T07:51:26.424+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41904378,"project_id":569981,"condition":"Экология и окружающая среда B2.","answer":"Экология и окружающая среда — это важные темы, которые обсуждаются во всем мире. Вот несколько ключевых аспектов, связанных с экологией и охраной окружающей среды, а также полезная лексика на английском языке.\r\n\r\n▎Основные термины\r\n\r\n1. Ecology (экология) — наука о взаимодействии организмов и их окружения.\r\n\r\n2. Environment (окружающая среда) — всё, что окружает живые организмы, включая воздух, воду и землю.\r\n\r\n3. Sustainability (устойчивое развитие) — использование ресурсов таким образом, чтобы не истощать их для будущих поколений.\r\n\r\n4. Biodiversity (биоразнообразие) — разнообразие видов живых организмов на планете.\r\n\r\n5. Pollution (загрязнение) — введение вредных веществ в окружающую среду.\r\n\r\n6. Climate change (изменение климата) — долгосрочные изменения температуры и погодных условий на Земле.\r\n\r\n7. Conservation (сохранение) — защита и сохранение природных ресурсов и экосистем.\r\n\r\n8. Renewable energy (возобновляемая энергия) — энергия, получаемая из источников, которые восстанавливаются естественным образом, например, солнечная или ветровая энергия.\r\n\r\n▎Проблемы окружающей среды\r\n\r\n1. Global warming (глобальное потепление) — повышение средней температуры Земли из-за увеличения парниковых газов в атмосфере.\r\n\r\n2. Deforestation (вырубка лесов) — уничтожение лесов для сельского хозяйства, строительства и других нужд.\r\n\r\n3. Overfishing (перелов рыбы) — чрезмерный вылов рыбы, что угрожает морским экосистемам.\r\n\r\n4. Waste management (управление отходами) — процесс сбора, транспортировки и утилизации отходов.\r\n\r\n5. Endangered species (вымирающие виды) — виды животных и растений, находящиеся под угрозой исчезновения.\r\n\r\n▎Устойчивое развитие\r\n\r\n1. Reduce, Reuse, Recycle (уменьшай, повторно используй, перерабатывай) — принципы устойчивого потребления.\r\n\r\n2. Eco-friendly (экологически чистый) — продукты или действия, которые не наносят вреда окружающей среде.\r\n\r\n3. Green energy (зеленая энергия) — энергия, получаемая из экологически чистых источников.\r\n\r\n▎Примеры предложений\r\n\r\n• We need to take action to combat climate change.  \r\n  (Нам нужно предпринять меры для борьбы с изменением климата.)\r\n\r\n• Protecting biodiversity is essential for a healthy ecosystem.  \r\n  (Защита биоразнообразия необходима для здоровой экосистемы.)\r\n\r\n• Using renewable energy sources can help reduce pollution.  \r\n  (Использование возобновляемых источников энергии может помочь сократить загрязнение.)\r\n\r\n• Recycling helps conserve natural resources and reduce waste.  \r\n  (Переработка помогает сохранить природные ресурсы и сократить количество отходов.)\r\n\r\n▎Заключение\r\n\r\nЭкология и охрана окружающей среды являются актуальными темами, которые требуют нашего внимания и действий. Изучение английского языка в контексте экологии поможет вам лучше понимать эти важные вопросы и участвовать в международных дискуссиях. ","description":"","x":-160,"y":1680,"message_type":1,"action_url":"","created_at":"2025-02-14T07:52:27.312+03:00","updated_at":"2025-02-14T07:52:27.312+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41904395,"project_id":569981,"condition":"Образование и обучение B2.","answer":"\r\n\r\n\r\n▎Основные термины\r\n\r\n1. Education (образование)\r\n\r\n2. Learning (обучение)\r\n\r\n3. School (школа)\r\n\r\n4. University (университет)\r\n\r\n5. Teacher (учитель)\r\n\r\n6. Student (студент)\r\n\r\n7. Classroom (классная комната)\r\n\r\n8. Curriculum (учебный план)\r\n\r\n9. Homework (домашнее задание)\r\n\r\n10. Assessment (оценка)\r\n\r\n▎Примеры предложений\r\n\r\n1. Education is the key to a successful future.  \r\n   (Образование — это ключ к успешному будущему.)\r\n\r\n2. I am a student at the local university.  \r\n   (Я студент местного университета.)\r\n\r\n3. Teachers play an important role in shaping young minds.  \r\n   (Учителя играют важную роль в формировании молодых умов.)\r\n\r\n4. The curriculum includes various subjects such as mathematics and science.  \r\n   (Учебный план включает в себя различные предметы, такие как математика и наука.)\r\n\r\n5. Students should complete their homework on time to improve their grades.  \r\n   (Студенты должны выполнять домашние задания вовремя, чтобы улучшить свои оценки.)\r\n\r\n6. Learning a new language can be challenging but rewarding.  \r\n   (Изучение нового языка может быть сложным, но полезным.)\r\n\r\n7. Assessments help teachers evaluate students' progress.  \r\n   (Оценки помогают учителям оценивать прогресс студентов.)\r\n\r\n8. Online learning has become increasingly popular in recent years.  \r\n   (Онлайн-обучение стало все более популярным в последние годы.)\r\n\r\n9. Participating in class discussions can enhance your understanding of the subject.  \r\n   (Участие в классных обсуждениях может улучшить ваше понимание предмета.)\r\n\r\n10. Extracurricular activities are important for a well-rounded education.  \r\n    (Внеучебные мероприятия важны для всестороннего образования.)\r\n\r\n▎Заключение\r\n\r\nОбразование и обучение играют ключевую роль в нашем развитии и будущем. Знание английской лексики на эту тему поможет вам лучше общаться и понимать образовательные процессы. ","description":"","x":-160,"y":1740,"message_type":1,"action_url":"","created_at":"2025-02-14T07:55:04.942+03:00","updated_at":"2025-02-14T07:55:20.888+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41904407,"project_id":569981,"condition":"Взаимодействия B2.","answer":"\r\n▎Основные термины\r\n\r\n1. Interaction — взаимодействие\r\n\r\n2. Engagement — вовлеченность, участие\r\n\r\n3. Communication — коммуникация, общение\r\n\r\n4. Collaboration — сотрудничество\r\n\r\n5. Connection — связь, соединение\r\n\r\n6. Relationship — отношения\r\n\r\n7. Feedback — обратная связь\r\n\r\n8. Networking — создание сети контактов\r\n\r\n9. Partnership — партнерство\r\n\r\n10. Dialogue — диалог\r\n\r\n▎Связанные фразы\r\n\r\n1. Interpersonal skills — навыки общения между людьми\r\n\r\n2. Teamwork — работа в команде\r\n\r\n3. Conflict resolution — разрешение конфликтов\r\n\r\n4. Active listening — активное слушание\r\n\r\n5. Social interaction — социальное взаимодействие\r\n\r\n6. Mutual understanding — взаимопонимание\r\n\r\n7. Cross-cultural communication — межкультурная коммуникация\r\n\r\n8. Collaboration tools — инструменты для сотрудничества\r\n\r\n9. Online interaction — онлайн-взаимодействие\r\n\r\n10. Emotional intelligence — эмоциональный интеллект\r\n\r\n▎Примеры предложений\r\n\r\n1. Effective communication is key to successful interaction in any team.  \r\n   (Эффективная коммуникация является ключом к успешному взаимодействию в любой команде.)\r\n\r\n2. Building strong relationships requires trust and open dialogue.  \r\n   (Построение крепких отношений требует доверия и открытого диалога.)\r\n\r\n3. Feedback from colleagues can enhance collaboration and improve results.  \r\n   (Обратная связь от коллег может улучшить сотрудничество и повысить результаты.)\r\n\r\n4. Networking events are great opportunities for professional interaction.  \r\n   (Сетевые мероприятия являются отличными возможностями для профессионального взаимодействия.)\r\n\r\n5. Understanding cultural differences is essential for effective cross-cultural communication.  \r\n   (Понимание культурных различий необходимо для эффективной межкультурной коммуникации.)\r\n","description":"","x":60,"y":1320,"message_type":1,"action_url":"","created_at":"2025-02-14T07:57:18.191+03:00","updated_at":"2025-02-14T10:01:12.757+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{\"attachments\":[]}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41904409,"project_id":569981,"condition":"Работа B2.","answer":"\r\n\r\n▎Основные термины\r\n\r\n1. Job — работа, должность\r\n\r\n2. Career — карьера\r\n\r\n3. Employment — занятость\r\n\r\n4. Occupation — профессия\r\n\r\n5. Profession — специальность, профессия\r\n\r\n6. Workplace — рабочее место\r\n\r\n7. Colleague — коллега\r\n\r\n8. Employer — работодатель\r\n\r\n9. Employee — сотрудник\r\n\r\n10. Internship — стажировка\r\n\r\n▎Связанные фразы\r\n\r\n1. Job interview — собеседование\r\n\r\n2. Resume/CV — резюме\r\n\r\n3. Job description — описание работы\r\n\r\n4. Work-life balance — баланс между работой и личной жизнью\r\n\r\n5. Full-time/part-time — полный рабочий день/неполный рабочий день\r\n\r\n6. Promotion — повышение по службе\r\n\r\n7. Salary — зарплата\r\n\r\n8. Benefits — льготы, преимущества\r\n\r\n9. Performance review — оценка работы\r\n\r\n10. Networking — создание профессиональных контактов\r\n\r\n▎Примеры предложений\r\n\r\n1. I am looking for a job that matches my skills and interests.  \r\n   (Я ищу работу, которая соответствует моим навыкам и интересам.)\r\n\r\n2. A good resume can help you stand out in a competitive job market.  \r\n   (Хорошее резюме может помочь вам выделиться на конкурентном рынке труда.)\r\n\r\n3. Work-life balance is important for maintaining overall well-being.  \r\n   (Баланс между работой и личной жизнью важен для поддержания общего благополучия.)\r\n\r\n4. I had a job interview last week and I think it went well.  \r\n   (У меня было собеседование на прошлой неделе, и я думаю, что оно прошло хорошо.)\r\n\r\n5. Many companies offer benefits such as health insurance and retirement plans.  \r\n   (Многие компании предлагают льготы, такие как медицинская страховка и пенсионные планы.)\r\n\r\n","description":"","x":60,"y":1380,"message_type":1,"action_url":"","created_at":"2025-02-14T07:58:16.292+03:00","updated_at":"2025-02-14T10:02:12.456+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{\"attachments\":[]}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41904435,"project_id":569981,"condition":"Образование B2.","answer":"Вот некоторые слова и фразы на английском языке, связанные с темой образования:\r\n\r\n▎Основные термины\r\n\r\n1. Education — образование\r\n\r\n2. School — школа\r\n\r\n3. University — университет\r\n\r\n4. College — колледж\r\n\r\n5. Student — студент, учащийся\r\n\r\n6. Teacher — учитель\r\n\r\n7. Classroom — классная комната\r\n\r\n8. Curriculum — учебный план\r\n\r\n9. Subject — предмет\r\n\r\n10. Degree — степень\r\n\r\n▎Связанные фразы\r\n\r\n1. Higher education — высшее образование\r\n\r\n2. Primary/secondary education — начальное/среднее образование\r\n\r\n3. Extracurricular activities — внеучебные мероприятия\r\n\r\n4. Tuition fees — плата за обучение\r\n\r\n5. Scholarship — стипендия\r\n\r\n6. Graduation — выпуск, окончание учебного заведения\r\n\r\n7. Enrollment — зачисление\r\n\r\n8. Transcript — академическая справка\r\n\r\n9. Assessment — оценка, аттестация\r\n\r\n10. Learning environment — образовательная среда\r\n\r\n▎Примеры предложений\r\n\r\n1. Education is the key to success in life.  \r\n   (Образование — это ключ к успеху в жизни.)\r\n\r\n2. I am studying for my degree in psychology at university.  \r\n   (Я учусь на факультете психологии в университете.)\r\n\r\n3. Extracurricular activities are important for personal development.  \r\n   (Внеучебные мероприятия важны для личного развития.)\r\n\r\n4. Many students apply for scholarships to help with tuition fees.  \r\n   (Многие студенты подают заявки на стипендии, чтобы помочь с оплатой обучения.)\r\n\r\n5. The curriculum includes a variety of subjects such as math, science, and literature.  \r\n   (Учебный план включает в себя различные предметы, такие как математика, наука и литература.)\r\n\r\n","description":"","x":60,"y":1440,"message_type":1,"action_url":"","created_at":"2025-02-14T07:59:50.371+03:00","updated_at":"2025-02-14T08:00:02.893+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41904450,"project_id":569981,"condition":"Наука B2.","answer":"Вот некоторые слова и фразы на английском языке, связанные с темой науки:\r\n\r\n▎Основные термины\r\n\r\n1. Science — наука\r\n\r\n2. Research — исследование\r\n\r\n3. Experiment — эксперимент\r\n\r\n4. Hypothesis — гипотеза\r\n\r\n5. Theory — теория\r\n\r\n6. Data — данные\r\n\r\n7. Observation — наблюдение\r\n\r\n8. Analysis — анализ\r\n\r\n9. Conclusion — вывод\r\n\r\n10. Variable — переменная\r\n\r\n▎Разделы науки\r\n\r\n1. Physics — физика\r\n\r\n2. Chemistry — химия\r\n\r\n3. Biology — биология\r\n\r\n4. Mathematics — математика\r\n\r\n5. Astronomy — астрономия\r\n\r\n6. Geology — геология\r\n\r\n7. Ecology — экология\r\n\r\n8. Psychology — психология\r\n\r\n9. Sociology — социология\r\n\r\n10. Genetics — генетика\r\n\r\n▎Связанные фразы\r\n\r\n1. Scientific method — научный метод\r\n\r\n2. Peer review — рецензирование коллегами\r\n\r\n3. Field study — полевое исследование\r\n\r\n4. Laboratory experiment — лабораторный эксперимент\r\n\r\n5. Control group — контрольная группа\r\n\r\n6. Sample size — размер выборки\r\n\r\n7. Significant results — значимые результаты\r\n\r\n8. Publication — публикация\r\n\r\n9. Interdisciplinary research — междисциплинарное исследование\r\n\r\n10. Ethical considerations — этические соображения\r\n\r\n▎Примеры предложений\r\n\r\n1. Science helps us understand the world around us.  \r\n   (Наука помогает нам понять окружающий нас мир.)\r\n\r\n2. The scientific method involves making observations and conducting experiments.  \r\n   (Научный метод включает в себя наблюдения и проведение экспериментов.)\r\n\r\n3. A hypothesis is a proposed explanation for a phenomenon.  \r\n   (Гипотеза — это предложенное объяснение явления.)\r\n\r\n4. Data analysis is crucial for drawing accurate conclusions.  \r\n   (Анализ данных имеет решающее значение для получения точных выводов.)\r\n\r\n5. Interdisciplinary research can lead to innovative solutions to complex problems.  \r\n   (Междисциплинарные исследования могут привести к инновационным решениям сложных проблем.)","description":"","x":60,"y":1500,"message_type":1,"action_url":"","created_at":"2025-02-14T08:00:44.814+03:00","updated_at":"2025-02-14T08:01:47.447+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41904504,"project_id":569981,"condition":"Здоровье B2. ","answer":"Вот некоторые слова и фразы на английском языке, связанные с темой здоровья:\r\n\r\n▎Основные термины\r\n\r\n1. Health — здоровье\r\n\r\n2. Wellness — благополучие\r\n\r\n3. Nutrition — питание\r\n\r\n4. Exercise — физические упражнения\r\n\r\n5. Fitness — фитнес\r\n\r\n6. Disease — болезнь\r\n\r\n7. Illness — недомогание\r\n\r\n8. Symptoms — симптомы\r\n\r\n9. Diagnosis — диагностика\r\n\r\n10. Treatment — лечение\r\n\r\n▎Разделы здоровья\r\n\r\n1. Medicine — медицина\r\n\r\n2. Public health — общественное здоровье\r\n\r\n3. Mental health — психическое здоровье\r\n\r\n4. Preventive care — профилактическое обслуживание\r\n\r\n5. Rehabilitation — реабилитация\r\n\r\n6. Pharmacy — фармацевтика\r\n\r\n7. Surgery — хирургия\r\n\r\n8. Pediatrics — педиатрия\r\n\r\n9. Geriatrics — гериатрия\r\n\r\n10. Nutritionist — диетолог\r\n\r\n▎Связанные фразы\r\n\r\n1. Healthy lifestyle — здоровый образ жизни\r\n\r\n2. Regular check-ups — регулярные осмотры\r\n\r\n3. Balanced diet — сбалансированное питание\r\n\r\n4. Mental well-being — психическое благополучие\r\n\r\n5. Chronic disease — хроническое заболевание\r\n\r\n6. Preventive measures — профилактические меры\r\n\r\n7. Vaccination — вакцинация\r\n\r\n8. First aid — первая помощь\r\n\r\n9. Health insurance — медицинская страховка\r\n\r\n10. Physical therapy — физиотерапия\r\n\r\n▎Примеры предложений\r\n\r\n1. Maintaining a healthy lifestyle is important for overall well-being.  \r\n   (Поддержание здорового образа жизни важно для общего благополучия.)\r\n\r\n2. Regular exercise can help prevent chronic diseases.  \r\n   (Регулярные физические упражнения могут помочь предотвратить хронические заболевания.)\r\n\r\n3. A balanced diet is essential for good health.  \r\n   (Сбалансированное питание необходимо для хорошего здоровья.)\r\n\r\n4. Mental health is just as important as physical health.  \r\n   (Психическое здоровье так же важно, как и физическое.)\r\n\r\n5. Vaccination is a key preventive measure against infectious diseases.  \r\n   (Вакцинация является ключевой профилактической мерой против инфекционных заболеваний.)\r\n\r\n","description":"","x":60,"y":1560,"message_type":1,"action_url":"","created_at":"2025-02-14T08:09:16.602+03:00","updated_at":"2025-02-14T08:09:31.601+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41904514,"project_id":569981,"condition":"Общество B2.","answer":"Вот некоторые слова и фразы на английском языке, связанные с темой общества:\r\n\r\n▎Основные термины\r\n\r\n1. Society — общество\r\n\r\n2. Community — сообщество\r\n\r\n3. Culture — культура\r\n\r\n4. Socialization — социализация\r\n\r\n5. Diversity — разнообразие\r\n\r\n6. Tradition — традиция\r\n\r\n7. Values — ценности\r\n\r\n8. Norms — нормы\r\n\r\n9. Identity — идентичность\r\n\r\n10. Interaction — взаимодействие\r\n\r\n▎Социальные группы и структуры\r\n\r\n1. Family — семья\r\n\r\n2. Peer group — группа сверстников\r\n\r\n3. Class — класс (социальный)\r\n\r\n4. Ethnicity — этничность\r\n\r\n5. Gender — пол\r\n\r\n6. Religion — религия\r\n\r\n7. Institution — институт (например, образовательный, религиозный)\r\n\r\n8. Organization — организация\r\n\r\n9. Civic engagement — гражданское участие\r\n\r\n10. Activism — активизм\r\n\r\n▎Связанные фразы\r\n\r\n1. Social issues — социальные проблемы\r\n\r\n2. Community service — общественные работы\r\n\r\n3. Cultural exchange — культурный обмен\r\n\r\n4. Social justice — социальная справедливость\r\n\r\n5. Human rights — права человека\r\n\r\n6. Public opinion — общественное мнение\r\n\r\n7. Civic responsibility — гражданская ответственность\r\n\r\n8. Social cohesion — социальная сплоченность\r\n\r\n9. Marginalized groups — маргинализированные группы\r\n\r\n10. Globalization — глобализация\r\n\r\n▎Примеры предложений\r\n\r\n1. A diverse society enriches cultural experiences for everyone.  \r\n   (Разнообразное общество обогащает культурный опыт для всех.)\r\n\r\n2. Social issues like poverty and inequality need to be addressed.  \r\n   (Социальные проблемы, такие как бедность и неравенство, нуждаются в решении.)\r\n\r\n3. Community service can strengthen the bonds among residents.  \r\n   (Общественные работы могут укрепить связи между жителями.)\r\n\r\n4. Civic engagement is crucial for a healthy democracy.  \r\n   (Гражданское участие имеет решающее значение для здоровой демократии.)\r\n\r\n5. Understanding different cultures fosters tolerance and respect.  \r\n   (Понимание различных культур способствует терпимости и уважению.)\r\n","description":"","x":60,"y":1620,"message_type":1,"action_url":"","created_at":"2025-02-14T08:11:08.406+03:00","updated_at":"2025-02-14T08:13:18.301+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41904533,"project_id":569981,"condition":"Культура B2. ","answer":"Вот некоторые слова и фразы на английском языке, связанные с темой культуры:\r\n\r\n▎Основные термины\r\n\r\n1. Culture — культура\r\n\r\n2. Tradition — традиция\r\n\r\n3. Heritage — наследие\r\n\r\n4. Custom — обычай\r\n\r\n5. Art — искусство\r\n\r\n6. Literature — литература\r\n\r\n7. Music — музыка\r\n\r\n8. Dance — танец\r\n\r\n9. Cuisine — кухня (кулинарные традиции)\r\n\r\n10. Festival — фестиваль\r\n\r\n▎Связанные концепции\r\n\r\n1. Cultural identity — культурная идентичность\r\n\r\n2. Cultural diversity — культурное разнообразие\r\n\r\n3. Folklore — фольклор\r\n\r\n4. Mythology — мифология\r\n\r\n5. Ritual — ритуал\r\n\r\n6. Symbolism — символизм\r\n\r\n7. Aesthetics — эстетика\r\n\r\n8. Craftsmanship — мастерство (ремесло)\r\n\r\n9. Performing arts — исполнительские искусства\r\n\r\n10. Visual arts — изобразительное искусство\r\n\r\n▎Примеры предложений\r\n\r\n1. Cultural diversity enriches our society and promotes understanding.  \r\n   (Культурное разнообразие обогащает наше общество и способствует пониманию.)\r\n\r\n2. Festivals are a great way to celebrate cultural heritage.  \r\n   (Фестивали — отличный способ отпраздновать культурное наследие.)\r\n\r\n3. Traditional music often reflects the history of a community.  \r\n   (Традиционная музыка часто отражает историю сообщества.)\r\n\r\n4. Literature can provide insight into the values and beliefs of a culture.  \r\n   (Литература может дать представление о ценностях и убеждениях культуры.)\r\n\r\n5. Art is a powerful medium for expressing cultural identity.  \r\n   (Искусство — мощное средство для выражения культурной идентичности.)\r\n","description":"","x":60,"y":1680,"message_type":1,"action_url":"","created_at":"2025-02-14T08:15:26.681+03:00","updated_at":"2025-02-14T08:15:36.658+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41904618,"project_id":569981,"condition":"Путешествия и туризм B1.","answer":"\r\n\r\n▎Основные термины\r\n\r\n1. Travel — путешествовать\r\n\r\n2. Tourism — туризм\r\n\r\n3. Destination — место назначения\r\n\r\n4. Itinerary — маршрут\r\n\r\n5. Accommodation — жилье (где остановиться)\r\n\r\n6. Reservation — бронирование\r\n\r\n7. Sightseeing — осмотр достопримечательностей\r\n\r\n8. Adventure — приключение\r\n\r\n9. Passport — паспорт\r\n\r\n10. Visa — виза\r\n\r\n▎Связанные концепции\r\n\r\n1. Backpacking — туристические походы с рюкзаком\r\n\r\n2. Cultural exchange — культурный обмен\r\n\r\n3. Travel guide — путеводитель\r\n\r\n4. Tour package — туристический пакет\r\n\r\n5. Transportation — транспорт\r\n\r\n6. Travel insurance — туристическая страховка\r\n\r\n7. Souvenir — сувенир\r\n\r\n8. Local cuisine — местная кухня\r\n\r\n9. Eco-tourism — экологический туризм\r\n\r\n10. Travel blog — туристический блог\r\n\r\n▎Примеры предложений\r\n\r\n1. I love to travel and explore new cultures.  \r\n   (Я люблю путешествовать и изучать новые культуры.)\r\n\r\n2. Make sure to check your passport and visa requirements before traveling.  \r\n   (Обязательно проверьте требования к паспорту и визе перед поездкой.)\r\n\r\n3. We booked a tour package that includes accommodation and meals.  \r\n   (Мы забронировали туристический пакет, который включает жилье и питание.)\r\n\r\n4. Sightseeing is one of the best ways to learn about a new city.  \r\n   (Осмотр достопримечательностей — один из лучших способов узнать новый город.)\r\n\r\n5. Don't forget to buy souvenirs to remember your trip!  \r\n   (Не забудьте купить сувениры, чтобы помнить о своей поездке!)","description":"","x":-60,"y":600,"message_type":1,"action_url":"","created_at":"2025-02-14T08:19:56.768+03:00","updated_at":"2025-02-14T08:20:13.266+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41904630,"project_id":569981,"condition":"Здоровье и фитнес B1.","answer":"Вот некоторые слова и фразы на английском языке, связанные с темой здоровья и фитнеса:\r\n\r\n▎Основные термины\r\n\r\n1. Health — здоровье\r\n\r\n2. Fitness — фитнес, физическая форма\r\n\r\n3. Exercise — упражнение\r\n\r\n4. Nutrition — питание\r\n\r\n5. Diet — диета\r\n\r\n6. Wellness — благополучие\r\n\r\n7. Cardio — кардионагрузка (сердечно-сосудистые упражнения)\r\n\r\n8. Strength training — силовые тренировки\r\n\r\n9. Flexibility — гибкость\r\n\r\n10. Hydration — гидратация\r\n\r\n▎Связанные концепции\r\n\r\n1. Personal trainer — персональный тренер\r\n\r\n2. Workout routine — программа тренировок\r\n\r\n3. Healthy lifestyle — здоровый образ жизни\r\n\r\n4. Calorie — калория\r\n\r\n5. BMI (Body Mass Index) — индекс массы тела\r\n\r\n6. Supplement — добавка (например, витаминов)\r\n\r\n7. Mental health — психическое здоровье\r\n\r\n8. Yoga — йога\r\n\r\n9. Meditation — медитация\r\n\r\n10. Recovery — восстановление\r\n\r\n▎Примеры предложений\r\n\r\n1. Regular exercise is essential for maintaining good health.  \r\n   (Регулярные физические упражнения необходимы для поддержания хорошего здоровья.)\r\n\r\n2. A balanced diet is important for overall wellness.  \r\n   (Сбалансированное питание важно для общего благополучия.)\r\n\r\n3. I work out three times a week to stay fit.  \r\n   (Я занимаюсь спортом три раза в неделю, чтобы поддерживать форму.)\r\n\r\n4. Drinking enough water is crucial for hydration during workouts.  \r\n   (Достаточное количество воды имеет решающее значение для гидратации во время тренировок.)\r\n\r\n5. Yoga helps improve flexibility and reduce stress.  \r\n   (Йога помогает улучшить гибкость и снизить уровень стресса.)\r\n\r\n","description":"","x":-60,"y":650,"message_type":1,"action_url":"","created_at":"2025-02-14T08:21:04.538+03:00","updated_at":"2025-02-14T08:21:26.943+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41904650,"project_id":569981,"condition":"Технологии и медиа B1.","answer":"\r\n\r\n▎Основные термины\r\n\r\n1. Technology — технология\r\n\r\n2. Media — медиа, средства массовой информации\r\n\r\n3. Digital — цифровой\r\n\r\n4. Internet — интернет\r\n\r\n5. Social media — социальные сети\r\n\r\n6. Broadcasting — вещание\r\n\r\n7. Streaming — потоковая передача\r\n\r\n8. Podcast — подкаст\r\n\r\n9. Website — веб-сайт\r\n\r\n10. App (Application) — приложение\r\n\r\n▎Связанные концепции\r\n\r\n1. Content creation — создание контента\r\n\r\n2. User interface (UI) — пользовательский интерфейс\r\n\r\n3. User experience (UX) — пользовательский опыт\r\n\r\n4. Virtual reality (VR) — виртуальная реальность\r\n\r\n5. Augmented reality (AR) — дополненная реальность\r\n\r\n6. Artificial intelligence (AI) — искусственный интеллект\r\n\r\n7. Cybersecurity — кибербезопасность\r\n\r\n8. Cloud computing — облачные вычисления\r\n\r\n9. Big data — большие данные\r\n\r\n10. E-commerce — электронная коммерция\r\n\r\n▎Примеры предложений\r\n\r\n1. Technology has transformed the way we communicate and consume media.  \r\n   (Технология изменила способ, которым мы общаемся и потребляем медиа.)\r\n\r\n2. Social media platforms allow users to connect and share content easily.  \r\n   (Платформы социальных сетей позволяют пользователям легко связываться и делиться контентом.)\r\n\r\n3. Many people listen to podcasts for entertainment and education.  \r\n   (Многие люди слушают подкасты для развлечения и обучения.)\r\n\r\n4. Cybersecurity is essential to protect personal information online.  \r\n   (Кибербезопасность необходима для защиты личной информации в интернете.)\r\n\r\n5. Virtual reality offers immersive experiences that can enhance gaming and training.  \r\n   (Виртуальная реальность предлагает погружающие впечатления, которые могут улучшить игры и обучение.)","description":"","x":-60,"y":700,"message_type":1,"action_url":"","created_at":"2025-02-14T08:22:42.965+03:00","updated_at":"2025-02-14T08:23:07.047+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41904661,"project_id":569981,"condition":"Социальные проблемы B1.","answer":"\r\n\r\n\r\n▎1. Poverty (Бедность)\r\n\r\n   • Описание: Недостаток финансовых ресурсов для удовлетворения основных потребностей.\r\n\r\n   • Пример: Many families live below the poverty line, struggling to afford basic necessities like food and shelter.\r\n\r\n▎2. Inequality (Неравенство)\r\n\r\n   • Описание: Различия в доступе к ресурсам и возможностям между различными группами людей.\r\n\r\n   • Пример: Economic inequality has been rising in many countries, leading to social unrest.\r\n\r\n▎3. Racism (Расизм)\r\n\r\n   • Описание: Дискриминация или предвзятое отношение к людям на основе их расы или этнической принадлежности.\r\n\r\n   • Пример: Many activists are fighting against systemic racism in law enforcement and education.\r\n\r\n▎4. Gender inequality (Гендерное неравенство)\r\n\r\n   • Описание: Несправедливое распределение прав и возможностей между мужчинами и женщинами.\r\n\r\n   • Пример: Gender inequality in the workplace often results in women earning less than men for the same job.\r\n\r\n▎5. Climate change (Изменение климата)\r\n\r\n   • Описание: Долгосрочные изменения температуры и погодных условий на планете, вызванные человеческой деятельностью.\r\n\r\n   • Пример: Climate change poses a serious threat to global food security and biodiversity.\r\n\r\n▎6. Mental health (Психическое здоровье)\r\n\r\n   • Описание: Проблемы, связанные с психическим состоянием человека, которые могут влиять на его повседневную жизнь.\r\n\r\n   • Пример: There is a growing recognition of the importance of mental health awareness and support.\r\n\r\n▎7. Homelessness (Бездомность)\r\n\r\n   • Описание: Состояние, при котором люди не имеют постоянного места жительства.\r\n\r\n   • Пример: Many cities are implementing programs to combat homelessness and provide support to those in need.\r\n\r\n▎8. Education access (Доступ к образованию)\r\n\r\n   • Описание: Возможность получения образования для всех слоев населения.\r\n\r\n   • Пример: Access to quality education remains a significant issue in many developing countries.\r\n\r\n▎9. Healthcare access (Доступ к здравоохранению)\r\n\r\n   • Описание: Возможность получения медицинских услуг и лечения для всех людей.\r\n\r\n   • Пример: In some regions, lack of healthcare access leads to preventable diseases and suffering.\r\n\r\n▎10. Violence and crime (Насилие и преступность)\r\n\r\n   • Описание: Проблемы, связанные с преступностью и насилием в обществе.\r\n\r\n   • Пример: Efforts to reduce violence in urban areas often focus on community engagement and prevention programs.","description":"","x":-60,"y":750,"message_type":1,"action_url":"","created_at":"2025-02-14T08:23:59.128+03:00","updated_at":"2025-02-14T08:25:09.975+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41904671,"project_id":569981,"condition":"Личные отношения B1.","answer":"\r\n\r\n▎1. Friendship (Дружба)\r\n\r\n   • Описание: Отношения между людьми, основанные на взаимной привязанности, доверии и поддержке.\r\n\r\n   • Пример: Good friends support each other through difficult times and celebrate each other's successes.\r\n\r\n▎2. Romantic relationships (Романтические отношения)\r\n\r\n   • Описание: Отношения, основанные на романтической привязанности и любви.\r\n\r\n   • Пример: Communication is key in maintaining a healthy romantic relationship.\r\n\r\n▎3. Family relationships (Семейные отношения)\r\n\r\n   • Описание: Отношения между членами семьи, которые могут включать родителей, детей, братьев и сестер.\r\n\r\n   • Пример: Family gatherings are an important way to strengthen family bonds.\r\n\r\n▎4. Trust (Доверие)\r\n\r\n   • Описание: Основной компонент любых личных отношений, который подразумевает уверенность в надежности и честности другого человека.\r\n\r\n   • Пример: Trust takes time to build but can be easily broken.\r\n\r\n▎5. Communication (Коммуникация)\r\n\r\n   • Описание: Процесс обмена информацией и эмоциями между людьми.\r\n\r\n   • Пример: Open and honest communication is essential for resolving conflicts in relationships.\r\n\r\n▎6. Conflict resolution (Разрешение конфликтов)\r\n\r\n   • Описание: Процесс решения разногласий и конфликтов в отношениях.\r\n\r\n   • Пример: Effective conflict resolution skills can help maintain healthy relationships.\r\n\r\n▎7. Boundaries (Границы)\r\n\r\n   • Описание: Личные границы, которые помогают определить, что приемлемо в отношениях.\r\n\r\n   • Пример: Setting boundaries is important for maintaining personal space and respect in relationships.\r\n\r\n▎8. Intimacy (Интимность)\r\n\r\n   • Описание: Близость и глубокая связь между людьми, которая может быть эмоциональной или физической.\r\n\r\n   • Пример: Intimacy in a relationship can foster a deeper connection and understanding.\r\n\r\n▎9. Support (Поддержка)\r\n\r\n   • Описание: Эмоциональная и практическая помощь, которую люди оказывают друг другу.\r\n\r\n   • Пример: Offering support during tough times can strengthen the bond between friends or partners.\r\n\r\n▎10. Compromise (Компромисс)\r\n\r\n   • Описание: Процесс нахождения решения, которое устраивает обе стороны в конфликте или разногласии.\r\n\r\n   • Пример: Compromise is often necessary to maintain harmony in relationships.\r\n","description":"","x":-60,"y":800,"message_type":1,"action_url":"","created_at":"2025-02-14T08:26:03.722+03:00","updated_at":"2025-02-14T08:26:18.634+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41904925,"project_id":569981,"condition":"Места B1. ","answer":"\r\n\r\n1. City - город\r\n\r\n2. Park - парк\r\n\r\n3. Beach - пляж\r\n\r\n4. Mountain - гора\r\n\r\n5. Museum - музей\r\n\r\n6. Restaurant - ресторан\r\n\r\n7. Library - библиотека\r\n\r\n8. School - школа\r\n\r\n9. Market - рынок\r\n\r\n10. Airport - аэропорт","description":"","x":140,"y":630,"message_type":1,"action_url":"","created_at":"2025-02-14T08:29:53.174+03:00","updated_at":"2025-02-14T08:30:07.709+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41904931,"project_id":569981,"condition":"Предметы B1. ","answer":"\r\n\r\n1. Book - книга\r\n\r\n2. Pen - ручка\r\n\r\n3. Table - стол\r\n\r\n4. Chair - стул\r\n\r\n5. Laptop - ноутбук\r\n\r\n6. Phone - телефон\r\n\r\n7. Watch - часы\r\n\r\n8. Bag - сумка\r\n\r\n9. Glasses - очки\r\n\r\n10. Key - ключ\r\n\r\n","description":"","x":140,"y":680,"message_type":1,"action_url":"","created_at":"2025-02-14T08:30:49.667+03:00","updated_at":"2025-02-14T08:30:49.667+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41904994,"project_id":569981,"condition":"Друзья ","answer":"\r\n\r\n1. Friend - друг\r\n\r\n2. Companion - спутник\r\n\r\n3. Buddy - приятель\r\n\r\n4. Pal - товарищ\r\n\r\n5. Mate - товарищ (часто используется в Австралии и Великобритании)\r\n\r\n6. Chum - приятель\r\n\r\n7. Confidant - доверенное лицо\r\n\r\n8. Comrade - товарищ (может иметь более формальное или политическое значение)\r\n\r\n9. Acquaintance - знакомый\r\n\r\n10. Best friend - лучший друг","description":"","x":140,"y":730,"message_type":1,"action_url":"","created_at":"2025-02-14T08:33:02.468+03:00","updated_at":"2025-02-14T08:33:24.601+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{\"attachments\":[]}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":true,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41904999,"project_id":569981,"condition":"Чувства B1. ","answer":"\r\n\r\n1. Happiness - счастье\r\n\r\n2. Sadness - грусть\r\n\r\n3. Anger - гнев\r\n\r\n4. Fear - страх\r\n\r\n5. Love - любовь\r\n\r\n6. Joy - радость\r\n\r\n7. Surprise - удивление\r\n\r\n8. Disgust - отвращение\r\n\r\n9. Anxiety - тревога\r\n\r\n10. Contentment - удовлетворение","description":"","x":140,"y":780,"message_type":1,"action_url":"","created_at":"2025-02-14T08:34:09.874+03:00","updated_at":"2025-02-14T08:34:51.824+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41905005,"project_id":569981,"condition":"Эмоции B1. ","answer":"\r\n\r\n\r\n1. Joy - радость\r\n\r\n2. Sorrow - печаль\r\n\r\n3. Fear - страх\r\n\r\n4. Anger - гнев\r\n\r\n5. Love - любовь\r\n\r\n6. Disgust - отвращение\r\n\r\n7. Surprise - удивление\r\n\r\n8. Anxiety - тревога\r\n\r\n9. Contentment - удовлетворение\r\n\r\n10. Frustration - разочарование","description":"","x":160,"y":810,"message_type":1,"action_url":"","created_at":"2025-02-14T08:35:35.626+03:00","updated_at":"2025-02-14T08:35:57.676+03:00","show_answers":true,"attachment_url":"","attachment_type":"","file":{"url":null},"state_id":null,"request_type":null,"post_params":"","saved_variables":"","black_list":"","comparision_method":0,"enter_once":false,"hint":"","headers":"","buttons":"","variables":"","timeout":"","timeout_type":1,"compare_variable":"","priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true},{"id":41933241,"project_id":569981,"condition":"#{none}","answer":"#{none}","description":null,"x":-350,"y":675,"message_type":0,"action_url":null,"created_at":"2025-02-14T14:44:29.374+03:00","updated_at":"2025-02-14T14:44:29.374+03:00","show_answers":true,"attachment_url":null,"attachment_type":null,"file":{"url":null},"state_id":null,"request_type":null,"post_params":null,"saved_variables":null,"black_list":null,"comparision_method":0,"enter_once":false,"hint":null,"headers":null,"buttons":null,"variables":null,"timeout":null,"timeout_type":1,"compare_variable":null,"priority":10,"clients_count":0,"list_action":null,"list_id":null,"enable_snippets":true,"show_connections_buttons":true,"enable_markdown":false,"sheet_id":null,"protected_content":false,"actions_settings":"{}","attachments_settings":"{}","analytics_name":null,"analytics_category":null,"analytics_value":null,"disable_notification":false,"callback_if_seen":false,"response_only_to_callback":false,"enable_html":false,"show_caption_above_media":false,"save_to_log":true}];
var connections = [{"id":40899087,"message_a_id":41903637,"message_b_id":41903643,"label":null,"vertices":"[]","description":"","timeout":"","timeout_type":1,"condition":"Начнем обучение.","read_data":false,"field_name":"","send_time":"","send_date":"","shift_to_next_day":true,"action_url":null,"request_type":null,"post_params":null,"compare_variable":"","button_index":0,"show_as_button":true,"color":"","remove_on_state_change":false,"black_list":"","comparision_method":0,"headers":null,"line_number":null,"enter_once":false,"delete_other_tasks":true,"priority":10,"not_remove":false,"response_only_to_callback":false},{"id":40901337,"message_a_id":41903748,"message_b_id":41903992,"label":null,"vertices":null,"description":null,"timeout":null,"timeout_type":1,"condition":null,"read_data":false,"field_name":null,"send_time":null,"send_date":null,"shift_to_next_day":true,"action_url":null,"request_type":null,"post_params":null,"compare_variable":null,"button_index":0,"show_as_button":false,"color":null,"remove_on_state_change":false,"black_list":null,"comparision_method":0,"headers":null,"line_number":null,"enter_once":false,"delete_other_tasks":true,"priority":10,"not_remove":false,"response_only_to_callback":false},{"id":40899488,"message_a_id":41903748,"message_b_id":41903962,"label":null,"vertices":"[]","description":null,"timeout":null,"timeout_type":1,"condition":null,"read_data":false,"field_name":null,"send_time":null,"send_date":null,"shift_to_next_day":true,"action_url":null,"request_type":null,"post_params":null,"compare_variable":null,"button_index":0,"show_as_button":false,"color":null,"remove_on_state_change":false,"black_list":null,"comparision_method":0,"headers":null,"line_number":null,"enter_once":false,"delete_other_tasks":true,"priority":10,"not_remove":false,"response_only_to_callback":false},{"id":40899457,"message_a_id":41903750,"message_b_id":41903969,"label":null,"vertices":"","description":null,"timeout":null,"timeout_type":1,"condition":null,"read_data":false,"field_name":null,"send_time":null,"send_date":null,"shift_to_next_day":true,"action_url":null,"request_type":null,"post_params":null,"compare_variable":null,"button_index":0,"show_as_button":false,"color":null,"remove_on_state_change":false,"black_list":null,"comparision_method":0,"headers":null,"line_number":null,"enter_once":false,"delete_other_tasks":true,"priority":10,"not_remove":false,"response_only_to_callback":false},{"id":40899567,"message_a_id":41903750,"message_b_id":41903998,"label":null,"vertices":null,"description":null,"timeout":null,"timeout_type":1,"condition":null,"read_data":false,"field_name":null,"send_time":null,"send_date":null,"shift_to_next_day":true,"action_url":null,"request_type":null,"post_params":null,"compare_variable":null,"button_index":0,"show_as_button":false,"color":null,"remove_on_state_change":false,"black_list":null,"comparision_method":0,"headers":null,"line_number":null,"enter_once":false,"delete_other_tasks":true,"priority":10,"not_remove":false,"response_only_to_callback":false},{"id":40899495,"message_a_id":41903752,"message_b_id":41904004,"label":null,"vertices":null,"description":null,"timeout":null,"timeout_type":1,"condition":null,"read_data":false,"field_name":null,"send_time":null,"send_date":null,"shift_to_next_day":true,"action_url":null,"request_type":null,"post_params":null,"compare_variable":null,"button_index":0,"show_as_button":false,"color":null,"remove_on_state_change":false,"black_list":null,"comparision_method":0,"headers":null,"line_number":null,"enter_once":false,"delete_other_tasks":true,"priority":10,"not_remove":false,"response_only_to_callback":false},{"id":40899496,"message_a_id":41903752,"message_b_id":41903972,"label":null,"vertices":null,"description":null,"timeout":null,"timeout_type":1,"condition":null,"read_data":false,"field_name":null,"send_time":null,"send_date":null,"shift_to_next_day":true,"action_url":null,"request_type":null,"post_params":null,"compare_variable":null,"button_index":0,"show_as_button":false,"color":null,"remove_on_state_change":false,"black_list":null,"comparision_method":0,"headers":null,"line_number":null,"enter_once":false,"delete_other_tasks":true,"priority":10,"not_remove":false,"response_only_to_callback":false},{"id":40927257,"message_a_id":41903754,"message_b_id":41904006,"label":null,"vertices":null,"description":null,"timeout":null,"timeout_type":1,"condition":null,"read_data":false,"field_name":null,"send_time":null,"send_date":null,"shift_to_next_day":true,"action_url":null,"request_type":null,"post_params":null,"compare_variable":null,"button_index":0,"show_as_button":false,"color":null,"remove_on_state_change":false,"black_list":null,"comparision_method":0,"headers":null,"line_number":null,"enter_once":false,"delete_other_tasks":true,"priority":10,"not_remove":false,"response_only_to_callback":false},{"id":40927262,"message_a_id":41903754,"message_b_id":41903977,"label":null,"vertices":null,"description":null,"timeout":null,"timeout_type":1,"condition":null,"read_data":false,"field_name":null,"send_time":null,"send_date":null,"shift_to_next_day":true,"action_url":null,"request_type":null,"post_params":null,"compare_variable":null,"button_index":0,"show_as_button":false,"color":null,"remove_on_state_change":false,"black_list":null,"comparision_method":0,"headers":null,"line_number":null,"enter_once":false,"delete_other_tasks":true,"priority":10,"not_remove":false,"response_only_to_callback":false}];
var additional_messages = null;
var grid_size = 10;
var graph = new joint.dia.Graph;
var paper = new joint.dia.Paper({
    gridSize: grid_size,
    model: graph,
    drawGrid: true,
    defaultConnectionPoint: {
        name: 'boundary',
        args: {
            extrapolate: true,
            sticky: true
        }
    },
    background: {
        color: 'white',
        repeat: 'watermark',
        opacity: 1
    }
});
var paperScroller = new joint.ui.PaperScroller({
    paper: paper,
    autoResizePaper: true
});
var block_view = messages.length > 30 ? joint.shapes.app.NavigatorElementView : joint.dia.ElementView
var link_view = messages.length > 30 ? joint.shapes.app.NavigatorLinkView : joint.dia.LinkView
//Объявление миникарты
var navigatorMinimap = new joint.ui.Navigator({
    paperScroller: paperScroller,
    width: 250,
    padding: 0,
    zoomOptions: {max: 4, min: 0.2},
    paperOptions: {
        async: true,
        elementView: block_view,
        linkView: link_view
    }
});
var groupSelect = []
var globalHalo = undefined
var cutGroupSelect = []
var copyTrigger = false
var cutTrigger = false
var haloAction = false
var haloActionLink = false
var newBlock = undefined
var newBlockTrigger = false
var haloActionLinkTrigger = false
var mobileZoom = false
var minimizer = 100
var touchDots = []
var moveCount = 0
var moveIndex = 0
var startSelectiong = false
var undoStuck = []
var redoStuck = []
var undo_redo_trigger = true
var doCloseToolsId
//0 - нет хало, 1 - вверхний хало, 2 - правый, 3 - нижний, 4 - левый
var currentHalo = 0
var needToFind = false
var chunk = 100;
var sleep = 250;

function can_access_edit(){
    let value = true;
    return value;
}
function get_bench_time(unify) {
    // if(current_time === false){
    //     current_time = parseFloat((performance.now() / 1000).toFixed(3))
    //     return console.log(0 + " " + unify)
    // }
    // console.log(parseFloat((current_time - parseFloat((performance.now() / 1000).toFixed(3)))*(-1)).toFixed(3) + " " + unify)
    // current_time = parseFloat((performance.now() / 1000).toFixed(3))
}
get_bench_time("init")
document.body.classList.add('loaded_hiding');
document.body.classList.remove('loaded');
if (/Mobi|Android/i.test(navigator.userAgent) && (window.innerWidth < window.innerHeight)) {
    dialogContext({
        message:"Переверните телефон горизонтально для корректной работы редактора",
        is_question: false
    })
}
if (keyboard == undefined) {
    var keyboard = new joint.ui.Keyboard;
    //выделение всего поля по кнопке
    keyboard.on("ctrl+a", function (e) {
        if (can_access_edit() && location.href.split("/messages").length > 1) {
            e.preventDefault()
            selection.collection.reset(graph.getElements())
            groupSelect = graph.getElements().map(function(block){
                cellStrokeSelected(block)
                return block.prop("message")
            })
        }
    })
    //копирование выделененного по кнопке
    keyboard.on("ctrl+c", function (e) {
        if (can_access_edit() && location.href.split("/messages").length > 1) {
            if (groupSelect.length > 0) {
                $(".joint-paper").css("cursor", "crosshair")
                localStorage.setItem("salebot_interproject_copy", JSON.stringify(groupSelect))
                copyTrigger = true
                closeRappidPopups()
                new joint.ui.FlashMessage({
                    title: 'Внимание !',
                    type: 'info',
                    content: copyTitle,
                    closeAnimation: {delay: 7000}
                }).open();
            }
        }
    })
    //вырезание выделенного по кнопке
    keyboard.on("ctrl+x" || "metaKey+x", function (e) {
        if (can_access_edit() && groupSelect.length > 0) {
            $(".joint-paper").css("cursor", "crosshair")
            copyTrigger = true
            cutTrigger = true
            closeRappidPopups()
            new joint.ui.FlashMessage({
                title: '<span style="color:red; font-weight: 900">ВНИМЕНИЕ! Вы вырезаете блоки.</span>',
                type: 'info',
                content: 'Кликните в то место, куда хотите вставить выделенные элементы, <span style="color:red">после того как вы вставите, выделенные блоки будут удалены!</span> Нажмите ESC, чтобы отменить копирование',
                closeAnimation: {delay: 10000}
            }).open();
        }
    })
    //вставить копируемое по кнопке
    keyboard.on("ctrl+v", function (e) {
        if (can_access_edit() && localStorage.getItem("salebot_interproject_copy") != null) {
            copyFromLocalStorage()
        }
    })
    //undo по кнопке
    keyboard.on("ctrl+z", function (e) {
        console.log(document.activeElement.tagName)
        if (can_access_edit() && undo_redo_trigger && document.activeElement.tagName != "INPUT" && document.activeElement.tagName != "TEXTAREA") {
            undo_redo(null, "undo")
        }
    })
    //redo по кнопке
    keyboard.on("ctrl+y", function (e) {
        if (can_access_edit() && undo_redo_trigger && document.activeElement.tagName != "INPUT" && document.activeElement.tagName != "TEXTAREA") {
            undo_redo(null, "redo")
        }
    })
    //удаление выделенного по кнопке
    keyboard.on("delete", function (e) {
        if (can_access_edit() && groupSelect.length > 0) {
            groupEditAjax({type:"destroy"})
        }
    })
}

//Подготовка для вставки скопированного из localStorage
function copyFromLocalStorage() {
    if(can_access_edit()){
        groupSelect = JSON.parse(localStorage.getItem("salebot_interproject_copy"))
        copyTrigger = true
        $(".joint-paper").css("cursor", "crosshair")
        new joint.ui.FlashMessage({
            title: 'Внимание !',
            type: 'info',
            content: 'Нажмите, куда хотите вставить скопированные блоки из другого проекта. Нажмите ESC, чтобы отменить копирование.',
            closeAnimation: {delay: 10000}
        }).open();
    }
}

//Все что в этом ифе, это для отображения на телефоне
if (window.innerWidth < 900) {
    function toggleBars() {
        if ($(".navbar-fixed").hasClass("heigility")) {
            $(".navbar-fixed").css("transition", "0s")
            $(".navbar-fixed").removeClass("heigility")
            $("#left_bar").css("transition", "0s")
            $("#left_bar").removeClass("widthibility")
            $("#litle_left_bar").css("transition", "0s")
            $("#litle_left_bar").removeClass("widthibility")
        } else {
            $(".navbar-fixed").css("transition", "0.3s")
            $(".navbar-fixed").addClass("heigility")
            $("#left_bar").css("transition", "0.3s")
            $("#left_bar").addClass("widthibility")
            $("#litle_left_bar").css("transition", "0.3s")
            $("#litle_left_bar").addClass("widthibility")
        }
        paperCss()
    }

    $(".hide_bars_button").on("click", toggleBars)

    function lengthOfVector(f, s) {
        return Math.sqrt(Math.pow((s.x - f.x), 2) + Math.pow((s.y - f.y), 2))
    }

    function middleDot(fd, sd) {
        try {
            return {x: (fd.x + sd.x) / 2, y: (fd.y + sd.y) / 2}
        } catch (e) {
            console.log(e)
        }
    }

    function panStoper(e) {
        if (touchDots.length == 2) {
            mobileZoom = true
            paperScroller.lock()
            paperScroller.stopPanning(e)
        } else {
            mobileZoom = false
            paperScroller.unlock()
        }
    }

    $("#paper-html-elements").on("touchstart", function (e) {
        var elemToPush = e.originalEvent.changedTouches[0]
        var c = paper.snapToGrid(elemToPush.clientX, elemToPush.clientY)
        elemToPush.coordForCenter = c
        touchDots.push(elemToPush)
        panStoper(e.originalEvent)
    })
    $("#paper-html-elements").on("touchmove", function (e) {
        if (mobileZoom) {
            var oldFirstXY = JSON.parse(JSON.stringify({x: touchDots[0].clientX, y: touchDots[0].clientY}))
            var oldSecondXY = JSON.parse(JSON.stringify({x: touchDots[1].clientX, y: touchDots[1].clientY}))
            var tt = e.originalEvent.changedTouches
            for (let key in tt) {
                touchDots = touchDots.map(function (i) {
                    if (tt[key].__id == i.__id) {
                        tt[key].coordForCenter = i.coordForCenter
                        return tt[key]
                    } else {
                        return i
                    }
                })
            }
            var newFirstXY = {x: touchDots[0].clientX, y: touchDots[0].clientY}
            var newSecondXY = {x: touchDots[1].clientX, y: touchDots[1].clientY}
            var oldTotalLength = lengthOfVector(oldFirstXY, oldSecondXY)
            var newTotalLength = lengthOfVector(newFirstXY, newSecondXY)
            if (moveCount >= 1 && touchDots[0].coordForCenter != undefined && touchDots[1].coordForCenter != undefined) {
                var centerDot = middleDot(touchDots[0].coordForCenter, touchDots[1].coordForCenter)
                paperScroller.zoom(moveIndex / minimizer, {
                    max: 4,
                    min: 0.2,
                    grid: moveIndex / minimizer,
                    ox: centerDot.x,
                    oy: centerDot.y
                })
                moveCount = 0
                moveIndex = 0
            } else {
                moveCount++
                moveIndex = moveIndex + (newTotalLength - oldTotalLength)
            }
        }
    })
    $("#paper-html-elements").on("touchend", function (e) {
        get_center()
        touchDots = touchDots.filter(function (t) {
            if (t.__id != e.originalEvent.changedTouches[0].__id) {
                return true
            }
        })
        panStoper(e.originalEvent)
        var info = paperScroller.getVisibleArea();
        setZoomInfo()
        set_cookie('zoom_info_', (paperScroller.zoom() - 1), 0, 1, 0);
        set_cookie("paper_scroller_x_", parseFloat((info.x + info.width / 2)) * (parseFloat(get_cookie("zoom_info_")) + 1), 0, 1, 0);
        set_cookie("paper_scroller_y_", parseFloat((info.y + info.height / 2)) * (parseFloat(get_cookie("zoom_info_")) + 1), 0, 1, 0);
    })
    $(".activate_selection").on("click", function () {
        startSelectiong = true
        closeRappidPopups()
        new joint.ui.FlashMessage({
            title: 'Внимание !',
            type: 'info',
            content: 'Выделите нужную область!',
            closeAnimation: {delay: 7000}
        }).open();
        $(".activate_selection").removeClass("display_mobile")
        $(".activate_selection").addClass("hidden")
        $(".deactivate_selection").removeClass("hidden")
    })
    $(".deactivate_selection").on("click", function () {
        startSelectiong = true
        closeRappidPopups()
        new joint.ui.FlashMessage({
            title: 'Внимание !',
            type: 'info',
            content: 'Выделение успешно отменено!',
            closeAnimation: {delay: 7000}
        }).open();
        $(".deactivate_selection").removeClass("display_mobile")
        $(".deactivate_selection").addClass("hidden")
        $(".activate_selection").removeClass("hidden")
    })
}
element.append(paperScroller.render().el)

//Чтобы отображалось НЕ коряво, везде и на десктопе и на телефоне
function paperCss(status = null, resize = false) {
    if (resize && window.innerWidth < window.innerHeight) {
        $(".navbar-fixed").css("transition", "0s")
        $(".navbar-fixed").removeClass("heigility")
        $("#left_bar").css("transition", "0s")
        $("#left_bar").removeClass("widthibility")
        $("#litle_left_bar").css("transition", "0s")
        $("#litle_left_bar").removeClass("widthibility")
    }
    if (status != null) {
        var left_ber_status = status
    } else {
        var left_ber_status = $("#left_bar").css("display")
    }
    var editor_status = $("#editor").css("display")
    var nav_height = 0
    var bar_width = 0
    var editor_width = 0
    if (!$(".navbar-fixed").hasClass("heigility")) {
        if (left_ber_status == "block") {
            bar_width = $("#left_bar").width()
        } else {
            bar_width = $("#litle_left_bar").width()
        }
        if (window.innerWidth > 900) {
            if (editor_status != "none") {
                editor_width = $("#editor").width()
            }
        } else if(window.innerWidth < 640){
            if (editor_status != "none") {
                $('#hide_button').removeClass('translate_btn_editor')
                $('.search_toggler--js').removeClass('translate_btn_editor')
            }
        } else {
            if (editor_status != "none"){
                $('#hide_button').addClass('translate_btn_editor')
                $('.search_toggler--js').addClass('translate_btn_editor')
            } else {
                $('#hide_button').removeClass('translate_btn_editor')
                $('.search_toggler--js').removeClass('translate_btn_editor')
            }
        }
        var ftw = parseInt(bar_width)
        if (ftw <= 30) {
            ftw = ftw + 20
        }
        nav_height = $(".navbar-fixed").height()
        $("#editor").css("top", $(".navbar-fixed").height())
        $("#hide_button").css("top", "66px")
        $(".for_transition").css("left", ftw + 10)
        $(".hide_bars_button").css("top", "65px")
        $(".select_area_button").css("top", "95px")
        $(".hide_bars_button").css("left", (parseInt(bar_width) + 24) + "px")
        $(".select_area_button").css("left", (parseInt(bar_width) + 24) + "px")
        $(".hide_bars_button").css("transform", "rotate(45deg)")
        $('#paper-html-elements').css("height", window.innerHeight - nav_height + "px")
    } else {
        $(".hide_bars_button").css("top", "5px")
        $(".select_area_button").css("top", "35px")
        $(".hide_bars_button").css("left", "5px")
        $(".select_area_button").css("left", "5px")
        $(".hide_bars_button").css("transform", "rotate(225deg)")
        $(".for_transition").css("left", "0")
        $("#hide_button").css("top", "9px")
        $("#editor").css("top", "0")
        $('#paper-html-elements').css("height", $("body").width())
    }
    if (status != null) {
        $('#paper-html-elements').animate({
            "left": bar_width,
            "width": $("body").width() - bar_width - editor_width,
            "right": editor_width,
            "top": nav_height
        }, 600)
    } else {
        $('#paper-html-elements').css("left", bar_width)
        $('#paper-html-elements').css("width", $("body").width() - bar_width - editor_width)
        $('#paper-html-elements').css("right", editor_width)
        $('#paper-html-elements').css("top", nav_height)
    }
}

//Кнопка скрывающая левый бар и хедер на телефоне
$('#hide_button').on("click", paperCss);
$('#workflow').css({position: 'inherit'});
$(window).on("resize", function () {
    paperCss(null, true)
})
//Помощьник по отображению с левым баром, оснавная логика где-то в другом месте
// $(".cat_button_icon").on("click", function () {
//     if ($("#left_bar").css("display") == "none") {
//         paperCss("block")
//     } else {
//         paperCss("none")
//     }
// })
//Все что тут, это для зума скоролом
//----------------------------------------------------------------------------------------------------
paper.on('blank:mousewheel', function (e, x, y, delta) {
    onMouseWheel(e, x, y, delta)
})
paper.on('element:mousewheel', function (cellView, e, x, y, delta) {
    onMouseWheel(e, x, y, delta)
})
paper.on('link:mousewheel', function (cellView, e, x, y, delta) {
    onMouseWheel(e, x, y, delta)
})
paper.on('cell:mousewheel', function (cellView, e, x, y, delta) {
    onMouseWheel(e, x, y, delta)
})

function onMouseWheel(evt, x, y, delta) {
    if (evt.ctrlKey || evt.metaKey) {
        get_center()
        paperScroller.zoom(delta * 0.1, {max: 4, min: 0.2, grid: 0.1, ox: x, oy: y})
        evt.preventDefault()
        var info = paperScroller.getVisibleArea();
        setZoomInfo()
        set_cookie('zoom_info_', (paperScroller.zoom() - 1), 0, 1, 0);
        set_cookie("paper_scroller_x_", parseFloat((info.x + info.width / 2)) * (parseFloat(get_cookie("zoom_info_")) + 1), 0, 1, 0);
        set_cookie("paper_scroller_y_", parseFloat((info.y + info.height / 2)) * (parseFloat(get_cookie("zoom_info_")) + 1), 0, 1, 0);
    }
};
//----------------------------------------------------------------------------------------------------
//Создание пустого блока даблкликом
paper.on('blank:pointerdblclick', function (cellView, x, y, delta) {
    if (can_access_edit()) {
        console.log("ajax message create")
        $.ajax({
            url:"/projects/569981/messages",
            type:"POST",
            data:{
                message:{
                    sheet_id: sheet_param,
                    x:x-70,
                    y:y-25,
                    condition:"#{none}"
                }
            }
        })
    }
})
setZoomInfo()

//Это делает отображение иконок адаптивно под зум
function setZoomInfo(){
    let zoom = Math.round(paperScroller.zoom() * 100)
    let class_el = $("#paper-html-elements")
    $(".zoom_info").text(zoom + "%")
    class_el.removeClass("redactor_zoom_20")
    class_el.removeClass("redactor_zoom_30-40")
    class_el.removeClass("redactor_zoom_40-80")
    class_el.removeClass("redactor_zoom_80-90")
    class_el.removeClass("redactor_zoom_80-120")
    class_el.removeClass("redactor_zoom_120-200")
    class_el.removeClass("redactor_zoom_200-400")
    if(zoom < 30){
        class_el.addClass("redactor_zoom_20")
    } else if(zoom < 50){
        class_el.addClass("redactor_zoom_30-40")
    } else if(zoom < 80){
        class_el.addClass("redactor_zoom_40-80")
    } else if(zoom < 90){
        class_el.addClass("redactor_zoom_80-90")
    } else if(zoom < 120){
        class_el.addClass("redactor_zoom_80-120")
    } else if(zoom < 200){
        class_el.addClass("redactor_zoom_120-200")
    } else {
        class_el.addClass("redactor_zoom_200-400")
    }
}

//Это событие, когда останавливается перемещение полотна
paperScroller.on("pan:stop", function () {
    get_center()
    var info = paperScroller.getVisibleArea();
    setZoomInfo()
    set_cookie('zoom_info_', (paperScroller.zoom() - 1), 0, 1, 0);
    set_cookie("paper_scroller_x_", parseFloat((info.x + info.width / 2)) * (parseFloat(get_cookie("zoom_info_")) + 1), 0, 1, 0);
    set_cookie("paper_scroller_y_", parseFloat((info.y + info.height / 2)) * (parseFloat(get_cookie("zoom_info_")) + 1), 0, 1, 0);
})
$(".toast").css("right", "310px")

//Вычисляет координату центра экрана на плотне
function get_center() {
    var info = paperScroller.getVisibleArea()
    var x = (info.width / 2 + info.x) - w / 2;
    var y = (info.height / 2 + info.y) - h / 2;
    $('#message_x').val(x);
    $('#message_y').val(y)
    return {x, y}
}

//Закрывает попапы рапидовские
function closeRappidPopups() {
    let buttons = document.getElementsByClassName("btn-close")
    for (let i = 0; i < buttons.length; i++) {
        buttons[i].click()
    }
}

var canRemove = true

//События по нажатию на кнопки
$(window).on("keydown", function (e) {
    if (e.keyCode === 38 && (e.ctrlKey || e.metaKey)) {
        //Плюс один шаг зума, по стрелке вверх
        document.querySelector(".zoom_in_button").click()
    } else if (e.keyCode === 40 && (e.ctrlKey || e.metaKey)) {
        //Минус один шаг зума, по стрелке вниз
        document.querySelector(".zoom_out_button").click()
    } else if (e.keyCode === 27) {
        //Отмена копирования, на ESC
        if (can_access_edit() && copyTrigger) {
            $(".joint-paper").css("cursor", "inherit")
            copyTrigger = false
            cutTrigger = false
            localStorage.removeItem("salebot_inter_sheet_copy")
            localStorage.removeItem("salebot_interproject_copy")
            closeRappidPopups()
            new joint.ui.FlashMessage({
                title: 'Внимание !',
                type: 'info',
                content: 'Копирование отменено',
                closeAnimation: {delay: 3000}
            }).open();
            for (let i = 0; i < groupSelect.length; i++) {
                cellStrokeNormal(findBlockByMessageId(groupSelect[i].id))
                selection.collection.remove(findBlockByMessageId(groupSelect[i].id))
            }
            groupSelect = []
        }
    }
})
$(".joint-selection").find(".box").remove()
$(".joint-paper").css("cursor", "grab")

// Событие скролла
$(".joint-paper-scroller").on("scroll", function () {
    get_center()
    var info = paperScroller.getVisibleArea();
    set_cookie("paper_scroller_x_", parseFloat((info.x + info.width / 2)) * (parseFloat(get_cookie("zoom_info_")) + 1), 0, 1, 0);
    set_cookie("paper_scroller_y_", parseFloat((info.y + info.height / 2)) * (parseFloat(get_cookie("zoom_info_")) + 1), 0, 1, 0);
})

// Открытие попапа со списком блоков для поиска его на листе
function openSearchPopup() {
    $.ajax({
        url: "/projects/569981/messages/block_list",
        type: "GET"
    })
}
$(".search_toggler--js").click(openSearchPopup)


// Для корректного отображения кнопок
function buttonsCss() {
    if (undoStuck.length > 0 && undo_redo_trigger) {
        $(".undo_button").css("color", "#039").css('opacity', '1')
        $(".undo_button").hover(function () {
            $(".undo_button").css("color", "#1a53c6").css('opacity', '1')
        }, function () {
            $(".undo_button").css("color", "#039").css('opacity', '1')
        })
    } else {
        $(".undo_button").css("color", "#626f7f").css('opacity', '0.5')
        $(".undo_button").hover(function () {
            $(".undo_button").css("color", "#626f7f").css('opacity', '0.7')
        }, function () {
            $(".undo_button").css("color", "#626f7f").css('opacity', '0.5')
        })
    }
    if (redoStuck.length > 0 && undo_redo_trigger) {
        $(".redo_button").css("color", "#039").css('opacity', '1')
        $(".redo_button").hover(function () {
            $(".redo_button").css("color", "#1a53c6").css('opacity', '1')
        }, function () {
            $(".redo_button").css("color", "#039").css('opacity', '1')
        })
    } else {
        $(".redo_button").css("color", "#626f7f").css('opacity', '0.5')
        $(".redo_button").hover(function () {
            $(".redo_button").css("color", "#626f7f").css('opacity', '0.7')
        }, function () {
            $(".redo_button").css("color", "#626f7f").css('opacity', '0.5')
        })
    }
}

// функции вычисление анти-типа для типа undo/redo
function antiType(type) {
    switch (type) {
        case "removeConnection":
            return "addConnection"
        case "addConnection":
            return "removeConnection"
        case "addBlock":
            return "removeBlock"
        case "removeBlock":
            return "addBlock"
        case "removeInterSheet":
            return "addInterSheet"
        case "addInterSheet":
            return "removeInterSheet"
        default:
            return type
    }
}

// корректирует маркер (треугольник отот черный на стрелке)
function normalizeMarker(d, offset) {
    var path = new g.Path(V.normalizePathData(d));
    var bbox = path.bbox();
    var ty = -bbox.height / 2 - bbox.y;
    var tx = -bbox.width / 2 - bbox.x;
    if (typeof offset === 'number') tx -= offset;
    path.translate(tx, ty);
    return path.serialize();
}

// создание стрелки (возвращает тело стрелки)
function createArrow(s_id, t_id, interval, text, vertices, read_data) {
    var v = [];
    if (vertices != null && vertices !== "") {
        v = JSON.parse(vertices)
    }
    return new joint.shapes.standard.Link({
        source: {id: s_id},
        target: {id: t_id},
        attrs: {
            line: {
                stroke: arrow_stroke_color,
                strokeWidth: 1.2,
                strokeDasharray: interval,
                targetMarker: {
                    d: read_data ? romb_path : normalizeMarker(arrow_path, -3),
                    fill: read_data ? "#FFF" : arrow_stroke_color
                }
            }
        },
        labels: [{
            position: .5,
            attrs: {
                rect:{
                    fill: "#F0F2F7",
                    x: '-3px',
                    y: '0px',
                    transform: 'scale(1.06)'
                },
                text: {
                    text: text,
                    'font-size': '11px',
                    fill: '#1F2937'
                }
            }
        }],
        vertices: v
    });
}

// скрытие/показание карты
$(".map_button").on("click", function () {
    if (get_cookie("open_map") == 1) {
        set_cookie("open_map", 0)
    } else if (get_cookie("open_map") == 0) {
        set_cookie("open_map", 1)
    }
    getMap()
})

// Плюс один шаг зума, клик по иконке
$(".zoom_in_button").on("click", function () {
    get_center()
    paperScroller.zoom(0.1, {max: 4})
    var info = paperScroller.getVisibleArea();
    setZoomInfo()
    set_cookie('zoom_info_', (paperScroller.zoom() - 1), 0, 1, 0);
    set_cookie("paper_scroller_x_", parseFloat((info.x + info.width / 2)) * (parseFloat(get_cookie("zoom_info_")) + 1), 0, 1, 0);
    set_cookie("paper_scroller_y_", parseFloat((info.y + info.height / 2)) * (parseFloat(get_cookie("zoom_info_")) + 1), 0, 1, 0);
})
// Минус один шаг зума, клик по иконке
$(".zoom_out_button").on("click", function () {
    get_center()
    paperScroller.zoom(-0.1, {min: 0.2})
    var info = paperScroller.getVisibleArea();
    setZoomInfo()
    set_cookie('zoom_info_', (paperScroller.zoom() - 1), 0, 1, 0);
    set_cookie("paper_scroller_x_", parseFloat((info.x + info.width / 2)) * (parseFloat(get_cookie("zoom_info_")) + 1), 0, 1, 0);
    set_cookie("paper_scroller_y_", parseFloat((info.y + info.height / 2)) * (parseFloat(get_cookie("zoom_info_")) + 1), 0, 1, 0);
})
$(".map_button, .map_button_colors").find("svg > path").attr("fill", "black")
$(".map_button, .map_button_colors").hover(function () {
    $(this).find("svg > path").attr("fill", "#1A53C6")
}, function () {
    $(this).find("svg > path").attr("fill", "black")
})

// корректное отображение карты
function getMap() {
    if (get_cookie("open_map") == 1) {
        $("#navigator").css("display", "block")
        $(".close_map").removeClass("hidden")
        $(".white_background").addClass("hidden")
        $(".open_map").addClass("hidden")
        $(".link_to_pay_closed").addClass("hidden")
        $(".link_to_pay_opened").removeClass("hidden")
        $(".buttons_menu_redactor").removeClass("buttons_menu_redactor--br")
    } else if (get_cookie("open_map") == 0) {
        $("#navigator").css("display", "none")
        $(".close_map").addClass("hidden")
        $(".white_background").removeClass("hidden")
        $(".open_map").removeClass("hidden")
        $(".link_to_pay_closed").removeClass("hidden")
        $(".link_to_pay_opened").addClass("hidden")
        $(".buttons_menu_redactor").addClass("buttons_menu_redactor--br")
    }
    paperCss()
    if (get_cookie("open_map") == undefined) {
        set_cookie("open_map", 1)
        $("#navigator").css("display", "block")
        $(".close_map").removeClass("hidden")
        $(".white_background").addClass("hidden")
        $(".open_map").addClass("hidden")
        $(".link_to_pay_closed").addClass("hidden")
        $(".link_to_pay_opened").removeClass("hidden")
        $(".buttons_menu_redactor").removeClass("buttons_menu_redactor--br")
    }
}

// Убирает правый бар на телефоне
function removeEditorMobile() {
    if (window.innerWidth < 900) {
        $("#editor").css("display", "none")
        paperCss()
    }
}

// Показывае правый бар на телефоне
function displayEditorMobile() {
    if (window.innerWidth < 900) {
        $("#editor").css("display", "block")
        paperCss()
    }
}

// Проверка мобилка/десктоп
function mobilecheck() {
    var check = false;
    (function (a) {
        if (/(android|bb\d+|meego).+mobile|avantgo|ipad|iphone|ipod|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0, 4))) check = true;
    })(navigator.userAgent || navigator.vendor || window.opera);
    return check;
}

// Добавление иконки вложения на блок
function appendAttachArray(item, m){
    let file = m.attachments_settings && JSON.parse(m.attachments_settings).attachments ? JSON.parse(m.attachments_settings).attachments[0] : ""
    if ((((m.file.url != null && m.file.url != "") || (m.attachment_url != null && m.attachment_url != "")) && m.attachment_type != null && m.attachment_type != "")) {
        iconAttachments.push({id: item.attributes.id, type: m.attachment_type, color: textColor(m)})
    } else if ((m.file.url != null && m.file.url != "") || (m.attachment_url != null && m.attachment_url != "")) {
        let url = m.file.url
        let type;
        if (url == "" || url == null) {
            url = m.attachment_url
            type = "link"
        } else {
            type = "file"
        }
        url = url.toLowerCase()
        if (url.match(/\.(jpeg|jpg|gif|png|svg|jpe)$/) != null) {
            type = "image"
        } else if (url.match(/\.(ogg|midi|mp3|wav|oga)$/) != null) {
            type = "audio"
        } else if (url.match(/\.(mp4|flv|mov)$/) != null) {
            type = "video"
        }
        // console.log("item.attributes.iditem.attributes.iditem.attributes.iditem.attributes.id")
        // console.log("item.attributes.iditem.attributes.iditem.attributes.iditem.attributes.id")
        // console.log("item.attributes.iditem.attributes.iditem.attributes.iditem.attributes.id")
        // console.log(item.attributes.id)
        // console.log(type)
        iconAttachments.push({id: item.attributes.id, type, color: textColor(item)})
    } else if (file && file.attachment_type){
        iconAttachments.push({id: item.attributes.id, type: file.attachment_type, color: textColor(m)})
    }
    if(m.action_url && m.request_type != null){
        apiAttachments.push({id: item.attributes.id, type:"api", color:textColor(m)})
    }
}

// Цвет текста
function textColor(m) {
    return m.message_type == 0 || m.message_type == 7 || m.message_type == 8 ? "black" : "white"
}

// Создание блока (возвращает тело блока)
function addBlock(m, newBlock = true) {
    try{
        var item = new joint.shapes.standard.HeaderedRectangle({
            position: {x: m.x, y: m.y},
            size: {width: w, height: h},
            attrs: {
                bodyText: {
                    text: calcText(m),
                    'ref-y': -13,
                    'text-anchor': !is_message_comment(m) ? "middle":"start",
                    "fill": textColor(m),
                    'font-size': 12,
                    'font-weight': 400,
                    'font-family': 'SourceSansPro'
                },
                headerText: {
                    "text": m.clients_count > 0 ? m.clients_count : null,
                    'text-anchor': 'end',
                    'font-size': 11,
                    'font-weight': 600,
                    'font-family': 'SourceSansPro',
                    'ref-y': -5,
                    'ref-x': 65,
                    "fill":textColor(m)
                },
                body: {
                    fill: getColorForType(m.message_type),
                    "rx":6,
                    stroke:getStokeColor(m.message_type),
                    strokeWidth: !is_message_comment(m) ? 1 : 0,
                    opacity: !is_message_comment(m) ? 1 : 0
                },
                header: {
                    fill: getColorForType(m.message_type),
                    strokeWidth: 0,
                    opacity: 0
                }
            }
        })
        item.prop('message', m);
        if(!is_message_comment(m)){
            appendAttachArray(item, m)
        }else{
            commentsBlocks.push(item.id)
        }
        items[m.id] = item;
        if (newBlock) {
            graph.addCell(item);
            afterBlockLoad()
        }
        return item;
    }catch(e){
        console.error("ERROR")
        console.error(e)
    }
}

// ПОказывает время в стрелке человеческим видом
function get_timeout_type_text(count, type) {
    let c = parseInt(count, 10)
    if (type == 1) {
        if (count == c) {
            if (c % 10 == 1) {
                return "секунду"
            }
            if (c % 10 == 2 || c % 10 == 3 || c % 10 == 4) {
                return "секунды"
            }
        }
        return "секунд"
    } else if (type == 60) {
        if (count == c) {
            if (c % 10 == 1) {
                return "минуту"
            }
            if (c % 10 == 2 || c % 10 == 3 || c % 10 == 4) {
                return "минуты"
            }
        }
        return "минут"
    } else if (type == 60 * 60) {
        if (count == c) {
            if (c % 10 == 1) {
                return "час"
            }
            if (c % 10 == 2 || c % 10 == 3 || c % 10 == 4) {
                return "часа"
            }
        }
        return "часов"
    } else if (type == 1440 * 60) {
        if (count == c) {
            if (c % 10 == 1) {
                return "день"
            }
            if (c % 10 == 2 || c % 10 == 3 || c % 10 == 4) {
                return "дня"
            }
        }
        return "дней"
    }    else if (type == -1) {
        if (count == c) {
            if (c % 10 == 1) {
                return "месяц"
            }
            if (c % 10 == 2 || c % 10 == 3 || c % 10 == 4) {
                return "месяца"
            }
        }
        return "месяцев"
    }
}

// Обрезщает текст для блока
function calcConnectionText(c) {
    let text = ''
    if (c.description) {
        text = cutConnectionText(c.description)
    } else {
        if (c.condition) {
          text = cutConnectionText(c.condition)
        }
        if (c.compare_variable) {
            text = addPrefixNewLine(text) + cutConnectionText(c.compare_variable)
        }
    }
    if (c.timeout) {
        text = addPrefixNewLine(text) + "Через " + c.timeout + " " + get_timeout_type_text(c.timeout, c.timeout_type)
    }
    if (c.send_date || c.send_time) {
        text = addPrefixNewLine(text) + ( c.send_time ? "Время: " + c.send_time + "\n" : '') + (c.send_date ? " Дата: " + c.send_date : '')
    }
    return text
}

// Обрезщает текст для стрелки
function cutConnectionText(m) {
    return m.substring(0, Math.min(26, m.length));
}

// Добавляние \n где-то там
function addPrefixNewLine(t){
    if (t) {
        return t + '\n'
    }
    return t
}

// ПРоверка ня то, является ли блок комментарием
function is_message_comment(message){
    return message.message_type == 8
}

// Возвращает текст для блока (прошлая функция что-то немного другое видимо делает)
function calcText(m) {
    var c = m.description || m.answer || '';
    if (is_message_comment(m)) {
        return c
    }
    return c.replace(/\r\n/g, ' ').substring(0, Math.min(20, c.length));
}

// Нахождение блока, по id из другого литса или проекта (не помню как такое возможно, но вроде как оно)
function findBlockByInterMessageId(id) {
    var result;
    _.each(this.graph.getElements(), function (element) {
        if (element.prop('inter_message') && element.prop('inter_message').id == id) {
            result = element;
        }
    });
    return result;
}

// Нахождение блока, по id message
function findBlockByMessageId(id) {
    var result;
    _.each(this.graph.getElements(), function (element) {
        if (element.prop('message') && element.prop('message').id == id) {
            result = element;
        }
    });
    return result;
}

// Нахождение стрелки, по id message
function findConnectionById(id) {
    var result;
    _.each(this.graph.getLinks(), function (element) {
        if (element.prop('connection_id') == id) {
            result = element;
        }
    });
    return result;
}

// Нахождение стрелки, по id из другого литса или проекта (не помню как такое возможно, но вроде как оно)
function findConnectionByInterBlock(id) {
    var result;
    _.each(this.graph.getLinks(), function (element) {
        if (element.prop('inter_connection_block') && element.prop('inter_connection_block').id == id) {
            result = element;
        }
    });
    return result;
}

//Нахождение блкоа по внутрибиблиотечному id
function findBlockByGuid(guid) {
    var result;
    _.each(this.graph.getElements(), function (element) {
        if (element.attributes.id == guid) {
            result = element;
        }
    });
    return result;
}

//Нахождение стрелки по внутрибиблиотечному id
function findConnectionByGuid(guid) {
    var result;
    _.each(this.graph.getLinks(), function (element) {
        if (element.attributes.id == guid) {
            result = element;
        }
    });
    return result;
}

//изменение граней блок при чем-то (визуал)
function cellStrokeSelected(cell){
    let m = cell.prop("message")
    if(!is_message_comment(m)){
        cell.attr("body/stroke", "#1A53C6")
        cell.attr("body/stroke-width", "2")
        cell.attr("body/style", "filter: drop-shadow(0px 4px 16px rgba(26, 83, 198, 0.3));")
    }
}

//изменение граней блок при чем-то (визуал), это возвращает в исходное
function cellStrokeNormal(cell){
    let m = cell.prop("message")
    if (!is_message_comment(m)) {
        cell.attr("body/stroke", getStokeColor(m.message_type))
        cell.attr("body/stroke-width", "1")
        cell.attr("body/style", "filter: drop-shadow(0px 2px 5px rgba(6, 25, 56, 0.06))")
    }
}

//Вычисляет интервал разрыва пунктира на стрелке (визуал)
function getInterval(c) {
    var delayed = c.timeout || c.send_time || c.send_date;
    if (delayed) {
        return c.remove_on_state_change ? '6' : '3';
    } else {
        return 0;
    }
}

//Возвращает цвет по типу блока
function getColorForType(type) {
    switch (type) {
        case 0:
            return "white";
        case 1:
            return "#059669";
        case 2:
            return "#9C174D";
        case 3:
            return "#3B82F6";
        case 4:
            return "#03B44D";
        case 5:
            return "#4C5D75";
        case 6:
            return "#6C7A96";
        case 7:
            return "#FCD34D";
        case 8:
            return "#FFFFFF";
        case 9:
            return "#D97706";
        case 10:
            return "#FCA5A5";
        default:
            return 'blue';
    }
}

//Возвращает цвет бордера по типу блока
function getStokeColor(type) {
    switch (type) {
        case 0:
            return stroke_color;
        case 1:
            return "#047857";
        case 2:
            return "#831843";
        case 3:
            return "#1D4ED8";
        case 4:
            return "#03943F";
        case 5:
            return "#1F2937";
        case 6:
            return "#4C5D75";
        case 7:
            return "#F59E0B";
        case 8:
            return stroke_color;
        case 9:
            return "#4C5D75";
        case 10:
            return "#4C5D75";
        default:
            return 'blue';
    }
}

//Корректирует стрелки на мобилке
function mobileConnectionsCss() {
    if (window.innerWidth < 900) {
        $(".marker-vertices").css("opacity", "1")
        $(".marker-vertex-remove-area").css("opacity", "1")
        $(".marker-vertex-remove").css("opacity", "1")
        $(".tool-remove").attr("transform", "scale(1.5)")
        $(".tool-options").attr("transform", "scale(1.5)")
    }
}

//начальная прогрузка блоков
function acyncDrawBlocks(items) {
    var cells = [];
    items.forEach(function (i) {
        console.log("")
        if(i.sheet_id  == ("" || null)){
            cells.push(addBlock(i, false));
        }
    })
    get_bench_time("blocks")
    graph.addCells(cells);
    afterBlockLoad()
}

//начальное добавление блоков (которые из другого листа)
function createAdditionBlock(params){
    try{
      let {a_block, b_block, connection} = params
      if((!a_block && !b_block) || !connection){
          return console.error("createAdditionBlock params ERROR")
      }
      let isTarget = !!a_block
      let vertices = connection && connection.vertices ? JSON.parse(connection.vertices) : false
      let pos, x, y
      let block = isTarget ? a_block : b_block
      console.log("isTarget")
      console.log(params)
      if(vertices && vertices.length == 2){
          x = isTarget ? parseInt(vertices[0].x) : parseInt(vertices[1].x)
          y = isTarget ? parseInt(vertices[0].y) : parseInt(vertices[1].y)
      } else {
          pos = block.attributes.position
          x = pos.x - 10
          y = isTarget ? pos.y + 100 : pos.y - 100
      }
      let additionBlock = new joint.shapes.standard.Rectangle({
          position: {x, y},
          size: {width: 160, height: 50}
      })
      let str = isTarget ? "message_b_id" : "message_a_id"
      let str_2 = isTarget ? "message_a_id" : "message_b_id"
      let first_block = messages.find(item => item.id == connection[str_2])
      let second_block = messages.find(item => item.id == connection[str])
      let list_name = second_block.sheet_id ? sheets.find(sheet => { if(sheet.id == second_block.sheet_id)return sheet}).name : "Основной лист"
      additionBlock.attr("body/rx", "6")
      additionBlock.attr("body/stroke", "#C5D0E0")
      additionBlock.attr("body/fill", "#F0F2F7")
      additionBlock.attr("body/stroke-width", "1")
      let first_row_string = `Лист: ${list_name},`
      let second_row_string = `Блок: #${second_block.id}`
      additionBlock.attr("label/text", first_row_string)
      additionBlock.attr("label/font-size", `10`)
      graph.addCell(additionBlock);
      let el = $(`g[model-id='${additionBlock.id}']`)
      el.find("text").attr("text-anchor", "start")
      el.find("text").attr("fill", "#374151")
      el.find("text").attr("font-size", "11")
      el.find("text").attr("transform", el.find("text").attr("transform").replace(/,(\w+)[)]/g, (all, f_arg) => {return `,${parseInt(f_arg) - 7})`}))
      el.find("text").attr("transform", el.find("text").attr("transform").replace("80", '41'))
      let new_text_tag = el.find("text")[0].outerHTML.replace(/,(\w+)[)]/g, (all, f_arg) => {return `,${parseInt(f_arg) + 14})`})
      el.html(el.html() + new_text_tag)
      el.find("text").last().text(second_row_string)
      el.append(interSheetSvg)
      additionBlock.prop("inter_connections", [connection])
      additionBlock.prop("inter_message", second_block)
      additionBlock.prop("block_for_update", [first_block.id])
      additionBlock.on("change:position", function(block){
          block.prop("block_for_update").forEach(function(id){
              findBlockByMessageId(id).attr("body/updated", Math.random())
          })
      })
      return additionBlock
    } catch (e) {
        console.error("ERROR TY")
        console.error(e)
    }
}

//начальное добавление стрелок
function acyncDrawConnections(connections) {
    try{
    var cells = [];
    get_bench_time("PRE connections")
    connections.forEach(function (c) {
        if(!findConnectionById(c.id)){
            if (items[c.message_b_id] && items[c.message_a_id]) {
                var link = createArrow(
                    items[c.message_a_id].id,
                    items[c.message_b_id].id,
                    getInterval(c),
                    calcConnectionText(c),
                    c.vertices,
                    c.read_data);
            } else if (items[c.message_b_id] || items[c.message_a_id]) {
                let isSource = !!items[c.message_a_id]
                let block = findBlockByInterMessageId(!isSource ? c.message_a_id : c.message_b_id)
                if (!block) {
                    block = createAdditionBlock({
                        a_block: items[c.message_a_id],
                        b_block: items[c.message_b_id],
                        connection: c
                    })
                } else {
                    block.prop('inter_connections', block.prop('inter_connections').concat([c]))
                    block.prop('block_for_update', block.prop('block_for_update').concat([isSource ? c.message_a_id : c.message_b_id]))
                }
                var link = createArrow(
                    isSource ? items[c.message_a_id].id : block,
                    isSource ? block : items[c.message_b_id].id,
                    getInterval(c),
                    calcConnectionText(c),
                    null,
                    c.read_data)
                link.prop("is_source", isSource)
                link.prop("inter_link", true)
                link.prop("inter_connection_block", block)
            }
            if (link) {
                link.prop('connection_id', c.id);
                link.prop('connection', c);
                cells.push(link);
            }
        } else {
            let a_block = findBlockByMessageId(c.message_a_id) || findBlockByInterMessageId(c.message_a_id)
            let b_block = findBlockByMessageId(c.message_b_id) || findBlockByInterMessageId(c.message_b_id)
            if(a_block){
                findConnectionById(c.id).target(a_block)
            }
            if(b_block){
                findConnectionById(c.id).target(b_block)
            }
        }
    })
    get_bench_time("connections ================================================================================")
    // лаг идет имеено тут
    graph.addCells(cells);
    // лаг идет имеено тут
    get_bench_time("AFTER connections ================================================================================")
    addTools(cells)
    get_bench_time("PRE tools")
    }catch(e){
        console.error("error")
        console.error(e)
    }
}

//Доабвление всякого для блкоов, после их рендера
function afterBlockLoad() {
    commentsBlocks.forEach(function(i){
        $(`g[model-id=${i}]`).find("text[joint-selector=bodyText]").attr("transform", "matrix(1,0,0,1,0,27)")
    })
    console.log(iconAttachments)
    iconAttachments.forEach(function (i) {
        let el = $(`g[model-id=${i.id}]`)
        let icon;
        if (i.type == "linkd" || i.type == "link_shortener") {
          icon = linkIconPreview
        } else if(i.type == "video"){
            icon = videoIconPreview
        } else if(i.type == "image"){
            icon = imageIconPreview
        } else if(i.type == "file" || i.type == "text"){
            icon = fileIconPreview
        } else if(i.type == "audio"){
            icon = audioIconPreview
        } else {
            icon = fileIconPreview
        }

        icon = icon.replace("currentColor", i.color)
        el.append(icon)
    })
    apiAttachments.forEach(function (i) {
        let el = $(`g[model-id=${i.id}]`)
        el.append(apiIconPreview.replace("currentColor", i.color))
    })
    apiAttachments = []
    iconAttachments = []
}
get_bench_time("дошло до Ready")


//Это инициирует селект (который синим светиться)
if (can_access_edit()) {//================================================================================================================================================
    joint.linkTools.RemoveButton = joint.linkTools.Button.extend({
        name: 'info-button',
        options: {
            markup: [{
                tagName: 'rect',
                selector: 'button',
                attributes: {
                    "rx": "6",
                    "width": "24",
                    "height": "24",
                    "fill": "#222222",
                    "transform": "translate(-11, -13)",
                    "cursor": "pointer"
                }
            }, {
                tagName: 'path',
                selector: 'icon',
                attributes: {
                    'd': "M27.2425 14.1715C27.6331 13.7809 27.6331 13.1478 27.2425 12.7572C26.852 12.3667 26.2188 12.3667 25.8283 12.7572L27.2425 14.1715ZM18.7572 19.8283C18.3667 20.2188 18.3667 20.852 18.7572 21.2425C19.1478 21.6331 19.7809 21.6331 20.1715 21.2425L18.7572 19.8283ZM25.8283 21.2425C26.2188 21.6331 26.852 21.6331 27.2425 21.2425C27.6331 20.852 27.6331 20.2188 27.2425 19.8283L25.8283 21.2425ZM20.1715 12.7572C19.7809 12.3667 19.1478 12.3667 18.7572 12.7572C18.3667 13.1478 18.3667 13.7809 18.7572 14.1715L20.1715 12.7572ZM25.8283 12.7572L22.2928 16.2928L23.707 17.707L27.2425 14.1715L25.8283 12.7572ZM22.2928 16.2928L18.7572 19.8283L20.1715 21.2425L23.707 17.707L22.2928 16.2928ZM27.2425 19.8283L23.707 16.2928L22.2928 17.707L25.8283 21.2425L27.2425 19.8283ZM23.707 16.2928L20.1715 12.7572L18.7572 14.1715L22.2928 17.707L23.707 16.2928Z",
                    'fill': 'white',
                    "transform": "translate(-22, -18)",
                    "cursor": "pointer"
                }
            }],
            distance: -80,
            action: function (evt) {
                removeConnection(this.model)
            }
        }
    });
    //Объявление кноки НАСТОЙКИ на стрелке
    joint.linkTools.SettingsButton = joint.linkTools.Button.extend({
        name: 'info-button',
        options: {
            markup: [{
                tagName: 'rect',
                selector: 'button',
                attributes: {
                    "rx": "6",
                    "width": "24",
                    "height": "24",
                    "fill": "#222222",
                    "transform": "translate(-11, -13)",
                    "cursor": "pointer"
                }
            }, {
                tagName: 'path',
                selector: 'icon',
                attributes: {
                    'd': "M29.0923 18.4613L27.8668 17.5029C27.8823 17.3552 27.8957 17.1824 27.8957 16.9996C27.8957 16.8168 27.8829 16.6441 27.8668 16.4963L29.0935 15.5374C29.3212 15.3574 29.3835 15.0379 29.2385 14.7719L27.964 12.5668C27.8279 12.3179 27.5295 12.1902 27.2268 12.3018L25.7807 12.8824C25.5035 12.6824 25.2129 12.5135 24.9123 12.3785L24.6923 10.8446C24.6562 10.5535 24.4029 10.3335 24.1035 10.3335H21.5479C21.2485 10.3335 20.9957 10.5535 20.9601 10.8402L20.7396 12.3796C20.4485 12.5107 20.1624 12.6774 19.8729 12.8835L18.4229 12.3013C18.1512 12.1963 17.8262 12.314 17.6912 12.5618L16.4151 14.7696C16.2646 15.0241 16.3268 15.3546 16.5596 15.5391L17.7851 16.4974C17.7657 16.6846 17.7562 16.8474 17.7562 17.0002C17.7562 17.153 17.7657 17.3157 17.7851 17.5035L16.5585 18.4624C16.3307 18.6429 16.269 18.9624 16.414 19.2279L17.6885 21.4329C17.8246 21.6813 18.1201 21.8102 18.4257 21.6979L19.8718 21.1174C20.1485 21.3169 20.439 21.4857 20.7396 21.6213L20.9596 23.1546C20.9957 23.4468 21.2485 23.6668 21.5485 23.6668H24.104C24.4035 23.6668 24.6568 23.4468 24.6923 23.1602L24.9129 21.6213C25.204 21.4896 25.4895 21.3235 25.7795 21.1168L27.2295 21.699C27.2995 21.7263 27.3723 21.7402 27.4473 21.7402C27.6629 21.7402 27.8612 21.6224 27.9612 21.439L29.2412 19.2224C29.3835 18.9624 29.3212 18.6429 29.0923 18.4613ZM22.8257 19.2224C21.6001 19.2224 20.6035 18.2257 20.6035 17.0002C20.6035 15.7746 21.6001 14.7779 22.8257 14.7779C24.0512 14.7779 25.0479 15.7746 25.0479 17.0002C25.0479 18.2257 24.0512 19.2224 22.8257 19.2224Z",
                    'fill': 'white',
                    "transform": "translate(-22, -18)",
                    "cursor": "pointer"
                }
            }],
            distance: -40,
            action: function (evt) {
                optionsLink(this)
            }
        }
    });
    var selection = new joint.ui.Selection({
        paper: paper,

        collection: new Backbone.Collection
    });
    //Нажатие по блоку
    paper.on('element:pointerdown', function (cellView, evt) {
        $('.active-line').removeClass('active-line')
        if (evt.ctrlKey || evt.metaKey) {
            console.log('element:pointerdown')
            console.log(groupSelect)
            cellStrokeSelected(cellView.model)
            selection.collection.add(cellView.model);
            console.log("PUSH 1")
            groupSelect.push(cellView.model.prop("message"))
        }
    });

    function multiSelect(cell) {
        var m = cell.prop('message');
        console.log("PUSH 2")
        groupSelect.push(m)
    }

    //Нажатие по выделенному блоку
    selection.on('selection-box:pointerdown', function (elementView, evt) {
        if (evt.ctrlKey || evt.metaKey) {
            console.log('selection-box:pointerdown')
            cellStrokeNormal(elementView.model)
            selection.collection.remove(elementView.model);
            groupSelect = groupSelect.filter(function (i) {
                return i.id != elementView.model.attributes.message.id
            })
        }
    });
    selection.removeHandle("remove")
    selection.removeHandle("rotate")
    selection.removeHandle("resize")
    //Нажатие по иконке настроее на стрелке
    paper.on('link:options', function (evt, cellView, x, y) {
        optionsLink(evt, cellView, x, y)
    });
    //Событие, когда хоть что-то удаляется в полотна
    graph.on('remove', function (eventName, args) {
        if (eventName.attributes.type == "link" && canRemove) {
            removeConnection(eventName);
        }
    });
    //Событие, когда хоть что-то добавляется на полотно
    graph.on('add', function (e) {
        $('.active-line').removeClass('active-line')
        if (e.attributes.type == "standard.HeaderedRectangle") {
            haloAction = e
        }
        if (e.attributes.type == "link") {
            haloActionLink = e
        }
    })

    //Вывод попапа "Изменения были внесены..."
    function formTriggerPrewiev(callback, callback_of_answer_no = false) {
        if (form_change_trigger) {
            dialogContext({
                message: "Изменения, которые вы делали, не были приняты. Вы уверены, что хотите закрыть редактирование ?",
                func_action: callback,
                no_func_action: callback_of_answer_no,
                yes_button: "Да",
                no_button: "Нет",
            })
        } else {
            callback()
        }
    }

    // Инициация halo (иконки которые над блоком черные)
    function haloCreator(cellView) {
        var isBlockComment = is_message_comment(cellView.model.prop("message"))
        var halo = new joint.ui.Halo({
            cellView: cellView
        });
        let hasLinks = graph.getConnectedLinks(cellView.model).length > 0
        halo.removeHandle("resize")
        halo.removeHandle("rotate")
        halo.removeHandle("clone")
        halo.removeHandle("fork")
        halo.removeHandle("unlink")
        halo.addHandle({
            name: "copy",
            position: hasLinks ? 'n' : 'ne',
            icon: "/assets/rappid/copy.svg",
            attrs: {
                '.handle': {
                    'data-tooltip-class-name': 'small',
                    'data-tooltip': 'Нажмите и потяните, чтобы скопировать блок',
                    'data-tooltip-position': 'bottom'
                }
            }
        })
        halo.changeHandle("link", {
            position: "s",
            icon: "/assets/rappid/link.svg",
            attrs: {
                '.handle': {
                    'data-tooltip-class-name': 'small',
                    'data-tooltip': 'Нажмите и потяните, чтобы создать стрелку к другому блоку',
                    'data-tooltip-position': 'left'
                }
            }
        })
        halo.changeHandle("remove", {
            position: hasLinks ? 'n' : 'ne',
            icon: "/assets/rappid/remove.svg",
            attrs: {
                '.handle': {
                    'data-tooltip-class-name': 'small',
                    'data-tooltip': 'Нажмите, чтобы удалить блок',
                    'data-tooltip-position': 'bottom'
                }
            }
        })
        if (!isBlockComment) {
            halo.addHandle({
                name: "copyConnected",
                position: hasLinks ? 'n' : 'ne',
                icon: "/assets/rappid/fork.svg",
                attrs: {
                    '.handle': {
                        'data-tooltip-class-name': 'small',
                        'data-tooltip': 'Нажмите и потяните, чтобы скопировать и присоединить блок',
                        'data-tooltip-position': 'bottom'
                    }
                }
            })
            if (hasLinks) {
                halo.addHandle({
                    name: "unlinkH",
                    position: "n",
                    icon: "/assets/rappid/unlink.svg",
                    attrs: {
                        '.handle': {
                            'data-tooltip-class-name': 'small',
                            'data-tooltip': 'Нажмите, чтобы убрать все стрелки к другим блокам',
                            'data-tooltip-position': 'bottom'
                        }
                    }
                })
                halo.on("action:unlinkH:pointerdown", function (e, x, y) {
                    var m = cellView.model.prop("message")
                    haloAjax("unlink", m.id)
                })
            }
        } else {
            halo.removeHandle("link")
        }
        halo.addHandle({
            name: "inter_sheet_copy",
            position: hasLinks ? 'n' : 'ne',
            icon: "/assets/rappid/halo_inter_copy.svg",
            attrs: {
                '.handle': {
                    'data-tooltip-class-name': 'small',
                    'data-tooltip': "Нажмите, чтобы связать этот блок с другим листом",
                    'data-tooltip-position': 'bottom'
                }
            }
        })
        halo.on("action:newBlock:pointerup", function (e) {
            var b = findBlockByMessageId(newBlock.id)
            if (newBlockTrigger) {
                haloAjax("newBlockUp", newBlock.id, b.attributes.position.x, b.attributes.position.y)
                newBlock = undefined
                newBlockTrigger = false
            }
        })
        halo.on("action:inter_sheet_copy:pointerdown", function () {
            localStorage.setItem("salebot_inter_sheet_copy", JSON.stringify(groupSelect))
            closeRappidPopups()
            new joint.ui.FlashMessage({
                title: 'Внимание !',
                type: 'info',
                content: `<span style="font-weight: 600">Вы переносите блоки из этого листа.<br>Если блоков для переноса будет слишком много, возможно зависание вкладки браузера.</span></br>Перейдите в другой лист, чтобы вставить. Нажмите ESC, чтобы отменить вырезание из буфера обмена.`,
                closeAnimation: {delay: 7000}
            }).open();
        })
        halo.on("action:newBlock:pointermove", function (e, x, y) {
            if (newBlock != undefined) {
                var b = findBlockByMessageId(newBlock.id)
                newBlockTrigger = true
                b.position(x - 75, y - 20)
            }
        })
        halo.on("action:newBlock:pointerdown", function (e, x, y) {
            m = cellView.model.prop("message")
            haloAjax("newBlockDown", m.id, x - 75, y - 20)
        })
        halo.on("action:copy:pointerdown", function (e, x, y) {
            m = cellView.model.prop("message")
            haloAjax("copyDown", m.id, x - 75, y - 20)
        })
        halo.on("action:copyConnected:pointerdown", function (e, x, y) {
            m = cellView.model.prop("message")
            haloAjax("copyConnectedDown", m.id, x - 75, y - 20)
        })
        halo.on("action:copy:pointermove", function (e, x, y) {
            if (newBlock != undefined) {
                var b = findBlockByMessageId(newBlock.id)
                newBlockTrigger = true
                b.position(x - 75, y - 20)
            }
        })
        halo.on("action:copyConnected:pointermove", function (e, x, y) {
            if (newBlock != undefined) {
                var b = findBlockByMessageId(newBlock.id)
                newBlockTrigger = true
                b.position(x - 75, y - 20)
            }
        })
        halo.on("action:copy:pointerup", function (e, x, y) {
            var b = findBlockByMessageId(newBlock.id)
            if (newBlockTrigger) {
                haloAjax("copyUp", newBlock.id, b.attributes.position.x, b.attributes.position.y)
                newBlock = undefined
                newBlockTrigger = false
            }
        })
        halo.on("action:copyConnected:pointerup", function (e, x, y) {
            console.log(newBlock)
            var b = findBlockByMessageId(newBlock.id)
            if (newBlockTrigger) {
                haloAjax("copyConnectedUp", newBlock.id, b.attributes.position.x, b.attributes.position.y)
                newBlock = undefined
                newBlockTrigger = false
            }
        })
        halo.on("action:remove:pointerup", function (e, e1, e2, e3) {
            canRemove = false
            m = cellView.model.prop("message")
            haloAjax("remove", m.id)
        })
        halo.on("action:fork:pointerup", function (e, e1, e2, e3) {
            m = cellView.model.prop("message")
            haloAjax("fork", m.id, m.x, m.y, haloAction.id, cellView.model.id, haloActionLink.id)
        })
        halo.on("action:link:pointerdown", function (e, e1, e2, e3) {
            haloActionLinkTrigger = true
        })
        halo.on("action:link:pointerup", function (e, x, y) {
            formTriggerPrewiev(function () {
                haloActionLinkTrigger = false
                var m = cellView.model.prop("message")
                var b = findBlockByGuid(haloActionLink.attributes.target.id)
                if (b == undefined) {
                    $.ajax({
                        url: "/projects/569981/messages",
                        type: "POST",
                        data: {
                            message: {
                                sheet_id: sheet_param,
                                x: x - 70,
                                y: y - 25,
                                condition: "#{none}"
                            }
                        },
                        success: function () {
                            let message = newBlock
                            b = findBlockByMessageId(message.id)
                            createConnection(m.id, message.id, findBlockByMessageId(m.id), b.id)
                            haloActionLink.remove()
                        }
                    })
                    return
                }
                var new_m = b.prop("message") ? b.prop("message") : b.prop("inter_message")
                if (!is_message_comment(new_m)) {
                    haloAjax("link", m.id, null, null, null, haloActionLink.attributes.target.id, haloActionLink.id, new_m.id)
                    haloActionLink.remove()
                } else {
                    haloActionLink.remove()
                    M.toast({html: 'Нельзя присоединить стрелку к блоку комментария'})
                }
            }, function(){
                $("g[data-type='link']").remove()
            })
        })
        halo.render();
        globalHalo = halo
    }

    // Отправка события иконок halo
    function haloAjax(type, message_id, new_x, new_y, new_guid, old_guid, connection_guid, new_message_id, stack_length) {
        undo_redo_trigger_false()
        console.log("AJAX 1 - " + type)
        $.ajax({
            type: "GET",
            url: "/projects/569981/messages/halo_actions",
            data: {
                sheet_param: sheet_param,
                type,
                message_id,
                new_x,
                new_y,
                new_guid,
                old_guid,
                connection_guid,
                new_message_id,
                stack_length
            },
            success: function(data) {
                if (!data.success && data.payment_error) {
                    let redirectUrl = `/projects/569981/payment_info?payment_error=${encodeURIComponent(data.payment_error)}`;
                    window.location.href = redirectUrl;
                }
            }
        });
    }

    // изменение undo_redo_триггера на FALSE
    function undo_redo_trigger_false() {
        undo_redo_trigger = false
        buttonsCss()
    }

    // изменение undo_redo_триггера на TRUE
    function undo_redo_trigger_true() {
        undo_redo_trigger = true
        buttonsCss()
    }

    paper.on("blank:pointerup", function () {
        $(".joint-paper").css("cursor", "grab")
        if (startSelectiong) {
            startSelectiong = false
            groupSelect = []
            selection.collection.models = selection.collection.models.filter(function (item) {
                return !item.prop("inter_message")
            })
            selection.collection.models.forEach(function (item) {
                cellStrokeSelected(item)
                console.log("PUSH 3")
                groupSelect.push(item.prop("message"))
            })
            if (groupSelect.length == 1) {
                editMessage(findBlockByMessageId(groupSelect[0].id))
            } else {
                clearEditor(1)
                updateTextFields();
            }
            if (window.innerWidth < 900) {
                $(".deactivate_selection").removeClass("display_mobile")
                $(".deactivate_selection").addClass("hidden")
                $(".activate_selection").removeClass("hidden")
                if (groupSelect.length == 0) {
                    closeRappidPopups()
                    new joint.ui.FlashMessage({
                        title: "Внимание !",
                        type: 'info',
                        content: '<span style="color:red"> translation missing: ru.selected_unsuccessfull </span>',
                        closeAnimation: {delay: 7000}
                    }).open();
                }
            }
        }
    })
    // Еще одно событие нажития по пустому полотну (немного другое) НЕ СОВМЕЩАТЬ СО СТАРЫМ (чего - не помню, но нельзя) ))0)
    paper.on('blank:pointerdown', function (evt, x, y) {
        $('.active-line').removeClass('active-line')
        formTriggerPrewiev(function () {
            if (copyTrigger) {
                if (localStorage.getItem("salebot_interproject_copy")) {
                    console.log("salebot_interproject_copy")
                    copyTrigger = false
                    closeRappidPopups()
                    if (cutTrigger) {
                        cutGroupSelect = groupSelect
                    }
                    $(".joint-paper").css("cursor", "grabbing")
                    groupEditAjax({type: "copy", to_x: x, to_y: y})
                    localStorage.removeItem("salebot_interproject_copy")
                } else if (localStorage.getItem("salebot_inter_sheet_copy")) {
                    copyTrigger = false
                    closeRappidPopups()
                    $(".joint-paper").css("cursor", "grabbing")
                    groupEditAjax({type: "from_another_list", to_x: x, to_y: y})
                }
            }
            selectBlock(undefined, true, false, true);
            removeEditorMobile()
            updateTextFields();
            if (evt.ctrlKey || evt.metaKey) {
                $(".joint-paper").css("cursor", "crosshair")
                startSelectiong = true
                selection.startSelecting(evt)
            } else if (startSelectiong) {
                selection.startSelecting(evt)
            } else if (!evt.ctrlKey && !evt.metaKey && !form_change_trigger) {
                $(".joint-paper").css("cursor", "grabbing")
                paperScroller.startPanning(evt)
                groupSelect.forEach(function(item){
                    cellStrokeNormal(findBlockByMessageId(item.id))
                    selection.collection.remove(findBlockByMessageId(item.id))
                })
                groupSelect = []
            }
            form_change_trigger = false
            clearEditor(2)
        })
    });
    // Добавление кастомной функции для селекта (синяя штука) - удаление всего в селекте
    selection.addHandle({
        name: 'myaction',
        position: 'nw',
        icon: '/assets/rappid/remove_select.svg',
        attrs: {
            ".handle": {
                'data-tooltip-class-name': 'small',
                'data-tooltip': "Нажмите, чтобы удалить выделенные элементы",
                'data-tooltip-position': 'bottom'
            }
        }
    });
    // Добавление кастомной функции для селекта (синяя штука) - копирование в другой лист
    selection.addHandle({
        name: 'copy_to_another_list', position: 'n', icon: '/assets/rappid/list_select.svg',
        attrs: {
            ".handle": {
                'data-tooltip-class-name': 'small',
                'data-tooltip': "Нажмите, чтобы переместить выделенные элементы на другой лист",
                'data-tooltip-position': 'bottom'
            }
        }
    });
    // Добавление кастомной функции для селекта (синяя штука) - копирование простое
    selection.addHandle({
        name: 'copyaction', position: 'ne', icon: '/assets/rappid/copy_select.svg',
        attrs: {
            ".handle": {
                'data-tooltip-class-name': 'small',
                'data-tooltip': "Нажмите, чтобы скопировать выделенные элементы",
                'data-tooltip-position': 'bottom'
            }
        }
    });
    // Событие удаления, нажатие в селекте
    selection.on("action:myaction:pointerdown", function (e) {
        groupEditAjax({type: "destroy"})
    })
    // Событие копирование в другой лист, нажатие в селекте
    selection.on("action:copy_to_another_list:pointerdown", function () {
        if (groupSelect.length > 0) {
            localStorage.setItem("salebot_inter_sheet_copy", JSON.stringify(groupSelect))
            closeRappidPopups()
            new joint.ui.FlashMessage({
                title: 'Внимание !',
                type: 'info',
                content: `<span style="font-weight: 600">Вы переносите блоки из этого листа.<br>Если блоков для переноса будет слишком много, возможно зависание вкладки браузера.</span></br>Перейдите в другой лист, чтобы вставить. Нажмите ESC, чтобы отменить вырезание из буфера обмена.`,
                closeAnimation: {delay: 7000}
            }).open();
        }
    })
    // Событие простое копирование, нажатие в селекте
    selection.on("action:copyaction:pointerdown", function (e) {
        if (groupSelect.length > 1) {
            $(".joint-paper").css("cursor", "crosshair")
            copyTrigger = true
            localStorage.setItem("salebot_interproject_copy", JSON.stringify(groupSelect))
            closeRappidPopups()
            new joint.ui.FlashMessage({
                title: 'Внимание !',
                type: 'info',
                content: copyTitle,
                closeAnimation: {delay: 7000}
            }).open();
        }
    })

    // Событие нажатия по выделенному блоку
    selection.on("selection-box:pointerup", function (e) {
        console.log("pointerup")
        if (e.model.prop("message")) {
            let x_new = e.model.attributes.position.x - e.model.attributes.message.x
            let y_new = e.model.attributes.position.y - e.model.attributes.message.y
            if(e.model.attributes.position.x != e.model.attributes.message.x || e.model.attributes.position.y != e.model.attributes.message.y){
                console.log("x_new")
                console.log(e.model.attributes.position.x)
                console.log(e.model.attributes.message.x)
                console.log("x_new")
                groupEditAjax({type: "move", x_new, y_new})
            }
        }
    })

    // AJAX по селектовому изменению (тут все типы)
    function groupEditAjax(args) {
        let {type, x_new, y_new, to_x, to_y, cut_trigger, destroy_by_obj} = args
        var messages_id = []
        undo_redo_trigger_false()
        if (type != "from_another_list") {
            if (!cut_trigger) {
                for (let i = 0; i < groupSelect.length; i++) {
                    if (type === 'move') {
                        messages_id.push(groupSelect[i].id)
                    } else {
                        messages_id.push({
                            id: groupSelect[i].id,
                            x: groupSelect[i].x,
                            y: groupSelect[i].y
                        })
                    }
                }
            } else {
                for (let i = 0; i < cutGroupSelect.length; i++) {
                    var id = cutGroupSelect[i].id
                    var x = cutGroupSelect[i].x
                    var y = cutGroupSelect[i].y
                    if (type === 'move') {
                        messages_id.push(id)
                    } else {
                        messages_id.push({id, x, y})
                    }
                }
                cutTrigger = false
            }
        } else {
            JSON.parse(localStorage.getItem("salebot_inter_sheet_copy")).forEach(function (item) {
                if(type === 'move'){
                    messages_id.push(item.id)
                } else {
                    messages_id.push({
                        id: item.id,
                        x: item.x,
                        y: item.y
                    })
                }
            })
        }
        let messages_arrays = []
        let width = false
        let height = false
        messages_id.forEach(function (item) {
            if (width === false || item.x < width) {
                width = item.x
            }
            if (height === false || item.y < height) {
                height = item.y
            }
        }, false)
        if (messages_id.length > 50) {
            messages_id.forEach(function (message, index) {
                if (!messages_arrays[parseInt(index / 50)]) {
                    messages_arrays[parseInt(index / 50)] = []
                }
                messages_arrays[parseInt(index / 50)].push(message)
            })
        } else {
            messages_arrays.push(messages_id)
        }
        messages_arrays.forEach(function (messages) {
            let data = {
                sheet_id: sheet_param,
                messages,
                x: x_new,
                y: y_new,
                type,
                width,
                height,
                to_x,
                to_y,
                cut_trigger
            }
            console.log("AJAX 3")
            console.log(data)
            console.log("AJAX 3")
            $.ajax({
                type: "GET",
                url: "/projects/569981/messages/group_edit",
                data: data,
                success: function (data) {
                    if (type === "from_another_list") {
                        localStorage.removeItem("salebot_inter_sheet_copy")
                    }
                    if (!data.success && data.payment_error) {
                        let redirectUrl = `/projects/569981/payment_info?payment_error=${encodeURIComponent(data.payment_error)}`;
                        window.location.href = redirectUrl;
                    }
                }
            });
        })
    }

    // Очистка REDO
    function clearRedoStack() {
        redoStuck = []
        buttonsCss()
        undo_redo_trigger_true()
    }

    // Одно из удаления стрелки (99%), там несколько событий может быть (из-за библиотеки)
    function removeConnection(eventName) {
        eventName.remove()
        undo_redo_trigger_false()
        if (eventName.prop("inter_connection_block")) {
            let block = eventName.prop("inter_connection_block")
            eventName.prop("inter_connection_block", false)
            if (!findConnectionByInterBlock(block.id)) {
                block.remove()
            }
        }
        ajaxRemoveConnection(eventName.prop('connection'))
    }

    // ajax удаления стрелки
    function ajaxRemoveConnection(c) {
        console.log("AJAX 4")
        $.ajax({
            type: "DELETE",
            url: "/projects/569981/message_connections/" + c.id
        });
    }

    // глубокое изменения блока (калбек после каких-то эвентов)
    function totalChangeBlock(m) {
        var text = calcText(m)
        var b = findBlockByMessageId(m.id)
        b.attr('bodyText/text', text)
        b.attr('bodyText/fill', textColor(m))
        b.attr('body/fill', getColorForType(m.message_type))
        b.position(m.x, m.y)
        b.prop("message", m)
    }

    // кнопка undo
    $('.undo_button').click(function () {
        if (undo_redo_trigger) {
            undo_redo(null, "undo")
        }
    });
    // кнопка redo
    $('.redo_button').click(function () {
        if (undo_redo_trigger) {
            undo_redo(null, "redo")
        }
    });

    // функции undo/redo
    function undo_redo(count, type) {
        var stuckLengthTrigger = false
        if (type == "undo") {
            stuckLengthTrigger = undoStuck.length > 0
        } else if (type == "redo") {
            stuckLengthTrigger = redoStuck.length > 0
        }
        if (stuckLengthTrigger) {
            undo_redo_trigger_false()
            let hasCount = false
            if (type == "undo") {
                var target = undoStuck[undoStuck.length - 1]
            } else if (type == "redo") {
                var target = redoStuck[redoStuck.length - 1]
            }
            let actions = []
            if (typeof target == "number") {
                hasCount = target
                let stuck = type == "undo" ? undoStuck : redoStuck
                let firstIndex = stuck.length - hasCount - 1
                for (let i = stuck.length - 2; i >= firstIndex; i--) {
                    actions.push([{target: stuck[i][0], at: stuck[i][1]}])
                }
            } else {
                actions.push([{target: target[0], at: target[1]}])
            }
            console.log("AJAX 5")
            console.log(actions)
            $.ajax({
                type: "POST",
                url: "/projects/569981/messages/undo_redo",
                data: {actions: JSON.stringify(actions), t: type},
                success: function () {
                    if (typeof hasCount == 'number') {
                        for (let i = 0; i <= hasCount; i++) {
                            type == "undo" ? undoStuck.pop() : redoStuck.pop()
                        }
                        if (type == "undo") {
                            redoStuck.push(hasCount)
                        } else if (type == "redo") {
                            undoStuck.push(hasCount)
                        }
                        undo_redo_trigger = true
                    } else {
                        type == "undo" ? undoStuck.pop() : redoStuck.pop()
                    }
                    undo_redo_trigger_true()
                    buttonsCss()
                    mobileConnectionsCss()
                }
            });
        }
    }

    //Выделение блока
    function selectBlock(block, dontRemove = true, dontAdd = false, clear = false, e = true) {
        // selectBlock(cell, true, true, false, e)
        $("path[joint-selector='line']").attr('stroke', arrow_stroke_color)
        if (clear) {
            let models_length = selection.collection.models.length
            for (let i = 0; i < models_length; i++) {
                cellStrokeNormal(selection.collection.models[0])
                selection.collection.remove(selection.collection.models[0])
            }
            groupSelect = []
            globalHalo ? globalHalo.remove() : null
            globalHalo = null
            clearEditor(3)
            updateTextFields();
            return
        }
        console.log("selected_block")
        console.log(selected_block)
        if (selected_block != undefined && dontRemove) {
            cellStrokeNormal(selected_block)
            selection.collection.remove(selected_block)
            groupSelect = []
        }
        if (block != undefined) {
            selection.collection.add(block)
            cellStrokeSelected(block)
            console.log("!e")
            console.log(!e)
            if (dontAdd && !e) {
                console.log("PUSH 4")
                groupSelect.push(block.prop("message"))
            }
        }
        selected_block = block;
    }

    //начальное добавление тулов для стрелок
    function addTools(cells) {
        if (mobilecheck() && !!cells.length) {
            cells.forEach(function (item, index, arr) {
                if (!item.prop("inter_link")) {
                    var toolsView = new joint.dia.ToolsView({
                        tools: [
                            new joint.linkTools.Vertices({stopPropagation: false}),
                            new joint.linkTools.Segments({stopPropagation: false}),
                            new joint.linkTools.SettingsButton({stopPropagation: false}),
                            new joint.linkTools.RemoveButton({stopPropagation: false}),
                            new joint.linkTools.TargetArrowhead({stopPropagation: false})
                        ]
                    });
                    var linkView = item.findView(paper);
                    linkView.removeTools()
                    linkView.addTools(toolsView);
                }
            })
        }
    }

    //AJAX натсроек стрелки
    function optionsLink(evt) {
        var id = evt.model.prop('connection_id');
        var c = evt.model.prop('connection');
        selectBlock(undefined);
        if ($("path[joint-selector='line']").hasClass('active-line')) {
            $("path[joint-selector='line']").removeClass('active-line')
        }
        $("#" + evt.id + " path[joint-selector='line']")
                .attr('stroke', "#1A53C6")
                .addClass('active-line')
        console.log("AJAX 11")
        $.ajax({
            type: "GET",
            url: "/projects/569981/message_connections/" + id + '/edit',
            success: function () {
                displayEditorMobile()
            }
        });
    }

    //Глубокое изменение стрелки (онлайн, это калбек)
    function totalUpdateConnection(c) {
        var b = findConnectionById(c.id)
        b.attr('line/targetMarker/fill', c.read_data ? "#FFF" : arrow_stroke_color);
        b.attr('line/targetMarker/d', c.read_data ? normalizeMarker(romb_path, -5) : normalizeMarker(arrow_path, -3));
        if (calcConnectionText(c)) {
            $(`g[model-id='${b.id}']`).find(".labels").show()
        } else {
            $(`g[model-id='${b.id}']`).find(".labels").hide()
        }
        b.attr('text/text', calcConnectionText(c));
        b.attr('line/stroke-dasharray', getInterval(c));
        if (c.vertices != "" && items[c.message_a_id] && items[c.message_b_id]) {
            b.vertices(JSON.parse(c.vertices))
        } else {
            b.vertices({})
        }
        b.source(findBlockByMessageId(c.message_a_id) ? findBlockByMessageId(c.message_a_id) : findBlockByInterMessageId(c.message_a_id))
        b.target(findBlockByMessageId(c.message_b_id) ? findBlockByMessageId(c.message_b_id) : findBlockByInterMessageId(c.message_b_id))
        b.prop("connection", c)
        b.prop("connection_id", c.id)
    }

    //Изменение стрелки (онлайн, это калбек)
    function updateConnection(c, old_id, a_t, g_t, guid = null) {
        var b = findConnectionById(c.id);
        if (guid != null) {
            b = findConnectionByGuid(guid)
            b.attr('line/targetMarker/fill', c.read_data ? "#FFF" : arrow_stroke_color);
            b.attr('line/targetMarker/d', c.read_data ? normalizeMarker(romb_path, -5) : normalizeMarker(arrow_path, -3));
            b.attr('text/text', calcConnectionText(c));
            b.attr('.connection/stroke-dasharray', getInterval(c));
            b.prop("connection", c)
            b.prop("connection_id", c.id)
            return
        }
        if (b != undefined) {
            b.attr('line/targetMarker/fill', c.read_data ? "#FFF" : arrow_stroke_color);
            b.attr('line/targetMarker/d', c.read_data ? normalizeMarker(romb_path, -5) : normalizeMarker(arrow_path, -3));
            b.attr('text/text', calcConnectionText(c));
            b.attr('.connection/stroke-dasharray', getInterval(c));
            if (a_t != null && a_t == "removeConnection" || a_t == "addConnection") {
                b.prop("connection", c)
                b.prop("connection_id", c.id)
            } else {
                b.prop("connection", c)
                b.prop("connection_id", c.id)
            }
        }
        if (b == undefined) {
            b = findConnectionById(old_id);
            b.attr('line/targetMarker/fill', c.read_data ? "#FFF" : arrow_stroke_color);
            b.attr('line/targetMarker/d', c.read_data ? normalizeMarker(romb_path, -5) : normalizeMarker(arrow_path, -3));
            b.attr('text/text', calcConnectionText(c));
            b.attr('.connection/stroke-dasharray', getInterval(c));
            b.prop("connection", c)
            b.prop("connection_id", c.id)
        }
    }

    //Любое движение мыши по редактору
    $("#paper-html-elements").on("pointermove", function (e) {
        let trigger
        if (globalHalo) {
            trigger = needToFind.id == globalHalo.options.cellView.id
        } else {
            trigger = true
        }
        if (needToFind && trigger) {
            let obj = $("g[model-id='" + needToFind.model.id + "'")[0].getBoundingClientRect()
            let x = obj.x
            let y = obj.y
            let block_x_percent = (e.clientX - x) / (obj.width / 100)
            let block_y_percent = (e.clientY - y) / (obj.height / 100)
            if ((block_x_percent > 0 || block_x_percent < 100) && (block_y_percent > 0 || block_y_percent < 100)) {
                if (block_x_percent > 30 && block_x_percent < 70) {
                    currentHalo = block_y_percent > 50 ? 3 : 1
                } else {
                    currentHalo = block_x_percent < 30 ? 4 : 2
                }
                $(".joint-halo_position_1").removeClass("joint-halo_position_1")
                $(".joint-halo_position_2").removeClass("joint-halo_position_2")
                $(".joint-halo_position_3").removeClass("joint-halo_position_3")
                $(".joint-halo_position_4").removeClass("joint-halo_position_4")
                $(".joint-halo").addClass("joint-halo_position_" + currentHalo)
            }
        }
    })

    //Событие наведения на элемент (может быть и стрелка и блок и шо угодно)
    paper.on('cell:mouseenter', function (cellView, x, y) {
        let cell = cellView.model
        needToFind = cellView
        if (cell instanceof joint.shapes.standard.HeaderedRectangle && cell.attr("body/stroke-width") != "2") {
            let m = cellView.model.prop("message")
            if (!is_message_comment(m)) {
                cell.attr("body/style", "filter: drop-shadow(0px 4px 10px rgba(6, 25, 56, 0.1))")
            }
            if (!globalHalo && !is_message_comment(m)) {
                var halo = new joint.ui.Halo({
                    cellView: cellView
                });
                halo.removeHandle("clone")
                halo.removeHandle("fork")
                halo.removeHandle("unlink")
                halo.removeHandle("remove")
                halo.changeHandle("link", {
                    position: `color_${m.message_type}`,
                    icon: `/assets/rappid/link.svg`,
                    attrs: {
                        '.handle': {
                            'data-tooltip-class-name': 'small',
                            'data-tooltip': 'Нажмите и потяните, чтобы создать стрелку к другому блоку',
                            'data-tooltip-position': 'left'
                        }
                    }
                })
                halo.changeHandle("rotate", {})
                halo.on("action:link:pointerdown", function (e, e1, e2, e3) {
                    haloActionLinkTrigger = true
                    needToFind = false
                })
                halo.on("action:link:pointerup", function (e, x, y) {
                    haloActionLinkTrigger = false
                    var m = cellView.model.prop("message")
                    var b = findBlockByGuid(haloActionLink.attributes.target.id)
                    if (b == undefined) {
                        $.ajax({
                            url: "/projects/569981/messages",
                            type: "POST",
                            data: {
                                message: {
                                    sheet_id: sheet_param,
                                    x: x - 70,
                                    y: y - 25,
                                    condition: "#{none}"
                                }
                            },
                            success: function () {
                                let message = newBlock
                                b = findBlockByMessageId(message.id)
                                createConnection(m.id, message.id, findBlockByMessageId(m.id), b.id)
                                haloActionLink.remove()
                            }
                        })
                        return
                    }
                    var new_m = b.prop("message") ? b.prop("message") : b.prop('inter_message')
                    if (!is_message_comment(new_m)) {
                        haloAjax("link", m.id, null, null, null, haloActionLink.attributes.target.id, haloActionLink.id, new_m.id)
                        haloActionLink.remove()
                    } else {
                        haloActionLink.remove()
                        M.toast({html: 'Нельзя присоединить стрелку к блоку комментария'})
                    }
                })
                halo.render();
            }
        }
    })

    //Событие убирания мыши с элемента (может быть и стрелка и блок и шо угодно)
    paper.on('cell:mouseleave', function (cellView) {
        let cell = cellView.model
        if (cell instanceof joint.shapes.standard.HeaderedRectangle && cell.attr("body/stroke-width") != "2" && !is_message_comment(cellView.model.prop("message"))) {
            cell.attr("body/style", "filter: drop-shadow(0px 2px 5px rgba(6, 25, 56, 0.06))")
        }

    })

    //Наведение мыши на пустоту
    paper.on('blank:mouseover', function () {
        if (!globalHalo) {
            currentHalo = 0
            needToFind = false
            joint.ui.Halo.clear(paper)
        }
    })

    //AJAX перемещения блока
    function moveMessage(cell, x, y, force, e) {
        var m = cell.prop('message')
        if (Math.abs(x - m.x) < grid_size && Math.abs(y - m.y) < grid_size && (!e.ctrlKey || !e.metaKey)) {
            editMessage(cell, true, e.ctrlKey || e.metaKey);
            return;
        }
        if (e.ctrlKey || e.metaKey) {
            cellStrokeSelected(cell)
            multiSelect(cell)
            return
        }
        selectBlock(undefined, true, false, true);
        undo_redo_trigger_false()
        console.log("AJAX 7")
        $.ajax({
            type: "PATCH",
            url: "/projects/569981/messages/" + m.id + '/update_position',
            data: {message: m, x: x, y: y}
        });
    }

    //AJAX изменения блока
    function editMessage(cell, bool = true, e) {
        formTriggerPrewiev(function () {
            var m = cell.prop('message');
            if (bool && !is_message_comment(m)) {
                selectBlock(cell, !e, true, false, e);
            }
            console.log("AJAX 8")
            $.ajax({
                type: "GET",
                url: "/projects/569981/messages/" + m.id + '/edit'
            });
        })
    }

    //AJAX изменения стрелки (или перемещения)
    function changeConnection(c, source_id, target_id, vertices, inter_message_id) {
        if (c.prop('connection_id') == undefined) {
            acyncDrawConnections([{}])
        }
        var v = JSON.stringify(vertices);
        undo_redo_trigger_false()
        mobileConnectionsCss()
        console.log("AJAX 9")
        $.ajax({
            type: "PATCH",
            url: "/projects/569981/message_connections/" + c.prop('connection_id'),
            data: {
                message_connection: {
                    message_a_id: source_id,
                    message_b_id: target_id,
                    vertices: v,
                    sheet_id: sheet_param,
                    inter_message_id: inter_message_id
                }
            },
            success: function () {
                mobileConnectionsCss()
            }
        });
    }

    //Создание новой стрелки, онлайн
    function createConnection(source_id, target_id, sourceView_id, targetView_id, vertices = null) {
        if (source_id == undefined || target_id == undefined) {
            return undefined;
        }
        var link = createArrow(sourceView_id, targetView_id, 0, "", vertices, false);
        graph.addCell(link);
        addTools([link])
        undo_redo_trigger_false()
        console.log("AJAX 10")
        $.ajax({
            type: "POST",
            url: "/projects/569981/message_connections.json",
            data: {
                message_connection: {
                    message_a_id: source_id,
                    message_b_id: target_id,
                    vertices: vertices
                }
            },
            success: function (data) {
                link.prop('connection_id', data['id']);
                link.prop('connection', data);
                undoStuck.push([data, "addConnection"])
                clearRedoStack()
                mobileConnectionsCss()
            }
        });
    }

    //Даблклик по стрелке (убирает точку соединения)
    paper.on('link:pointerdblclick', function (cellView) {
        changeConnection(cellView.model, findBlockByGuid(cellView.model.attributes.source.id).prop('message').id, findBlockByGuid(cellView.model.attributes.target.id).prop('message').id, cellView.model.attributes.vertices)
    })

    //Правая кнопка по стрелке (открывает её редактирования)
    paper.on('link:contextmenu', function (evt, cellView, x, y) {
        optionsLink(evt)
    })

    //Поднятие клавиши на элементе (может быть и блок и стрелки и тд)
    paper.on('cell:pointerup', function (cellView, q1, x, y) {
        console.log("4")
        formTriggerPrewiev(function () {
            if (cellView.model instanceof joint.dia.Link || (groupSelect.length > 0 && (q1.ctrlKey || q1.metaKey))) {
                joint.ui.Halo.clear(paper)
                return
            }
            if (cellView.model instanceof joint.shapes.standard.HeaderedRectangle) {
                haloCreator(cellView)
                let obj = $("g[model-id='" + cellView.model.id + "'")[0].getBoundingClientRect()
                let x = obj.x
                let y = obj.y
                let block_x_percent = (q1.clientX - x) / (obj.width / 100)
                let block_y_percent = (q1.clientY - y) / (obj.height / 100)
                if (block_x_percent > 30 && block_x_percent < 70) {
                    currentHalo = block_y_percent > 50 ? 3 : 1
                } else {
                    currentHalo = block_x_percent < 30 ? 4 : 2
                }
                $(".joint-halo_position_1").removeClass("joint-halo_position_1")
                $(".joint-halo_position_2").removeClass("joint-halo_position_2")
                $(".joint-halo_position_3").removeClass("joint-halo_position_3")
                $(".joint-halo_position_4").removeClass("joint-halo_position_4")
                $(".joint-halo").addClass("joint-halo_position_" + currentHalo)
            }
        })
    });

    //Поднятие клавиши на элементе (может быть и блок и стрелки и тд) (НЕ СОЕДИНЯТЬ С ПРОШЛЫМ СОБЫТИЕМ, чего - не помню, но вроде нельзя)
    paper.on('cell:pointerup', function (cellView, evt, x, y) {
        if (!haloActionLinkTrigger) {
            $(".joint-paper").css("cursor", "grab")
            var c = cellView.model;
            var elementBelow = graph.get('cells').find(function (cell) {
                if (cell instanceof joint.dia.Link) return false;
                if (cell.id === c.id) return false;
                if (cell.getBBox().containsPoint(g.point(x, y))) {
                    return true;
                }
                return false;
            });
            if (c instanceof joint.dia.Link) {
                console.log("cell:pointerup 1")
                if (c.attributes.target.id == undefined || c.attributes.source.id == undefined) {
                    var connection_data = c.prop('connection');
                    c.target(items[connection_data.message_b_id]);
                    c.source(items[connection_data.message_a_id]);
                    M.toast({html: 'Соединение должно быть присоединено к блокам'});
                    return false;
                }
                var s = typeof c.attributes.source.id == "string" ? findBlockByGuid(c.attributes.source.id) : findBlockByGuid(c.attributes.source.id.id);
                var t = typeof c.attributes.target.id == "string" ? findBlockByGuid(c.attributes.target.id) : findBlockByGuid(c.attributes.target.id.id);
                let source_message_id = s.prop("message") ? s.prop("message").id : s.prop("inter_message").id
                let target_message_id = t.prop("message") ? t.prop("message").id : t.prop("inter_message").id
                let inter_block = s.prop("inter_message") || t.prop("inter_message") || null
                if (inter_block) {
                    inter_block = inter_block.id
                }
                if (c.prop("inter_connection_block") && s.id != c.prop("inter_connection_block").id && t.id != c.prop("inter_connection_block").id) {
                    let block = c.prop("inter_connection_block")
                    c.prop("inter_connection_block", false)
                    if (!findConnectionByInterBlock(block.id)) {
                        block.remove()
                    }
                }
                let vertices = null
                if (!c.prop("inter_connection_block")) {
                    vertices = c.attributes.vertices
                }
                changeConnection(c, source_message_id, target_message_id, vertices, inter_block);
            } else if (elementBelow && elementBelow.prop('message') && (is_message_comment(elementBelow.prop('message')) || is_message_comment(c.prop('message')))) {
                console.log("cell:pointerup 2")
                var m = c.prop('message');
                M.toast({html: 'Нельзя присоединить стрелку к блоку комментария'})
                c.translate(m.x - c.attributes.position.x,
                        m.y - c.attributes.position.y);
                return false;
            } else if (elementBelow && elementBelow.prop('message') && c.prop('message')) {
                console.log("cell:pointerup 3")
                var m = c.prop('message');
                var vertices = null;
                if (_.includes(graph.getNeighbors(elementBelow), c)) {
                    M.toast({html: 'Внимание, между двумя блоками несколько соединений'});
                    var _x1 = m.x + w / 2;
                    var _y1 = m.y + h / 2;

                    var _x2 = elementBelow.prop('message').x + w / 2;
                    var _y2 = elementBelow.prop('message').y + h / 2;
                    var _x = (_x1 + _x2) / 2 + getRandomInt(-w / 2, w / 2);
                    var _y = (_y1 + _y2) / 2;
                    vertices = '[{ "x": ' + _x + ', "y": ' + _y + ' }]'
                }
                createConnection(elementBelow.prop('message').id,
                        m.id, elementBelow.id, cellView.model.id, vertices);
                c.translate(m.x - c.attributes.position.x,
                        m.y - c.attributes.position.y);
            } else if (c instanceof joint.shapes.standard.HeaderedRectangle) {
                console.log("cell:pointerup 4")
                if (!evt.ctrlKey) {
                    moveMessage(c, c.attributes.position.x, c.attributes.position.y, false, evt);
                }
            } else if (c instanceof joint.shapes.standard.Rectangle) {
                console.log("cell:pointerup 5")
                if (!evt.ctrlKey) {
                    console.log(c.prop())
                    moveInterMessage(c)
                }
            }
        }
    });

    //Что-то делает с стрелками которые соединяют блоки на разных листах
    function moveInterMessage(c) {
        let inter_c = JSON.stringify(c.prop("inter_connections"))
        let inter_m = c.prop("inter_message")
        console.log(inter_m.id)
        console.log("ajax moveInterMessage")
        $.ajax({
            url: "/projects/569981/inter_sheet_vertices",
            type: "POST",
            data: {
                connections: inter_c,
                x: c.attributes.position.x,
                y: c.attributes.position.y,
                message_id: inter_m.id
            }
        })
    }

    //AJAX удаления блока
    function removeMessage(id) {
        undo_redo_trigger_false()
        console.log("AJAX 6")
        $.ajax({
            type: "DELETE",
            url: "/projects/569981/messages/" + id
        });
    }

    // обновляет undo/redo стак, чтобы внутри были обновленные ID СТРЕЛОК когда undo/redo из меняют по многу раз
    function stucksConnectionIdUpdater(id, old_id) {
        if (undoStuck.length > 0) {
            Array.prototype.forEach.call(undoStuck, function (u) {
                if (typeof u != "number") {
                    if (u[1].endsWith("Connection") && u[0].id == old_id) {
                        u[0].id = id
                    }
                }
            })
        }
        if (redoStuck.length > 0) {
            Array.prototype.forEach.call(redoStuck, function (u) {
                if (typeof u != "number") {
                    if (u[1].endsWith("Connection") && u[0].id == old_id) {
                        u[0].id = id
                    }
                }
            })
        }
    }

    // обновляет undo/redo стак, чтобы внутри были обновленные ID БЛОКОВ когда undo/redo из меняют по многу раз
    function stucksBlockIdUpdater(id, old_id) {
        if (undoStuck.length > 0) {
            Array.prototype.forEach.call(undoStuck, function (u) {
                if (typeof u != "number") {
                    if (u[1].endsWith("Connection") && u[0].message_a_id == old_id) {
                        u[0].message_a_id = id
                    }
                    if (u[1].endsWith("Connection") && u[0].message_b_id == old_id) {
                        u[0].message_b_id = id
                    }
                    if (u[1].endsWith("Block") && u[0].id == old_id) {
                        u[0].id = id
                    }
                }
            })
        }
        if (redoStuck.length > 0) {
            Array.prototype.forEach.call(redoStuck, function (u) {
                if (typeof u != "number") {
                    if (u[1].endsWith("Connection") && u[0].message_a_id == old_id) {
                        u[0].message_a_id = id
                    }
                    if (u[1].endsWith("Connection") && u[0].message_b_id == old_id) {
                        u[0].message_b_id = id
                    }
                    if (u[1].endsWith("Block") && u[0].id == old_id) {
                        u[0].id = id
                    }
                }
            })
        }
    }

    // событие наведение на стрелку
    paper.on('link:mouseenter', function (linkView) {
        if (doCloseToolsId && doCloseToolsId != linkView) {
            doCloseToolsId.removeTools(new joint.dia.ToolsView({
                tools: [
                    new joint.linkTools.Vertices({stopPropagation: false}),
                    new joint.linkTools.Segments({stopPropagation: false}),
                    new joint.linkTools.SettingsButton({stopPropagation: false}),
                    new joint.linkTools.RemoveButton({stopPropagation: false}),
                    new joint.linkTools.SourceArrowhead({stopPropagation: false}),
                    new joint.linkTools.TargetArrowhead({stopPropagation: false})
                ]
            }));
        }
        doCloseToolsId = linkView
        if (!linkView.model.prop("inter_link")) {
            linkView.addTools(new joint.dia.ToolsView({
                name: 'onhover',
                tools: [
                    new joint.linkTools.Vertices({stopPropagation: false}),
                    new joint.linkTools.Segments({stopPropagation: false}),
                    new joint.linkTools.SettingsButton({stopPropagation: false}),
                    new joint.linkTools.RemoveButton({stopPropagation: false}),
                    new joint.linkTools.SourceArrowhead({stopPropagation: false}),
                    new joint.linkTools.TargetArrowhead({stopPropagation: false})
                ]
            }));
        } else {
            linkView.addTools(new joint.dia.ToolsView({
                name: 'onhover',
                tools: [
                    new joint.linkTools.SettingsButton({stopPropagation: false}),
                    new joint.linkTools.RemoveButton({stopPropagation: false}),
                    new joint.linkTools.SourceArrowhead({stopPropagation: false}),
                    new joint.linkTools.TargetArrowhead({stopPropagation: false})
                ]
            }));
        }


        if (linkView.metrics.length < 110) {
            $('g[data-tool-name="info-button"]').each(function (index) {
                $(this).find("path").each(function () {
                    $(this).attr("transform", `translate(${linkView.metrics.length > 70 ? 0 : index ? -44 : 0}, -18)`)
                })
                $(this).find("rect").each(function () {
                    $(this).attr("transform", `translate(${linkView.metrics.length > 70 ? 11 : index ? -33 : 11}, -13)`)
                })
            })
        } else {
            $('g[data-tool-name="info-button"] path').each(function () {
                $(this).attr("transform", "translate(-22,-18)")
            })
        }
    });

    // событие отведения мыши со стрелки
    paper.on('link:mouseleave', function (linkView) {
        doCloseToolsId = false
        setTimeout(function () {
            if (doCloseToolsId != linkView && !mobilecheck()) {
                linkView.removeTools(new joint.dia.ToolsView({
                    tools: [
                        new joint.linkTools.Vertices({stopPropagation: false}),
                        new joint.linkTools.Segments({stopPropagation: false}),
                        new joint.linkTools.SettingsButton({stopPropagation: false}),
                        new joint.linkTools.RemoveButton({stopPropagation: false}),
                        new joint.linkTools.SourceArrowhead({stopPropagation: false}),
                        new joint.linkTools.TargetArrowhead({stopPropagation: false})
                    ]
                }));
            }
        }, 300)
    });

    // события кликов по иконкам стрелки
    paper.on({
        'link:source:click': function (linkView) {
            linkView.model.attr({
                sourceReferenceBody: {fill: 'white'},
                targetReferenceBody: {fill: '#fe854f'}
            });
        },
        'link:target:click': function (linkView) {
            linkView.model.attr({
                sourceReferenceBody: {fill: '#fe854f'},
                targetReferenceBody: {fill: 'white'}
            });
        }
    });

    // Добавление стрелки (онлайн)
    function addConnection(c) {
        let isNotInterMessage = items[c.message_a_id] && items[c.message_b_id]
        var link = createArrow(
                findBlockByMessageId(c.message_a_id) ? findBlockByMessageId(c.message_a_id).id : findBlockByInterMessageId(c.message_a_id).id,
                findBlockByMessageId(c.message_b_id) ? findBlockByMessageId(c.message_b_id).id : findBlockByInterMessageId(c.message_b_id).id,
                getInterval(c),
                calcConnectionText(c),
                isNotInterMessage ? c.vertices : null,
                c.read_data)
        link.prop('connection_id', c.id);
        link.prop('connection', c);
        graph.addCell(link)
        addTools([link])
    }

    // ИЗменение блока (онлайн, это калбек)
    function changeBlock(m, bool = false) {
        var text = calcText(m);
        var b = findBlockByMessageId(m.id);
        var g_el = $(`g[model-id=${b.id}]`)
        g_el.find("svg").remove()
        b.attr('bodyText/text-anchor', !is_message_comment(m) ? "middle" : "start")
        b.attr('bodyText/text', text);
        b.attr('bodyText/fill', textColor(m));
        b.attr('body/strokeWidth', !is_message_comment(m) ? 1 : 0);
        b.attr('body/opacity', !is_message_comment(m) ? 1 : 0);
        b.attr('body/fill', getColorForType(m.message_type));
        if (!is_message_comment(m)) {
            appendAttachArray(b, m)
            afterBlockLoad()
            g_el.find("text[joint-selector=bodyText]").attr("transform", "matrix(1,0,0,1,70,27)")
        } else {
            g_el.find("text[joint-selector=bodyText]").attr("transform", "matrix(1,0,0,1,0,27)")
        }
        if (bool) {
            b.prop("message", m)
        }
    }
} else { //================================================================================================================================================
    paper.on("blank:pointerdown", function(evt){
        paperScroller.startPanning(evt)
    })
}


//Тут все и происходит, тут начинается полная инициация
$(document).ready(function () {
    get_bench_time("ready начало")
    acyncDrawBlocks(messages);
    get_bench_time("ready acyncDrawBlocks")
    acyncDrawConnections(connections);
    navigatorMinimap.$el.appendTo('#navigator');
    navigatorMinimap.render();
    getMap()
    buttonsCss()

    //Это проверка на наличие инфы про зум в куках, елси етсь, то отрисовываем старый, если нет, то ставим ноль
    if (get_cookie("zoom_info_") != undefined) {
        paperScroller.zoom(parseFloat(get_cookie("zoom_info_")))
        setZoomInfo()
    } else {
        set_cookie("zoom_info_", 0)
        paperScroller.zoom(0)
        setZoomInfo()
    }
    //Это проверка на наличие инфы про позиции в куках, елси етсь, то отрисовываем старый, если нет, то ставим по центру
    if (get_cookie("paper_scroller_x_") != undefined && get_cookie("paper_scroller_y_") != undefined) {
        paperScroller.scroll(parseFloat(get_cookie("paper_scroller_x_")), parseFloat(get_cookie("paper_scroller_y_")))
    } else {
        get_center()
        var info = paperScroller.getVisibleArea();
        setZoomInfo()
        set_cookie('zoom_info_', (paperScroller.zoom() - 1), 0, 1, 0);
        set_cookie("paper_scroller_x_", parseFloat((info.x + info.width / 2)) * (parseFloat(get_cookie("zoom_info_")) + 1), 0, 1, 0);
        set_cookie("paper_scroller_y_", parseFloat((info.y + info.height / 2)) * (parseFloat(get_cookie("zoom_info_")) + 1), 0, 1, 0);
        paperScroller.center()
    }
    //Если проект новый - показываем попап с приветстивем
    if (false) {
        var link = location.href.split("?")[0]
        window.history.pushState({path: link}, '', link)
        paperScroller.center()
        var text =  "<div style='color: #111827; display: flex'>" +
                        "<svg width=\"40\" height=\"40\" viewBox=\"0 0 40 40\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">" +
                            "<circle cx=\"20\" cy=\"20\" r=\"20\" fill=\"#1A53C6\"/>" +
                            "<path d=\"M17.5113 18.2889C17.1186 18.2889 16.8002 18.6073 16.8002 19.0001V21.1334C16.8002 21.5261 17.1186 21.8445 17.5113 21.8445C17.9041 21.8445 18.2224 21.5261 18.2224 21.1334V19.0001C18.2224 18.6073 17.9041 18.2889 17.5113 18.2889Z\" fill=\"white\"/>" +
                            "<path d=\"M21.778 19.0001C21.778 18.6073 22.0964 18.2889 22.4891 18.2889C22.8818 18.2889 23.2002 18.6073 23.2002 19.0001V21.1334C23.2002 21.5261 22.8818 21.8445 22.4891 21.8445C22.0964 21.8445 21.778 21.5261 21.778 21.1334V19.0001Z\" fill=\"white\"/>" +
                            "<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M20.0616 12.3575C20.043 12.2089 20.123 12.0682 20.2403 11.9751C20.5273 11.7471 20.7113 11.3951 20.7113 11.0001C20.7113 10.3128 20.1542 9.75562 19.4669 9.75562C18.7796 9.75562 18.2224 10.3128 18.2224 11.0001C18.2224 11.5435 18.5708 12.0056 19.0564 12.1752C19.2119 12.2295 19.3443 12.3524 19.3647 12.5158L19.5475 13.9782C19.574 14.1904 19.4085 14.3778 19.1947 14.3778H18.9336C14.4914 14.3778 11.1113 18.0379 11.1113 21.6756V23.0356C11.1113 27.679 16.3289 28.6001 20.0002 28.6001C23.6715 28.6001 28.8891 27.679 28.8891 23.0356V21.6756C28.8891 18.0379 25.509 14.3778 21.0669 14.3778H20.628C20.4487 14.3778 20.2974 14.2443 20.2752 14.0664L20.0616 12.3575ZM13.2447 20.5467C13.2447 18.1216 16.354 15.8001 19.1896 15.8001H20.8109C23.6464 15.8001 26.7558 18.1216 26.7558 20.5467V21.4534C26.7558 24.6419 22.4079 25.0445 20.0002 25.0445C17.5925 25.0445 13.2447 24.6419 13.2447 21.4534V20.5467Z\" fill=\"white\"/>" +
                        "</svg>" +
                        "<div style='margin-left: 16px'>" +
                            "<div style='font-weight: 700; color: black; margin-bottom: 4px'>Добро пожаловать в Salebot</div>" +
                            "<div>Мы рады предоставить Вам самый мощный функционал среди конструкторов чат-ботов!</div>" +
                        "</div>" +
                    "</div>" +
                    "<div style='width: 100%; height: 2px; background: #e0e1e3; margin: 16px 0;'/>" +
                    "<div style='color: #111827; margin-bottom: 16px;'>Для самостоятельного изучения вы можете: Найти ответ в подробных видеоинструкциях и статьях <a href='https://docs.salebot.pro/nashi-uslugi/obuchenie' target='_blank'>здесь</a></div>" +
                    "<div style='color: #111827; margin-bottom: 16px;'>Обратиться с любым вопросом в <a href='https://vk.me/join/AJQ1d9uxRBYp6nlvPOK3jKqU' target='_blank'>VK</a> чат или <a href='https://t.me/joinchat/8bP3S1MEkz03ZTVi' target='_blank'>Telegram</a> чат коллег-разработчиков круглосуточно!</div>" +
                    "<div style='color: #111827; margin-bottom: 16px;'>Также ускорить изучение можете, пройдя полный <a href='https://docs.salebot.pro/nashi-uslugi/obuchenie' target='_blank'>ОБУЧАЮЩИЙ КУРС</a> по Salebot</div>" +
                    "<div style='color: #111827; margin-bottom: 16px;'>Или, ЗАКАЗАТЬ разработку под ключ, если Вам нужен готовый бот</div>" +
                    "<div style='color: #111827'>Справа внизу экрана, всегда Ваша - Служба Заботы Salebot</div>"
        let has_state = localStorage.getItem('close_onboarding_welcome')
        if(has_state){
            dialogContext({
                message: text,
                is_question: false
            })
        } else {
            dialogContext({
                message: text,
                yes_button: "Пройти обучение",
                no_button: "Перейти к проекту",
                yes_button_class: "new_button",
                func_action: function () {
                    let url = location.href + "?script_name=welcome&script_step=0"
                    window.history.pushState({path: url}, '', url);
                    onboarding("welcome", "0")
                }
            })
        }
    }
    //Для телефоном, чтобы с картой все ок было
    $(".joint-navigator").on("touchmove", function (e) {
        e.preventDefault()
    })
    mobileConnectionsCss()
    removeEditorMobile()
    paperCss()
    document.body.classList.remove('loaded_hiding');
    document.body.classList.add('loaded');

    //Проверка на наличие в localStorage блков из другого ЛИСТА
    if (localStorage.getItem("salebot_inter_sheet_copy")) {
        groupSelect = JSON.parse(localStorage.getItem("salebot_inter_sheet_copy"))
        copyTrigger = true
        $(".joint-paper").css("cursor", "crosshair")
        new joint.ui.FlashMessage({
            title: 'Внимание !',
            type: 'info',
            content: "Нажмите, чтобы вставить блоки из другого листа.</br>ESC, чтобы отменить.",
            closeAnimation: {delay: 10000}
        }).open();
    }
    let inter_project_copy = localStorage.getItem("salebot_interproject_copy")
    //Проверка на наличие в localStorage блков из другого ПРОЕКТА
    if (inter_project_copy != null) {
        let interProjectGroupSelect = JSON.parse(inter_project_copy)
        if (interProjectGroupSelect[0].project_id.toLocaleString() != "569981") {
            dialogContext({
                message: "У вас имеются скопированные блоки из другого проекта. Хотите их вставить ?",
                func_action:copyFromLocalStorage,
                yes_button: "Да",
                no_button:"Нет",
                close_func:function(){
                    localStorage.removeItem("salebot_interproject_copy")
                }
            })
        }
    }
    //Запоминает лист последний
    if (false) {
        localStorage.setItem(`sheet_project_569981`, "")
    } else {
        localStorage.removeItem(`sheet_project_569981`)
    }
    let local_sheet = localStorage.getItem(`sheet_project_569981`)
    $(".messages_link_link").attr("href",$(".messages_link_link").attr("href").split("?")[0] + (local_sheet ? "?sheet_id=" + local_sheet : ""))
    $("#paper_visible").css("opacity", 1)
    if(!can_access_edit()){
        paper.freeze()
    }
    setTimeout(function () {
        $('#salebot_social_contacts_container').remove()
    }, 1000);
});

$(function () {
    let paramsString = document.location.search;
    let searchParams = new URLSearchParams(paramsString)
    let id = searchParams.get("id_val") ? searchParams.get("id_val") : null;
    if (id) {
        let el = findBlockByMessageId(id);
        if (el !== undefined) {
            paperScroller.scrollToElement(el)
            if (can_access_edit()) {
                haloCreator(paper.findViewByModel(el))
                editMessage(el)
            }
        }
    }
    $("#workflow").prepend('<div class="load_screen_page"><div class="windows8"><div class="wBall" id="wBall_1"><div class="wInnerBall"></div></div><div class="wBall" id="wBall_2"><div class="wInnerBall"></div></div><div class="wBall" id="wBall_3"><div class="wInnerBall"></div></div><div class="wBall" id="wBall_4"><div class="wInnerBall"></div></div><div class="wBall" id="wBall_5"><div class="wInnerBall"></div></div></div><div class="preloader_text"></div></div>')
    clearEditor(4)


    setTimeout( function (){
        $('.load_screen_page').remove()
    }, 1000)
});</script></div><div class="hidden" id="new_notification"><div class="new_notification_container"><p><span class="new_notification_text">Подпишитесь на нашего новостного бота, чтобы всегда быть в курсе событий! </span><a target="_blank" href="https://t.me/salebot_info_bot">Подписаться</a></p><div class="new_notification_close">+</div><script>if (!localStorage.getItem("salebot_new_notification") || localStorage.getItem("salebot_new_notification") != $(".new_notification_text").text().substring(0, 100)) {
    localStorage.setItem("salebot_new_notification", $(".new_notification_text").text().substring(0, 100))
    $("#new_notification").removeClass('hidden')
}
$('.new_notification_close').on('click', function () {
    $("#new_notification").addClass('hidden')
})</script></div></div><div class="hidden" id="vip_support"><div class="popup-background-full"></div><div class="round-16 font-color-white promo-banner-abs-center sb-background-white promo_1_desktop" style="width: 716px;height: 500px;"><div class="display-flex"><div class="sb-background-brand-600 round-16" style="width: 462px;border-bottom-right-radius: 0px!important; border-bottom-left-radius: 0px!important;"><div class="promo-header-left display-flex flex-ai-center flex-jc-space-between sb-background-brand-600 p-24" style="width: 462px"><div class="promo-logo-block" style="width: 80px;"><div class="svg-height-24"><svg width="51" height="17" viewBox="0 0 51 17" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M0.345333 9.93586C0.262246 9.82305 0.220703 9.68203 0.220703 9.51281C0.220703 9.26838 0.340717 9.06155 0.580745 8.89239C0.709992 8.80778 0.843852 8.76544 0.982332 8.76544C1.1762 8.76544 1.36084 8.85479 1.53624 9.03335C1.8132 9.32478 2.09939 9.54101 2.3948 9.68203C2.69945 9.82305 3.06411 9.89353 3.48877 9.89353C4.20886 9.86532 4.5689 9.58802 4.5689 9.06155C4.5689 8.78898 4.44427 8.58215 4.19501 8.44113C3.95499 8.30011 3.57648 8.1591 3.05949 8.01808C2.52405 7.86766 2.08554 7.7173 1.74396 7.56688C1.41161 7.41646 1.12081 7.19083 0.871545 6.89C0.63152 6.57979 0.511506 6.16616 0.511506 5.64913C0.511506 5.19789 0.636134 4.80776 0.885395 4.47874C1.14389 4.14031 1.47623 3.8818 1.88243 3.70318C2.29787 3.51517 2.73638 3.42117 3.19797 3.42117C3.6688 3.42117 4.13962 3.51047 4.61045 3.68909C5.08127 3.8677 5.45054 4.13091 5.71827 4.47874C5.83828 4.62915 5.89829 4.79836 5.89829 4.98638C5.89829 5.2026 5.81058 5.38121 5.63518 5.52222C5.50593 5.62562 5.35822 5.67733 5.19205 5.67733C4.98895 5.67733 4.82278 5.61152 4.69353 5.47991C4.52736 5.2731 4.31041 5.10859 4.04269 4.98638C3.78419 4.86417 3.48877 4.80306 3.15643 4.80306C2.45481 4.80306 2.104 5.06158 2.104 5.57862C2.104 5.78544 2.16862 5.95465 2.29787 6.08626C2.42711 6.20847 2.58867 6.30718 2.78254 6.38238C2.98564 6.44818 3.26721 6.53279 3.62725 6.6362C4.12578 6.77718 4.5412 6.92293 4.87355 7.07335C5.2059 7.22377 5.48747 7.45407 5.71827 7.76431C5.94906 8.07449 6.06446 8.48341 6.06446 8.99107C6.06446 9.45173 5.9306 9.85592 5.66287 10.2038C5.39515 10.5422 5.04895 10.8007 4.62429 10.9793C4.20886 11.1579 3.77958 11.2472 3.33645 11.2472C2.72715 11.2472 2.15939 11.1438 1.63317 10.937C1.10696 10.7302 0.677678 10.3965 0.345333 9.93586Z" fill="white"/>
<path d="M13.8353 3.42117C14.0754 3.42117 14.2739 3.50107 14.4308 3.66088C14.5877 3.82069 14.6662 4.02751 14.6662 4.28133V10.246C14.6662 10.4905 14.5877 10.6973 14.4308 10.8665C14.2739 11.0263 14.0754 11.1062 13.8353 11.1062C13.5953 11.1062 13.3969 11.0263 13.2399 10.8665C13.0922 10.7067 13.0137 10.5046 13.0045 10.2602C12.7737 10.5328 12.4598 10.7678 12.0628 10.9652C11.6751 11.1532 11.2643 11.2472 10.8304 11.2472C10.1934 11.2472 9.6164 11.0827 9.09939 10.7537C8.58245 10.4153 8.17162 9.94993 7.86698 9.35772C7.57154 8.76544 7.42383 8.09329 7.42383 7.34125C7.42383 6.58919 7.57154 5.91704 7.86698 5.32481C8.16234 4.72316 8.56395 4.25782 9.07168 3.9288C9.58869 3.59037 10.1564 3.42117 10.775 3.42117C11.2181 3.42117 11.6335 3.50577 12.0213 3.67499C12.409 3.83479 12.7367 4.04161 13.0045 4.29543V4.28133C13.0045 4.03691 13.0829 3.83479 13.2399 3.67499C13.3969 3.50577 13.5953 3.42117 13.8353 3.42117ZM11.0381 9.6961C11.6381 9.6961 12.1274 9.4752 12.5059 9.03335C12.8845 8.58215 13.0737 8.01808 13.0737 7.34125C13.0737 6.6644 12.8845 6.10036 12.5059 5.64913C12.1274 5.19789 11.6381 4.97228 11.0381 4.97228C10.4473 4.97228 9.96258 5.19789 9.58408 5.64913C9.20557 6.10036 9.01632 6.6644 9.01632 7.34125C9.01632 8.01808 9.20096 8.58215 9.57025 9.03335C9.94876 9.4752 10.4381 9.6961 11.0381 9.6961Z" fill="white"/>
<path d="M18.5446 10.2461C18.5446 10.4905 18.4615 10.6973 18.2953 10.8665C18.1383 11.0264 17.9399 11.1062 17.6999 11.1062C17.4691 11.1062 17.2752 11.0264 17.1182 10.8665C16.9613 10.6973 16.8828 10.4905 16.8828 10.2461V1.53164C16.8828 1.28722 16.9613 1.08511 17.1182 0.925296C17.2844 0.756084 17.4875 0.671478 17.7276 0.671478C17.9584 0.671478 18.1522 0.756084 18.3092 0.925296C18.4661 1.08511 18.5446 1.28722 18.5446 1.53164V10.2461Z" fill="white"/>
<path d="M27.2655 7.15796C27.2562 7.38353 27.1686 7.56688 27.0024 7.7079C26.8362 7.84886 26.6423 7.9194 26.4208 7.9194H21.851C21.9618 8.47401 22.2157 8.91119 22.6127 9.23077C23.0096 9.54101 23.4574 9.6961 23.9559 9.6961C24.3344 9.6961 24.6298 9.66323 24.8422 9.59742C25.0545 9.52221 25.2207 9.447 25.3407 9.37179C25.4699 9.28718 25.5576 9.23077 25.6038 9.20257C25.7699 9.11796 25.9269 9.07568 26.0746 9.07568C26.2684 9.07568 26.4347 9.14616 26.5731 9.28718C26.7116 9.4282 26.7808 9.59269 26.7808 9.78071C26.7808 10.0345 26.6516 10.2648 26.3931 10.4717C26.1346 10.6879 25.7884 10.8712 25.3545 11.0216C24.9206 11.172 24.4821 11.2472 24.0389 11.2472C23.2635 11.2472 22.5849 11.0827 22.0034 10.7537C21.431 10.4247 20.9878 9.97347 20.674 9.39999C20.3601 8.81718 20.2031 8.16383 20.2031 7.43993C20.2031 6.6315 20.3693 5.92174 20.7016 5.3107C21.034 4.69966 21.4725 4.23433 22.0172 3.9147C22.5618 3.58567 23.1435 3.42117 23.762 3.42117C24.3713 3.42117 24.9437 3.59037 25.4792 3.9288C26.0238 4.26722 26.4577 4.72316 26.7808 5.2966C27.1039 5.87004 27.2655 6.49049 27.2655 7.15796ZM23.762 4.97228C22.6911 4.97228 22.0587 5.48461 21.8649 6.50929H25.493V6.41058C25.4561 6.01575 25.2668 5.67733 24.9252 5.39531C24.5837 5.11329 24.1959 4.97228 23.762 4.97228Z" fill="white"/>
<path d="M32.7655 3.42118C33.4025 3.42118 33.9795 3.59039 34.4965 3.92881C35.0135 4.25784 35.4197 4.71847 35.7151 5.31071C36.0197 5.90295 36.1721 6.5751 36.1721 7.32713C36.1721 8.07923 36.0243 8.75605 35.729 9.35773C35.4335 9.94994 35.0273 10.4153 34.5104 10.7537C34.0026 11.0828 33.4394 11.2473 32.8209 11.2473C32.3778 11.2473 31.9577 11.1579 31.5608 10.9793C31.173 10.7913 30.8499 10.5657 30.5914 10.3025V10.3871C30.5914 10.6315 30.513 10.8383 30.356 11.0076C30.1991 11.1673 30.0006 11.2473 29.7606 11.2473C29.5206 11.2473 29.3221 11.1673 29.1651 11.0076C29.0082 10.8477 28.9297 10.6409 28.9297 10.3871V1.53164C28.9297 1.28722 29.0082 1.08511 29.1651 0.925296C29.3221 0.756084 29.5206 0.671478 29.7606 0.671478C30.0006 0.671478 30.1991 0.756084 30.356 0.925296C30.513 1.08511 30.5914 1.28722 30.5914 1.53164V4.47875C30.813 4.19673 31.1223 3.95231 31.5192 3.7455C31.9162 3.52929 32.3316 3.42118 32.7655 3.42118ZM32.5578 9.69611C33.1487 9.69611 33.6333 9.47048 34.0118 9.01929C34.3903 8.56803 34.5796 8.00402 34.5796 7.32713C34.5796 6.65031 34.3903 6.09097 34.0118 5.64914C33.6426 5.19791 33.1579 4.97229 32.5578 4.97229C31.9577 4.97229 31.4684 5.19791 31.0899 5.64914C30.7114 6.09097 30.5222 6.65031 30.5222 7.32713C30.5222 8.00402 30.7114 8.56803 31.0899 9.01929C31.4684 9.47048 31.9577 9.69611 32.5578 9.69611Z" fill="white"/>
<path d="M44.9512 7.34125C44.9512 8.09329 44.7849 8.77017 44.4526 9.37179C44.1203 9.96407 43.6633 10.4247 43.0817 10.7537C42.5093 11.0827 41.877 11.2472 41.1845 11.2472C40.4829 11.2472 39.8459 11.0827 39.2736 10.7537C38.7012 10.4247 38.2488 9.96407 37.9165 9.37179C37.5841 8.77017 37.418 8.09329 37.418 7.34125C37.418 6.58919 37.5841 5.91704 37.9165 5.32481C38.2488 4.72316 38.7012 4.25782 39.2736 3.9288C39.8459 3.59037 40.4829 3.42117 41.1845 3.42117C41.877 3.42117 42.5093 3.59037 43.0817 3.9288C43.6633 4.25782 44.1203 4.72316 44.4526 5.32481C44.7849 5.91704 44.9512 6.58919 44.9512 7.34125ZM43.2894 7.34125C43.2894 6.88059 43.1925 6.47168 42.9986 6.11446C42.814 5.74783 42.5601 5.46581 42.237 5.2684C41.9231 5.07098 41.5723 4.97228 41.1845 4.97228C40.7968 4.97228 40.4414 5.07098 40.1183 5.2684C39.8044 5.46581 39.5505 5.74783 39.3566 6.11446C39.172 6.47168 39.0797 6.88059 39.0797 7.34125C39.0797 7.80191 39.172 8.21083 39.3566 8.56802C39.5505 8.92526 39.8044 9.20257 40.1183 9.39999C40.4414 9.59742 40.7968 9.6961 41.1845 9.6961C41.5723 9.6961 41.9231 9.59742 42.237 9.39999C42.5601 9.20257 42.814 8.92526 42.9986 8.56802C43.1925 8.21083 43.2894 7.80191 43.2894 7.34125Z" fill="white"/>
<path d="M50.189 9.51281C50.3182 9.51281 50.4336 9.57862 50.5352 9.71024C50.6459 9.83245 50.7014 9.99694 50.7014 10.2038C50.7014 10.4576 50.5629 10.6738 50.2859 10.8524C50.0182 11.0216 49.7135 11.1062 49.3719 11.1062C48.7996 11.1062 48.3149 10.984 47.9179 10.7396C47.5302 10.4858 47.3363 9.95467 47.3363 9.14616V5.2543H46.6993C46.4778 5.2543 46.2931 5.1791 46.1454 5.02868C45.9977 4.87828 45.9238 4.69026 45.9238 4.46464C45.9238 4.24843 45.9977 4.06982 46.1454 3.9288C46.2931 3.7784 46.4778 3.70319 46.6993 3.70319H47.3363V2.80072C47.3363 2.55631 47.4148 2.35419 47.5717 2.19438C47.7379 2.02517 47.941 1.94056 48.181 1.94056C48.4118 1.94056 48.6057 2.02517 48.7626 2.19438C48.9196 2.35419 48.9981 2.55631 48.9981 2.80072V3.70319H49.9813C50.2028 3.70319 50.3874 3.7784 50.5352 3.9288C50.6829 4.07922 50.7567 4.26723 50.7567 4.49284C50.7567 4.70906 50.6829 4.89238 50.5352 5.04278C50.3874 5.1838 50.2028 5.2543 49.9813 5.2543H48.9981V9.07569C48.9981 9.27311 49.0488 9.4188 49.1504 9.51281C49.2519 9.59742 49.3904 9.6397 49.5658 9.6397C49.6397 9.6397 49.7412 9.62089 49.8705 9.58329C49.9813 9.53628 50.0874 9.51281 50.189 9.51281Z" fill="white"/>
<path d="M44.9836 13.3445C45.7479 13.3445 46.3675 13.9754 46.3675 14.7537C46.3675 15.5321 45.7479 16.163 44.9836 16.163C44.2192 16.163 43.5996 15.5321 43.5996 14.7537C43.5996 13.9754 44.2192 13.3445 44.9836 13.3445Z" fill="#FDB954"/>
<path d="M41.1164 13.3445C41.8807 13.3445 42.5003 13.9754 42.5003 14.7537C42.5003 15.5321 41.8807 16.163 41.1164 16.163C40.352 16.163 39.7324 15.5321 39.7324 14.7537C39.7324 13.9754 40.352 13.3445 41.1164 13.3445Z" fill="#FDC571"/>
<path d="M37.0344 13.3445C37.7987 13.3445 38.4183 13.9754 38.4183 14.7537C38.4183 15.5321 37.7987 16.163 37.0344 16.163C36.27 16.163 35.6504 15.5321 35.6504 14.7537C35.6504 13.9754 36.27 13.3445 37.0344 13.3445Z" fill="#FED08C"/>
</svg>
</div></div><div class="pl-12 pr-12 pt-4 pb-4 border-w-1 border-white round-24 font-w-600"><span class="font-10">ЭКСКЛЮЗИВНОЕ ПРЕДЛОЖЕНИЕ</span></div></div><div class="promo-body sb-background-brand-600 pl-24" style="padding-top: 8px"><div class="pb-16"><span class="font-44 font-w-700" style="color: #FDB954;">VIP</span><span class="font-44 font-w-700">-САППОРТ</span></div><div style="margin-bottom: 30px;"><div class="display-flex flex-ai-center gap-12"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect y="0.224121" width="13.552" height="13.552" rx="3.388" fill="#1A53C6"/>
<g clip-path="url(#clip0_1_1534)">
<path fill-rule="evenodd" clip-rule="evenodd" d="M10.4453 5.248L5.89969 9.79357L3.38776 7.27293L4.34768 6.31632L5.90135 7.87537L9.48698 4.28973L10.4453 5.248Z" fill="white"/>
</g>
<defs>
<clipPath id="clip0_1_1534">
<rect width="8.1312" height="8.1312" fill="white" transform="translate(2.71014 2.93475)"/>
</clipPath>
</defs>
</svg>
<span class="font-14 font-w-500">Ваш личный обученный менеджер от Salebot</span></div><div class="display-flex flex-ai-center gap-12 mt-15"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect y="0.224121" width="13.552" height="13.552" rx="3.388" fill="#1A53C6"/>
<g clip-path="url(#clip0_1_1534)">
<path fill-rule="evenodd" clip-rule="evenodd" d="M10.4453 5.248L5.89969 9.79357L3.38776 7.27293L4.34768 6.31632L5.90135 7.87537L9.48698 4.28973L10.4453 5.248Z" fill="white"/>
</g>
<defs>
<clipPath id="clip0_1_1534">
<rect width="8.1312" height="8.1312" fill="white" transform="translate(2.71014 2.93475)"/>
</clipPath>
</defs>
</svg>
<div class="font-14 font-w-500"><p>Поможем в проектировании воронок, сайта, </p><p class="margin-top: -5px">настройки CRM и других полезных решений Salebot</p></div></div><div class="display-flex flex-ai-center gap-12 mt-15"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect y="0.224121" width="13.552" height="13.552" rx="3.388" fill="#1A53C6"/>
<g clip-path="url(#clip0_1_1534)">
<path fill-rule="evenodd" clip-rule="evenodd" d="M10.4453 5.248L5.89969 9.79357L3.38776 7.27293L4.34768 6.31632L5.90135 7.87537L9.48698 4.28973L10.4453 5.248Z" fill="white"/>
</g>
<defs>
<clipPath id="clip0_1_1534">
<rect width="8.1312" height="8.1312" fill="white" transform="translate(2.71014 2.93475)"/>
</clipPath>
</defs>
</svg>
<span class="font-14 font-w-500">Оперативное внесение правок и доработок</span></div></div></div></div><div class="w-100"><div class="promo-header-right sb-background-white display-flex flex-ai-center flex-jc-space-between w-100 pt-24" style="flex-direction: row-reverse; height: fit-content; border-top-right-radius: 16px;"><div class="svg-light-blue pr-24 cursor-pointer svg-28 close_vip_banner--js"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M7.30298 7.30292C7.59588 7.01003 8.07075 7.01003 8.36364 7.30292L12 10.9393L15.6363 7.30292C15.9292 7.01003 16.4041 7.01003 16.697 7.30292C16.9899 7.59582 16.9899 8.07069 16.697 8.36358L13.0606 11.9999L16.697 15.6363C16.9899 15.9291 16.9899 16.404 16.697 16.6969C16.4041 16.9898 15.9292 16.9898 15.6363 16.6969L12 13.0606L8.36364 16.6969C8.07075 16.9898 7.59588 16.9898 7.30298 16.6969C7.01009 16.404 7.01009 15.9291 7.30298 15.6363L10.9393 11.9999L7.30298 8.36358C7.01009 8.07069 7.01009 7.59582 7.30298 7.30292Z" fill="currentColor"/>
</svg>
</div></div><div style="float: right; padding-right: 35px; text-align: center; padding-top: 41px;"><p class="font-10 font-w-700" style="color: #9FC0FB;">СТОИМОСТЬ СЕРВИСА В МЕСЯЦ</p><p class="font-38 font-w-700" style="color: #9FC0FB;margin-top: -6px;">25 000₽</p></div></div></div><img alt="Логотип" class="promo_img_1" src="/assets/promo/promo_1-db3a8d19762b934d35147a7ab2e1002a594ca84f4efa27271a455956f29453e2.png" /><div class="promo-footer pl-24 pt-30"><div class="font-25 font-w-700 pb-12" style="color: #00339A;"><p>Для приобретения</p><p style="margin-top: -5px;">обратитесь в поддержку</p></div><div class="display-flex flex-ai-center"><a target="_blank" rel="noopener noreferrer" style="color: white;" href="https://t.me/vip_support_salebot_bot"><div class="sb-background-brand-600 round-8 display-flex flex-ai-center flex-jc-center cursor-pointer" style="width: 200px; height: 52px;"><span class="font-16 font-w-700">Приобрести</span></div></a><div class="font-16 font-w-700 pl-22"><a target="_blank" style="color: #00339A; text-decoration: underline;" href="/offer_vip_support.pdf">Условия оферты</a></div></div></div></div><div class="round-16 font-color-white promo-banner-abs-center sb-background-brand-600 promo_1_mobile" style="width: 320px;height: 420px;"><div class="display-flex"><div class="round-16 w-100" style="border-bottom-right-radius: 0px!important; border-bottom-left-radius: 0px!important;"><div class="promo-header-left display-flex flex-ai-center flex-jc-space-between p-20"><div class="promo-logo-block"><div class="display-flex"><svg width="51" height="17" viewBox="0 0 51 17" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M0.345333 9.93586C0.262246 9.82305 0.220703 9.68203 0.220703 9.51281C0.220703 9.26838 0.340717 9.06155 0.580745 8.89239C0.709992 8.80778 0.843852 8.76544 0.982332 8.76544C1.1762 8.76544 1.36084 8.85479 1.53624 9.03335C1.8132 9.32478 2.09939 9.54101 2.3948 9.68203C2.69945 9.82305 3.06411 9.89353 3.48877 9.89353C4.20886 9.86532 4.5689 9.58802 4.5689 9.06155C4.5689 8.78898 4.44427 8.58215 4.19501 8.44113C3.95499 8.30011 3.57648 8.1591 3.05949 8.01808C2.52405 7.86766 2.08554 7.7173 1.74396 7.56688C1.41161 7.41646 1.12081 7.19083 0.871545 6.89C0.63152 6.57979 0.511506 6.16616 0.511506 5.64913C0.511506 5.19789 0.636134 4.80776 0.885395 4.47874C1.14389 4.14031 1.47623 3.8818 1.88243 3.70318C2.29787 3.51517 2.73638 3.42117 3.19797 3.42117C3.6688 3.42117 4.13962 3.51047 4.61045 3.68909C5.08127 3.8677 5.45054 4.13091 5.71827 4.47874C5.83828 4.62915 5.89829 4.79836 5.89829 4.98638C5.89829 5.2026 5.81058 5.38121 5.63518 5.52222C5.50593 5.62562 5.35822 5.67733 5.19205 5.67733C4.98895 5.67733 4.82278 5.61152 4.69353 5.47991C4.52736 5.2731 4.31041 5.10859 4.04269 4.98638C3.78419 4.86417 3.48877 4.80306 3.15643 4.80306C2.45481 4.80306 2.104 5.06158 2.104 5.57862C2.104 5.78544 2.16862 5.95465 2.29787 6.08626C2.42711 6.20847 2.58867 6.30718 2.78254 6.38238C2.98564 6.44818 3.26721 6.53279 3.62725 6.6362C4.12578 6.77718 4.5412 6.92293 4.87355 7.07335C5.2059 7.22377 5.48747 7.45407 5.71827 7.76431C5.94906 8.07449 6.06446 8.48341 6.06446 8.99107C6.06446 9.45173 5.9306 9.85592 5.66287 10.2038C5.39515 10.5422 5.04895 10.8007 4.62429 10.9793C4.20886 11.1579 3.77958 11.2472 3.33645 11.2472C2.72715 11.2472 2.15939 11.1438 1.63317 10.937C1.10696 10.7302 0.677678 10.3965 0.345333 9.93586Z" fill="white"/>
<path d="M13.8353 3.42117C14.0754 3.42117 14.2739 3.50107 14.4308 3.66088C14.5877 3.82069 14.6662 4.02751 14.6662 4.28133V10.246C14.6662 10.4905 14.5877 10.6973 14.4308 10.8665C14.2739 11.0263 14.0754 11.1062 13.8353 11.1062C13.5953 11.1062 13.3969 11.0263 13.2399 10.8665C13.0922 10.7067 13.0137 10.5046 13.0045 10.2602C12.7737 10.5328 12.4598 10.7678 12.0628 10.9652C11.6751 11.1532 11.2643 11.2472 10.8304 11.2472C10.1934 11.2472 9.6164 11.0827 9.09939 10.7537C8.58245 10.4153 8.17162 9.94993 7.86698 9.35772C7.57154 8.76544 7.42383 8.09329 7.42383 7.34125C7.42383 6.58919 7.57154 5.91704 7.86698 5.32481C8.16234 4.72316 8.56395 4.25782 9.07168 3.9288C9.58869 3.59037 10.1564 3.42117 10.775 3.42117C11.2181 3.42117 11.6335 3.50577 12.0213 3.67499C12.409 3.83479 12.7367 4.04161 13.0045 4.29543V4.28133C13.0045 4.03691 13.0829 3.83479 13.2399 3.67499C13.3969 3.50577 13.5953 3.42117 13.8353 3.42117ZM11.0381 9.6961C11.6381 9.6961 12.1274 9.4752 12.5059 9.03335C12.8845 8.58215 13.0737 8.01808 13.0737 7.34125C13.0737 6.6644 12.8845 6.10036 12.5059 5.64913C12.1274 5.19789 11.6381 4.97228 11.0381 4.97228C10.4473 4.97228 9.96258 5.19789 9.58408 5.64913C9.20557 6.10036 9.01632 6.6644 9.01632 7.34125C9.01632 8.01808 9.20096 8.58215 9.57025 9.03335C9.94876 9.4752 10.4381 9.6961 11.0381 9.6961Z" fill="white"/>
<path d="M18.5446 10.2461C18.5446 10.4905 18.4615 10.6973 18.2953 10.8665C18.1383 11.0264 17.9399 11.1062 17.6999 11.1062C17.4691 11.1062 17.2752 11.0264 17.1182 10.8665C16.9613 10.6973 16.8828 10.4905 16.8828 10.2461V1.53164C16.8828 1.28722 16.9613 1.08511 17.1182 0.925296C17.2844 0.756084 17.4875 0.671478 17.7276 0.671478C17.9584 0.671478 18.1522 0.756084 18.3092 0.925296C18.4661 1.08511 18.5446 1.28722 18.5446 1.53164V10.2461Z" fill="white"/>
<path d="M27.2655 7.15796C27.2562 7.38353 27.1686 7.56688 27.0024 7.7079C26.8362 7.84886 26.6423 7.9194 26.4208 7.9194H21.851C21.9618 8.47401 22.2157 8.91119 22.6127 9.23077C23.0096 9.54101 23.4574 9.6961 23.9559 9.6961C24.3344 9.6961 24.6298 9.66323 24.8422 9.59742C25.0545 9.52221 25.2207 9.447 25.3407 9.37179C25.4699 9.28718 25.5576 9.23077 25.6038 9.20257C25.7699 9.11796 25.9269 9.07568 26.0746 9.07568C26.2684 9.07568 26.4347 9.14616 26.5731 9.28718C26.7116 9.4282 26.7808 9.59269 26.7808 9.78071C26.7808 10.0345 26.6516 10.2648 26.3931 10.4717C26.1346 10.6879 25.7884 10.8712 25.3545 11.0216C24.9206 11.172 24.4821 11.2472 24.0389 11.2472C23.2635 11.2472 22.5849 11.0827 22.0034 10.7537C21.431 10.4247 20.9878 9.97347 20.674 9.39999C20.3601 8.81718 20.2031 8.16383 20.2031 7.43993C20.2031 6.6315 20.3693 5.92174 20.7016 5.3107C21.034 4.69966 21.4725 4.23433 22.0172 3.9147C22.5618 3.58567 23.1435 3.42117 23.762 3.42117C24.3713 3.42117 24.9437 3.59037 25.4792 3.9288C26.0238 4.26722 26.4577 4.72316 26.7808 5.2966C27.1039 5.87004 27.2655 6.49049 27.2655 7.15796ZM23.762 4.97228C22.6911 4.97228 22.0587 5.48461 21.8649 6.50929H25.493V6.41058C25.4561 6.01575 25.2668 5.67733 24.9252 5.39531C24.5837 5.11329 24.1959 4.97228 23.762 4.97228Z" fill="white"/>
<path d="M32.7655 3.42118C33.4025 3.42118 33.9795 3.59039 34.4965 3.92881C35.0135 4.25784 35.4197 4.71847 35.7151 5.31071C36.0197 5.90295 36.1721 6.5751 36.1721 7.32713C36.1721 8.07923 36.0243 8.75605 35.729 9.35773C35.4335 9.94994 35.0273 10.4153 34.5104 10.7537C34.0026 11.0828 33.4394 11.2473 32.8209 11.2473C32.3778 11.2473 31.9577 11.1579 31.5608 10.9793C31.173 10.7913 30.8499 10.5657 30.5914 10.3025V10.3871C30.5914 10.6315 30.513 10.8383 30.356 11.0076C30.1991 11.1673 30.0006 11.2473 29.7606 11.2473C29.5206 11.2473 29.3221 11.1673 29.1651 11.0076C29.0082 10.8477 28.9297 10.6409 28.9297 10.3871V1.53164C28.9297 1.28722 29.0082 1.08511 29.1651 0.925296C29.3221 0.756084 29.5206 0.671478 29.7606 0.671478C30.0006 0.671478 30.1991 0.756084 30.356 0.925296C30.513 1.08511 30.5914 1.28722 30.5914 1.53164V4.47875C30.813 4.19673 31.1223 3.95231 31.5192 3.7455C31.9162 3.52929 32.3316 3.42118 32.7655 3.42118ZM32.5578 9.69611C33.1487 9.69611 33.6333 9.47048 34.0118 9.01929C34.3903 8.56803 34.5796 8.00402 34.5796 7.32713C34.5796 6.65031 34.3903 6.09097 34.0118 5.64914C33.6426 5.19791 33.1579 4.97229 32.5578 4.97229C31.9577 4.97229 31.4684 5.19791 31.0899 5.64914C30.7114 6.09097 30.5222 6.65031 30.5222 7.32713C30.5222 8.00402 30.7114 8.56803 31.0899 9.01929C31.4684 9.47048 31.9577 9.69611 32.5578 9.69611Z" fill="white"/>
<path d="M44.9512 7.34125C44.9512 8.09329 44.7849 8.77017 44.4526 9.37179C44.1203 9.96407 43.6633 10.4247 43.0817 10.7537C42.5093 11.0827 41.877 11.2472 41.1845 11.2472C40.4829 11.2472 39.8459 11.0827 39.2736 10.7537C38.7012 10.4247 38.2488 9.96407 37.9165 9.37179C37.5841 8.77017 37.418 8.09329 37.418 7.34125C37.418 6.58919 37.5841 5.91704 37.9165 5.32481C38.2488 4.72316 38.7012 4.25782 39.2736 3.9288C39.8459 3.59037 40.4829 3.42117 41.1845 3.42117C41.877 3.42117 42.5093 3.59037 43.0817 3.9288C43.6633 4.25782 44.1203 4.72316 44.4526 5.32481C44.7849 5.91704 44.9512 6.58919 44.9512 7.34125ZM43.2894 7.34125C43.2894 6.88059 43.1925 6.47168 42.9986 6.11446C42.814 5.74783 42.5601 5.46581 42.237 5.2684C41.9231 5.07098 41.5723 4.97228 41.1845 4.97228C40.7968 4.97228 40.4414 5.07098 40.1183 5.2684C39.8044 5.46581 39.5505 5.74783 39.3566 6.11446C39.172 6.47168 39.0797 6.88059 39.0797 7.34125C39.0797 7.80191 39.172 8.21083 39.3566 8.56802C39.5505 8.92526 39.8044 9.20257 40.1183 9.39999C40.4414 9.59742 40.7968 9.6961 41.1845 9.6961C41.5723 9.6961 41.9231 9.59742 42.237 9.39999C42.5601 9.20257 42.814 8.92526 42.9986 8.56802C43.1925 8.21083 43.2894 7.80191 43.2894 7.34125Z" fill="white"/>
<path d="M50.189 9.51281C50.3182 9.51281 50.4336 9.57862 50.5352 9.71024C50.6459 9.83245 50.7014 9.99694 50.7014 10.2038C50.7014 10.4576 50.5629 10.6738 50.2859 10.8524C50.0182 11.0216 49.7135 11.1062 49.3719 11.1062C48.7996 11.1062 48.3149 10.984 47.9179 10.7396C47.5302 10.4858 47.3363 9.95467 47.3363 9.14616V5.2543H46.6993C46.4778 5.2543 46.2931 5.1791 46.1454 5.02868C45.9977 4.87828 45.9238 4.69026 45.9238 4.46464C45.9238 4.24843 45.9977 4.06982 46.1454 3.9288C46.2931 3.7784 46.4778 3.70319 46.6993 3.70319H47.3363V2.80072C47.3363 2.55631 47.4148 2.35419 47.5717 2.19438C47.7379 2.02517 47.941 1.94056 48.181 1.94056C48.4118 1.94056 48.6057 2.02517 48.7626 2.19438C48.9196 2.35419 48.9981 2.55631 48.9981 2.80072V3.70319H49.9813C50.2028 3.70319 50.3874 3.7784 50.5352 3.9288C50.6829 4.07922 50.7567 4.26723 50.7567 4.49284C50.7567 4.70906 50.6829 4.89238 50.5352 5.04278C50.3874 5.1838 50.2028 5.2543 49.9813 5.2543H48.9981V9.07569C48.9981 9.27311 49.0488 9.4188 49.1504 9.51281C49.2519 9.59742 49.3904 9.6397 49.5658 9.6397C49.6397 9.6397 49.7412 9.62089 49.8705 9.58329C49.9813 9.53628 50.0874 9.51281 50.189 9.51281Z" fill="white"/>
<path d="M44.9836 13.3445C45.7479 13.3445 46.3675 13.9754 46.3675 14.7537C46.3675 15.5321 45.7479 16.163 44.9836 16.163C44.2192 16.163 43.5996 15.5321 43.5996 14.7537C43.5996 13.9754 44.2192 13.3445 44.9836 13.3445Z" fill="#FDB954"/>
<path d="M41.1164 13.3445C41.8807 13.3445 42.5003 13.9754 42.5003 14.7537C42.5003 15.5321 41.8807 16.163 41.1164 16.163C40.352 16.163 39.7324 15.5321 39.7324 14.7537C39.7324 13.9754 40.352 13.3445 41.1164 13.3445Z" fill="#FDC571"/>
<path d="M37.0344 13.3445C37.7987 13.3445 38.4183 13.9754 38.4183 14.7537C38.4183 15.5321 37.7987 16.163 37.0344 16.163C36.27 16.163 35.6504 15.5321 35.6504 14.7537C35.6504 13.9754 36.27 13.3445 37.0344 13.3445Z" fill="#FED08C"/>
</svg>
</div></div><div class="pl-12 pr-12 pt-2 pb-4 border-w-1 border-white round-24 font-w-600"><span class="font-8">ЭКСКЛЮЗИВНОЕ ПРЕДЛОЖЕНИЕ</span></div><div class="svg-light-blue cursor-pointer svg-28 close_vip_banner--js"><div class="display-flex"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M7.30298 7.30292C7.59588 7.01003 8.07075 7.01003 8.36364 7.30292L12 10.9393L15.6363 7.30292C15.9292 7.01003 16.4041 7.01003 16.697 7.30292C16.9899 7.59582 16.9899 8.07069 16.697 8.36358L13.0606 11.9999L16.697 15.6363C16.9899 15.9291 16.9899 16.404 16.697 16.6969C16.4041 16.9898 15.9292 16.9898 15.6363 16.6969L12 13.0606L8.36364 16.6969C8.07075 16.9898 7.59588 16.9898 7.30298 16.6969C7.01009 16.404 7.01009 15.9291 7.30298 15.6363L10.9393 11.9999L7.30298 8.36358C7.01009 8.07069 7.01009 7.59582 7.30298 7.30292Z" fill="currentColor"/>
</svg>
</div></div></div><div class="promo-body sb-background-brand-600 pl-20 pr-20" style="padding-top: 8px"><div class="text-center" style="margin-bottom: -8px; margin-top: -14px;"><p class="font-6 font-w-700" style="color: #9FC0FB;">СТОИМОСТЬ СЕРВИСА В МЕСЯЦ</p><p class="font-18 font-w-700" style="color: #9FC0FB;margin-top: -6px;">25 000₽</p></div><div class="pb-16"><span class="font-38 font-w-700" style="color: #FDB954;">VIP</span><span class="font-38 font-w-700">-САППОРТ</span></div><div style="margin-bottom: 30px;"><div class="display-flex flex-ai-center gap-12"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect y="0.224121" width="13.552" height="13.552" rx="3.388" fill="#1A53C6"/>
<g clip-path="url(#clip0_1_1534)">
<path fill-rule="evenodd" clip-rule="evenodd" d="M10.4453 5.248L5.89969 9.79357L3.38776 7.27293L4.34768 6.31632L5.90135 7.87537L9.48698 4.28973L10.4453 5.248Z" fill="white"/>
</g>
<defs>
<clipPath id="clip0_1_1534">
<rect width="8.1312" height="8.1312" fill="white" transform="translate(2.71014 2.93475)"/>
</clipPath>
</defs>
</svg>
<span class="font-10 font-w-500">Ваш личный обученный менеджер от Salebot</span></div><div class="display-flex flex-ai-center gap-12 mt-15"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect y="0.224121" width="13.552" height="13.552" rx="3.388" fill="#1A53C6"/>
<g clip-path="url(#clip0_1_1534)">
<path fill-rule="evenodd" clip-rule="evenodd" d="M10.4453 5.248L5.89969 9.79357L3.38776 7.27293L4.34768 6.31632L5.90135 7.87537L9.48698 4.28973L10.4453 5.248Z" fill="white"/>
</g>
<defs>
<clipPath id="clip0_1_1534">
<rect width="8.1312" height="8.1312" fill="white" transform="translate(2.71014 2.93475)"/>
</clipPath>
</defs>
</svg>
<div class="font-10 font-w-500"><p>Поможем в проектировании воронок, сайта, </p><p class="margin-top: -5px">настройки CRM и других полезных решений Salebot</p></div></div><div class="display-flex flex-ai-center gap-12 mt-15"><svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect y="0.224121" width="13.552" height="13.552" rx="3.388" fill="#1A53C6"/>
<g clip-path="url(#clip0_1_1534)">
<path fill-rule="evenodd" clip-rule="evenodd" d="M10.4453 5.248L5.89969 9.79357L3.38776 7.27293L4.34768 6.31632L5.90135 7.87537L9.48698 4.28973L10.4453 5.248Z" fill="white"/>
</g>
<defs>
<clipPath id="clip0_1_1534">
<rect width="8.1312" height="8.1312" fill="white" transform="translate(2.71014 2.93475)"/>
</clipPath>
</defs>
</svg>
<span class="font-10 font-w-500">Оперативное внесение правок и доработок</span></div></div></div></div></div><div class="promo-footer pl-20 pr-20 pt-7"><div class="font-16 font-w-700 pb-12 font-color-white text-center"><p>Для приобретения</p><p style="margin-top: -5px;">обратитесь в поддержку</p></div><div class="display-flex flex-wrap"><a target="_blank" rel="noopener noreferrer" style="color: white;" class="w-100" href="https://t.me/vip_support_salebot_bot"><div class="sb-background-white round-8 display-flex flex-ai-center flex-jc-center cursor-pointer w-100" style="height: 36px;"><span class="font-16 font-w-700 font-color-brand-600">Приобрести</span></div></a><div class="font-14 font-w-700 text-center w-100 pt-12"><a target="_blank" style="color: white; text-decoration: underline;" href="/offer_vip_support.pdf">Условия оферты</a></div></div></div><img alt="Логотип" class="promo_img_1_mobile" src="/assets/promo/promo_1-db3a8d19762b934d35147a7ab2e1002a594ca84f4efa27271a455956f29453e2.png" /></div><script>$(function(){
    let local_storage_name = "vip_support_popup"
    $(".close_vip_banner--js").click(function(e){
        e.preventDefault()
        e.stopPropagation()
        localStorage.setItem(local_storage_name, "DONE")
        $("#vip_support").remove();
    })
    console.log("LOCAL STORAGE", localStorage.getItem(local_storage_name))
    if (localStorage.getItem(local_storage_name) == null) {
        $("#vip_support").removeClass("hidden");
    }
    else {
        $("#vip_support").remove();
    }
})</script></div></div><script src="https://cdn.jsdelivr.net/npm/driver.js@1.0.1/dist/driver.js.iife.js"></script><link href="https://cdn.jsdelivr.net/npm/driver.js@1.0.1/dist/driver.css" rel="stylesheet" /><script>var effect = 'slide';
var options = {direction: 'left'};
var duration = 500;
var $big_menu = $("#left_bar");
var $litle_menu = $("#litle_left_bar");
var $big_logo = $(".big_logo_header");
var $small_logo = $(".small_logo_header");
// Mobile Menu
var mobileMenuToggle = document.querySelector('.mobile-trigger-menu');
var mobMenu = document.querySelector('.big-Left-bar');
var overlay = document.querySelector('.overlay');
var bodyElement = document.body;
var mobProfileToggle = document.querySelector('.header-top__dropdown-trigger')
var mobMenuProfile = document.querySelector('.header-top__dropdown-content')
var leftBarMenu = document.querySelector('.left_bar_menu')

$(document).ready(function () {
    if ("true" === "true" && "false" === "false") {
        $.ajax({
            type: "GET",
            url: `/confirm_mail`
        })
    }
})
var stepsArray
function onboarding(script_name, step) {
    console.log("onboarding init")
    if (!script_name) return;
    let xhr = new XMLHttpRequest();
    xhr.open('GET', `${location.origin}/onboarding_scripts/${script_name}.xml`, true);
    xhr.send();

    xhr.onload = function () {
        if (xhr.readyState === 4 && xhr.status === 200) {

            let x2js = new X2JS();
            let responseJson = x2js.xml_str2json(xhr.responseText);

            let scriptList = responseJson.root.steps;
            if (!Array.isArray(scriptList)) {
                scriptList = [scriptList];
            }

            stepsArray = scriptList.map((item) => {
                return {
                    element: item.target,
                    popover: {
                        title: item.label,
                        description: item.text
                    }
                };
            });

            function logoOnboarding() {
              $('.onboarding_logo').remove();
              $('.driver-popover').prepend(`<div style="position: absolute" class="onboarding_logo">
                     <svg width="24" height="24" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                       <circle cx="20" cy="20" r="20" fill="#1A53C6"></circle>
                       <path d="M17.5113 18.2889C17.1186 18.2889 16.8002 18.6073 16.8002 19.0001V21.1334C16.8002 21.5261 17.1186 21.8445 17.5113 21.8445C17.9041 21.8445 18.2224 21.5261 18.2224 21.1334V19.0001C18.2224 18.6073 17.9041 18.2889 17.5113 18.2889Z" fill="white"></path>
                       <path d="M21.778 19.0001C21.778 18.6073 22.0964 18.2889 22.4891 18.2889C22.8818 18.2889 23.2002 18.6073 23.2002 19.0001V21.1334C23.2002 21.5261 22.8818 21.8445 22.4891 21.8445C22.0964 21.8445 21.778 21.5261 21.778 21.1334V19.0001Z" fill="white"></path>
                       <path fill-rule="evenodd" clip-rule="evenodd" d="M20.0616 12.3575C20.043 12.2089 20.123 12.0682 20.2403 11.9751C20.5273 11.7471 20.7113 11.3951 20.7113 11.0001C20.7113 10.3128 20.1542 9.75562 19.4669 9.75562C18.7796 9.75562 18.2224 10.3128 18.2224 11.0001C18.2224 11.5435 18.5708 12.0056 19.0564 12.1752C19.2119 12.2295 19.3443 12.3524 19.3647 12.5158L19.5475 13.9782C19.574 14.1904 19.4085 14.3778 19.1947 14.3778H18.9336C14.4914 14.3778 11.1113 18.0379 11.1113 21.6756V23.0356C11.1113 27.679 16.3289 28.6001 20.0002 28.6001C23.6715 28.6001 28.8891 27.679 28.8891 23.0356V21.6756C28.8891 18.0379 25.509 14.3778 21.0669 14.3778H20.628C20.4487 14.3778 20.2974 14.2443 20.2752 14.0664L20.0616 12.3575ZM13.2447 20.5467C13.2447 18.1216 16.354 15.8001 19.1896 15.8001H20.8109C23.6464 15.8001 26.7558 18.1216 26.7558 20.5467V21.4534C26.7558 24.6419 22.4079 25.0445 20.0002 25.0445C17.5925 25.0445 13.2447 24.6419 13.2447 21.4534V20.5467Z" fill="white"></path>
                     </svg>
                  </div>`)
            }

            const driver = window.driver.js.driver;
            const driverObj = driver({
                onNextClick: () => {
                    driverObj.moveNext();
                    setTimeout(logoOnboarding, 250)
                },
                onPrevClick: () => {
                    driverObj.movePrevious();
                    setTimeout(logoOnboarding, 250)
                },
                popoverClass: 'driverjs-theme',
                disableActiveInteraction: true,
                doneBtnText: 'Приступим',
                closeBtnText: 'Закрыть',
                nextBtnText: 'Далее',
                prevBtnText: 'Назад',
                showProgress: true,
                steps: stepsArray
            });
            driverObj.drive();
            driverObj.moveTo((parseInt(step) > 1 ? parseInt(step) - 1 : 0) || 0);
            console.log(stepsArray)
            logoOnboarding()
        }
    };
}

var urlParams = new URLSearchParams(window.location.search)
var script_name = urlParams.get('script_name')
if(script_name){
    var step = urlParams.get('script_step') || 0
    onboarding(script_name, step)
}


function pageCheck() {
}
// TODO из-за этого падало, надо разобраться
if (mobileMenuToggle) {
    mobileMenuToggle.addEventListener('click', function () {
        mobMenu.classList.toggle('active_mobile');
        mobileMenuToggle.classList.toggle('mobile-trigger-menu--active');
        overlay.classList.add('overlay_active');
        bodyElement.classList.add('body-mobile-active');
        // if (mobMenuProfile.classList.contains('active_mobile_profile')) {
        //   mobMenuProfile.classList.remove('active_mobile_profile');
        // }
        if (!mobMenu.classList.contains('active_mobile')) {
            overlay.classList.remove('overlay_active');
        }
        if (mobMenu.style.width == '0px') {
            mobMenu.style.width = '300px'
        }
    });

    window.addEventListener('resize', function () {
        $(mobMenu).removeClass('active_mobile');
        $(mobileMenuToggle).removeClass('mobile-trigger-menu--active');
        $(overlay).removeClass('overlay_active')
        $(bodyElement).removeClass('body-mobile-active');
    })

    overlay.addEventListener('click', function () {
        overlay.classList.remove('overlay_active');
        mobileMenuToggle.classList.remove('mobile-trigger-menu--active');
        mobMenu.classList.remove('active_mobile');
        bodyElement.classList.remove('body-mobile-active');
        // mobMenuProfile.classList.remove('active_mobile_profile');
    });


    leftBarMenu.addEventListener("click", function () {
        overlay.classList.remove('overlay_active');
        mobileMenuToggle.classList.remove('mobile-trigger-menu--active');
        mobMenu.classList.remove('active_mobile');
        bodyElement.classList.remove('body-mobile-active');
    })
}
// if(mobProfileToggle) {
//     mobProfileToggle.addEventListener('click', function () {
//         mobMenuProfile.classList.toggle('active_mobile_profile')
//         bodyElement.classList.add('body-mobile-active');
//         $(".overlay").toggleClass('overlay_active')
//         if (mobMenu.classList.contains('active_mobile')) {
//             mobMenu.classList.remove('active_mobile');
//             console.log("check")
//         }
//         if (!mobMenuProfile.classList.contains('active_mobile_profile')) {
//             mobileMenuToggle.classList.remove('mobile-trigger-menu--active');
//             mobMenu.classList.remove('active_mobile');
//             bodyElement.classList.remove('body-mobile-active');
//             overlay.classList.remove('overlay_active');
//         }
//     })
// }
$(window).ready(function (){
    if($('.mini-left-bar').css('display') == 'flex') {
        $('.count-circle_unread_messages').css({'position': 'absolute', 'margin-left': '26px'})
        $('.count-circle_left_bar').css({'position': 'absolute', 'margin-left': '26px'})
        $('.count-circle__unchecked_homework').css({'position': 'absolute', 'margin-left': '26px'})
    } else if ($('.mini-left-bar').css('display') == 'none') {
        return null
    }
})

// Скрытые левого меню
var leftMenuArrow = document.querySelector('.left_menu_arrow_trigger')
var bigLeftBar = document.querySelector('.big-Left-bar')
// var miniLeftBar = document.querySelector('.mini-Left-bar')

if(leftMenuArrow){
  $(leftMenuArrow).off('click').on('click', function () {
    bigLeftBar.style.display = 'none'
    miniLeftBar.style.display = 'block'

    if (currentPage.includes("/pipelines")) {
      setGridAreaWidth()
    }
  })
}

//размер сетки календаря в црм в зависимости от меню
function setGridAreaWidth() {
    let sideMenu = localStorage.getItem("sideMenuStatus")
    if (sideMenu == 'true') {
        $('.calendar_crm__grid_header').css('min-width', 'calc(100vw - 185px)')
    } else {
        $('.calendar_crm__grid_header').css('min-width', 'calc(100vw - 415px)')
    }
}

// Красный кружок в левом меню
var redCircle = document.querySelector('.count-circle')
var miniLeftBar = document.querySelector('.mini-left-bar')



if ($(window).width() > 0) {
    $big_menu.find(".menu").click(function () {
        changeMenu($big_menu, $litle_menu);
        changeMenu($big_logo, $small_logo);
    });

    $litle_menu.find(".menu").click(function () {
        changeMenu($litle_menu, $big_menu);
        changeMenu($small_logo, $big_logo);
    });

    function changeMenu(first, second) {
        first.toggle(effect, options, duration);
        second.toggle(effect, options, duration);
        if ($(window).width() > 994) {
            $('#workflow').animate({'margin-left': second.css('width')}, duration);
            $(".speed_notification").animate({'margin-left': second.css('width')}, duration);
            $("#new_notification").animate({'left': second.css('width')}, duration);
            // $(".language-swap").animate({'margin-left': parseInt(second.css("width")) + 10 + "px"}, duration, "linear");
        }
        if (first[0].id != '') {
            docCookies.setItem("used_menu", second[0].id, '', '/');
        }
    }
}
// else {
//     $('.mobile-trigger-menu').on('click', function () {
//         $('.mobile-trigger-menu').toggleClass('mobile-trigger-menu--active')
//         let trigger = $big_menu.css('display') == "none"
//         $big_menu.toggle(effect, options, duration);
//         $(".navbar-fixed").animate({'left': trigger ? $big_menu.css('width'):"0"}, duration);
//         $('#workflow').animate({'left': trigger ? $big_menu.css('width'):"0"}, duration);
//         $('#new_notification').animate({'left': trigger ? $big_menu.css('width'):"0"}, duration);
//         trigger ? $("html").css("overflow", "hidden") : $("html").css("overflow", "auto")
//     })
//     $('.menu_item').on('click', function () {
//         $('.mobile-trigger-menu').toggleClass('mobile-trigger-menu--active')
//         let trigger = $big_menu.css('display') == "none"
//         $big_menu.toggle(effect, options, duration);
//         $(".navbar-fixed").animate({'left': trigger ? $big_menu.css('width') : "0"}, duration);
//         $('#workflow').animate({'left': trigger ? $big_menu.css('width') : "0"}, duration);
//         $('#new_notification').animate({'left': trigger ? $big_menu.css('width') : "0"}, duration);
//         trigger ? $("html").css("overflow", "hidden") : $("html").css("overflow", "auto")
//     })
// }


$(".language-swap-select").click(function(){
  var container = $(this).children(".language-swap-select_container");
  if(container.css("display") == 'none'){
    container.show()
  }else{
    container.hide()
  }
})
$(document).mouseup(function (e) {
  $(".language-swap-select").is(e.target) || 0 !== $(".language-swap-select").has(e.target).length || $(".language-swap-select_container").hide()
})

$('.mobile-trigger-profile').on('click', function () {
  $('.mobile-trigger-profile').toggleClass('mobile-trigger-profile--active')
  $('.profile-bar').toggleClass('profile-bar--active')
    if( !$('.customer_notification__modal').hasClass('hidden')) {
        $('.customer_notification__modal').addClass('hidden')
    }
})

$('.left_bar_container')
  .on('mouseenter', function () {
    arrowDisplay(true)
  })      .on('mouseleave', function () {
  arrowDisplay(false)
})

$('.desktop_logo')
  .on('mouseenter', function() {
    arrowDisplay(true)
  })      .on('mouseleave', function() {
  arrowDisplay(false)
})

function arrowDisplay(bool) {
  if(bool){
    $('.left_menu_arrow_trigger').addClass('left_menu_arrow_trigger--active')
  } else {
    $('.left_menu_arrow_trigger').removeClass('left_menu_arrow_trigger--active')
  }
}

var sideMenu = (window.innerWidth > 1024 || window.innerWidth < 660);

if(localStorage.getItem("sideMenuStatus")) {
  sideMenu = localStorage.getItem("sideMenuStatus") === "true"
}
var currentPage =  window.location.href;

if (currentPage.includes('clients') && window.innerWidth < 1451) {
    sideMenu = false
    localStorage.setItem("sideMenuStatus", false)
}

$('.menu_item').off().on('click', function (){
    sideMenuSwitcher()
})

$('.big_logo_header').css("overflow","hidden")
function sideMenuSwitcher(click = false) {
  let bigWidth = window.innerWidth > 1599?  "300px" : "240px",
    bigLogoWidth = window.innerWidth > 1599?  "301px" : "241px",
    forTransition = window.innerWidth > 1599?  "310px" : "255px",
    miniWidth = "70px",
    miniLogoWidth = "72px",
    zeroWidth = "0",
    arrow = $('.left_menu_arrow_trigger').children(),
    arrowPosition = window.innerWidth > 1599? "285px" : "225px",
    mobileWidth = (window.innerWidth < 661);
  if(mobileWidth) {
    return
  }
  if(click) {
    //Анимириуем при клике
    if(sideMenu) {
      $(".big-Left-bar").css({"width": zeroWidth, "display": "block"}).animate({"width" : bigWidth,}, 200)
      $(".big_logo_header").css({"width": zeroWidth, "display": "block"}).animate({"width" : bigLogoWidth}, 200)
      $(".mini-left-bar").css("display", "block").animate({'width': zeroWidth}, 300);
      $(".small_logo_header").css("display", "block").animate({"width": zeroWidth, "opacity": "0"}, 300)
      $(".for_transition").animate({"left": forTransition}, 100)
      $('.left_menu_arrow_trigger').animate({ "left" : arrowPosition}, 200)
      $(arrow).css({"transform":"rotate(180deg)"})
      $("#workflow").animate({"margin-left" : bigWidth}, 200)
      $(".header_title_text").animate( {"left" : bigWidth}, 100)
      $("#conf_notification").animate( {"left" : bigWidth}, 100)
      $("#new_notification").animate( {"left" : bigWidth}, 100)
      $('.count-circle_unread_messages').css({"position": "unset", "margin-left": "6px", "left": "unset"})
      $('.count-circle_left_bar').css({"position": "unset", "margin-left": "6px", "left": "unset"})
      $('.count-circle__unchecked_homework').css({"position": "unset", "margin-left": "6px", "left": "unset"})
      $('.arrow-for-full').animate({"left": forTransition}, 100)
      $('.select_area_button').animate({"left": forTransition}, 100)
      $('.mailing-footer').removeClass('mailing-footer--mini')

      if (currentPage.includes("clients/")) {
        if (window.innerWidth < 1051 && window.innerWidth > 916) {
          $('.client-show__board_container').css('min-width', '100%')
          $('.client-show__board_container').css('max-width', '100%')
          $('.client-show__board_container').css('margin-right', '-100%')
          $('.m-categories').css('margin', 'unset')
          $('.m-categories').css('justify-content', 'flex-start')
          $('.m-categories').css('max-width', '60%')
          $(".client-show__sidebar").css('max-width', '100%')
          $(".client-show__board_container").addClass('hide_right_bar')
          $(".client-show__chat").addClass('hide_on_tablet_flex')
          $(".client-show__chat").addClass('client-show__chat-hide')
        }
      }
      sideMenu = false
      localStorage.setItem("sideMenuStatus", "false")

      if (currentPage.includes("/pipelines")) {
          toggleScreenMap()
      }
      if (currentPage.includes("/statistic")) {
          statisticStyleGraph(34, '440px')
      }

    } else {
      if (currentPage.includes("clients/")) {
        if (window.innerWidth < 1051 && window.innerWidth > 916) {
          $('.chat-header__retry-btn').css('display', 'none')
          $('.client-show__board_container').css('min-width', 'calc(100% - 350px)')
          $('.client-show__board_container').css('max-width', 'calc(100% - 350px)')
          $('.client-show__board_container').css('margin-right', 'calc(350px - 100%)')
          $('.m-categories').css('margin', '0 auto')
          $('.m-categories').css('max-width', '100%')
          $('.m-categories').css('justify-content', 'normal')
          $(".client-show__sidebar").css('max-width', '350px')
          $(".client-show__sidebar").removeClass('hidden')
          $(".client-show__chat").removeClass('hide_on_tablet_flex')
          $(".client-show__chat").removeClass('client-show__chat-hide')
          $(".client-show__board_container").addClass('hide_right_bar')
          if (window.innerWidth > 916) {
            $(".client-show__chat").off('click')
          }
        }
      }
      $('.mailing-footer').addClass('mailing-footer--mini')
      $(".big-Left-bar").css({"width": bigWidth, "display": "block"}).animate({"width": zeroWidth,}, 200)
      $(".big_logo_header").css({"width": bigLogoWidth, "display": "block"}).animate({ "width": zeroWidth}, 200)
      $(".mini-left-bar").css("display", "block").animate({'width': miniWidth}, 200);
      $(".small_logo_header").css("display", "block").animate({"width": miniLogoWidth, "display": "none", "opacity": "1"}, 200)
      $(".for_transition").animate({"left": "85px"}, 100)
      $('.left_menu_arrow_trigger').animate({"left" : "55px"}, 300)
      $(arrow).css({"transform":"rotate(0deg)"})
      $("#workflow").animate( {"margin-left" : miniWidth}, 300)
      $(".header_title_text").animate( {"left" : miniWidth}, 100)
      $("#conf_notification").animate( {"left" : miniWidth}, 100)
      $("#new_notification").animate( {"left" : miniWidth}, 100)
      $('.count-circle__unchecked_homework').css({"position": "absolute", "left": "30px"})
      $('.count-circle_unread_messages').css({"position": "absolute", "left": "30px"})
      $('.count-circle_left_bar').css({"position": "absolute", "left": "30px"})
      $('.arrow-for-full').animate({"left": "85px"}, 100)
      $('.select_area_button').animate({"left": "85px"}, 100)
      sideMenu = true
      localStorage.setItem("sideMenuStatus", "true")

      if (currentPage.includes("/pipelines")) {
        toggleScreenMap()
      }
      if (currentPage.includes("/statistic")) {
          statisticStyleGraph(36, '500px')
      }
    }
    //Выравнивает конструктор, не убирать!!!
    setTimeout(function() {
      window.dispatchEvent(new Event('resize'));
      resizeContent()
    }, 310)
  } else {
    // Состояние без анимации при загрузке страницы
    if(!sideMenu){
      $(".big-Left-bar").css({"width": bigWidth, "display" : "block", "opacity" : "1"})
      $(".big_logo_header").css({"width": bigLogoWidth, "display" : "block"})
      $(".mini-left-bar").css({"width": zeroWidth, "display" : "none"})
      $(".small_logo_header").css({"width": zeroWidth, "opacity": "0", "display" : "none"})
      $("#workflow").css("margin-left", bigWidth)
      $("#conf_notification").css( {"left" : bigWidth})
      $("#new_notification").css( {"left" : bigWidth})
      $('.left_menu_arrow_trigger').css({'left': arrowPosition})
      $(arrow).css({'transform':'rotate(180deg)'})
      $('.count-circle_unread_messages').css({"position": "unset", "margin-left": '6px', "left": "unset"})
      $('.count-circle_left_bar').css({"position": "unset", "margin-left": '6px', "left": "unset"})
      $('.count-circle__unchecked_homework').css({"position": "unset", "margin-left": '6px', "left": "unset"})
      $('.mailing-footer').removeClass('mailing-footer--mini')
      setTimeout(function (){
        if ((window.location.href.includes("mini_landing_pages/") && window.location.href.includes("edit")) || window.location.href.includes("pipelines") || window.location.href.includes("lesson_edit") || window.location.href.includes("clients")) {
          smallMenu()
          sideMenu = true
          localStorage.setItem("sideMenuStatus", true)
        }
      }, 100)
    } else {
      smallMenu()
    }
  }
  function smallMenu(){
    $(".big-Left-bar").css({"width": zeroWidth, "display": "none"})
    $(".big_logo_header").css({"width": zeroWidth, "display": "none"})
    $(".mini-left-bar").css({"width": miniWidth, "display": "block"})
    $(".small_logo_header").css({"width": miniLogoWidth, "display": "block", "opacity": "1"})
    $("#workflow").css("margin-left", miniWidth)
    $("#conf_notification").css({"left": miniWidth})
    $("#new_notification").css({"left": miniWidth})
    $('.left_menu_arrow_trigger').css({"left": "55px"})
    $(arrow).css({'transform': 'rotate(0deg)'})
    $('.count-circle__unchecked_homework').css({"position": "absolute", "left": "30px"})
    $('.count-circle_unread_messages').css({"position": "absolute", "left": "30px"})
    $('.count-circle_left_bar').css({"position": "absolute", "left": "30px"})
    $('.mailing-footer').addClass('mailing-footer--mini')
  }
}

function statisticStyleGraph(span, height){
    if ($(window).width() >= 1845 && $('#litle_left_bar').css('display') === 'block') {
        $('.clients_summary').css('grid-row', `span ${span}`)
        $('.clients_summary__content').css('height', height)
    }
}


function resizeContent() {
  if(localStorage.getItem("sideMenuStatus") === "true" && window.innerWidth > 660){
    let left = parseInt($("#paper-html-elements").css('left'), 10);
    let width = $("#paper-html-elements").width() - 70
    if(left < 70){
      $('#paper-html-elements').css({
        "width": `${width}px`,
        "left": '70px'
      })
      $('.for_transition').css('left', "85px")
    }
  }
}

if(currentPage.includes("projects/")){
  if(localStorage.getItem("sideMenuStatus") === "true"){
    if ($("#header_name_project").hasClass("hidden")) {
      $("#header_name_project").removeClass("hidden")
    }
  } else {
    if (!$("#header_name_project").hasClass("hidden")) {
      $("#header_name_project").addClass("hidden")
    }
  }
  //Выравнивает конструктор, не убирать!!!
  $(document).on('mouseup touchend', function() {
    $("#editor").trigger('resize')
    resizeContent()
  });
  sideMenuSwitcher()
  pageCheck()
  $(".left_menu_arrow_trigger").off().on("click", function () {
    if ($("#header_name_project").hasClass("hidden")){
      $("#header_name_project").removeClass("hidden")
    }
    else{
      $("#header_name_project").addClass("hidden")
    }
    sideMenuSwitcher(true)
  })
  // Выравнивает конструктор, не убирать!!!
  setTimeout(function () {
    window.dispatchEvent(new Event('resize'));
    $("#editor").trigger('resize')
  }, 5)
} else{
  $('.big_logo_header').show()
  if(window.innerWidth < 992 && window.innerWidth > 660) {
    $('.big_logo_header').css("margin-left", "50px")
    $('.mobile_logo_profile').hide()
  }
  $('.left_menu_arrow_trigger').hide()
}</script></main><script src="/js/salebot.js"></script><script>SaleBotPro.init({
    onlineChatId: '225'
});</script></body></html><script src="/assets/header-81f402a87c78556373506a87fc034d6dd5201f2163101ae98a2db2c1b84f66f4.js"></script>